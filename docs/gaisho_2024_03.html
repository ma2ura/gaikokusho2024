<!DOCTYPE html>
<html lang="ja"><head>
<script src="gaisho_2024_03_files/libs/clipboard/clipboard.min.js"></script>
<script src="gaisho_2024_03_files/libs/quarto-html/tabby.min.js"></script>
<script src="gaisho_2024_03_files/libs/quarto-html/popper.min.js"></script>
<script src="gaisho_2024_03_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="gaisho_2024_03_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="gaisho_2024_03_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="gaisho_2024_03_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="gaisho_2024_03_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.5.56">

  <meta name="author" content="Soichi Matsuura">
  <title>å¤–å›½æ›¸è³¼èª­ Day3  Analysis of Accounting Transactions</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="gaisho_2024_03_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="gaisho_2024_03_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="gaisho_2024_03_files/libs/revealjs/dist/theme/quarto.css">
  <link rel="stylesheet" href="mystyle.css">
  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css">
  <link href="gaisho_2024_03_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="gaisho_2024_03_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="gaisho_2024_03_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="gaisho_2024_03_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="gaisho_2024_03_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="gaisho_2024_03_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="gaisho_2024_03_files/libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="gaisho_2024_03_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">
  <style>
  .v-center-container {
    display: flex;
    justify-content: center;
    align-items: center;
  }
  </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/monaco-editor@0.47.0/min/vs/editor/editor.main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
  <style type="text/css">
  .monaco-editor pre {
    background-color: unset !important;
  }

  .qwebr-editor-toolbar {
    width: 100%;
    display: flex;
    justify-content: space-between;
    box-sizing: border-box;
  }

  .qwebr-editor-toolbar-left-buttons, .qwebr-editor-toolbar-right-buttons {
    display: flex;
  }

  .qwebr-non-interactive-loading-container.qwebr-cell-needs-evaluation, .qwebr-non-interactive-loading-container.qwebr-cell-evaluated {
    justify-content: center;
    display: flex;
    background-color: rgba(250, 250, 250, 0.65);
    border: 1px solid rgba(233, 236, 239, 0.65);
    border-radius: 0.5rem;
    margin-top: 15px;
    margin-bottom: 15px;
  }

  .qwebr-r-project-logo {
    color: #2767B0; /* R Project's blue color */
  }

  .qwebr-icon-status-spinner {
    color: #7894c4;
  }

  .qwebr-icon-run-code {
    color: #0d9c29
  }

  body.quarto-light .qwebr-output-code-stdout {
    color: #111;
  }

  body.quarto-dark .qwebr-output-code-stdout {
    color: #EEE;
  }

  .qwebr-output-code-stderr {
    color: #db4133;
  }

  body.quarto-light .qwebr-editor {
    border: 1px solid #EEEEEE;
  }

  body.quarto-light .qwebr-editor-toolbar {
    background-color: #EEEEEE;
    padding: 0.2rem 0.5rem;
  }

  body.quarto-dark .qwebr-editor {
    border: 1px solid #111;
  }

  body.quarto-dark .qwebr-editor-toolbar {
    background-color: #111;
    padding: 0.2rem 0.5rem;
  }

  .qwebr-button {
    display: inline-block;
    font-weight: 400;
    line-height: 1;
    text-decoration: none;
    text-align: center;
    padding: 0.375rem 0.75rem;
    font-size: .9rem;
    border-radius: 0.25rem;
    transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;
  }

  body.quarto-light .qwebr-button {
    background-color: #EEEEEE;
    color: #000;
    border-color: #dee2e6;
    border: 1px solid rgba(0,0,0,0);
  }

  body.quarto-dark .qwebr-button {
    background-color: #111;
    color: #EEE;
    border-color: #dee2e6;
    border: 1px solid rgba(0,0,0,0);
  }

  body.quarto-light .qwebr-button:hover {
    color: #000;
    background-color: #d9dce0;
    border-color: #c8ccd0;
  }

  body.quarto-dark .qwebr-button:hover {
    color: #d9dce0;
    background-color: #323232;
    border-color: #d9dce0;
  }

  .qwebr-button:disabled,.qwebr-button.disabled,fieldset:disabled .qwebr-button {
    pointer-events: none;
    opacity: .65
  }

  .qwebr-button-reset {
    color: #696969; /*#4682b4;*/
  }

  .qwebr-button-copy {
    color: #696969;
  }

  /* Style the code highlight lines */
  body.quarto-light .qwebr-editor-highlight-line {
    background-color: lightblue;
  }

  body.quarto-dark .qwebr-editor-highlight-line {
    background-color: darkblue;
  }

  /* Style the modal pop-up */

  /* The Modal (background) */
  .qwebr-modal {
    display: none; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    overflow: auto; /* Enable scroll if needed */
    background-color: rgb(0,0,0); /* Fallback color */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    padding-top: 60px;
  }

  /* Modal Content */
  .qwebr-modal-content {
    background-color: #fefefe;
    margin: 5% auto; /* 15% from the top and centered */
    padding: 20px;
    border: 1px solid #888;
    width: 80%; /* Could be more or less, depending on screen size */
  }

  .qwebr-modal-content-code {
    max-height: 50vh;
    min-height: 5vh;
    overflow: scroll;
    border: 1px solid #888;
  }

  /* The Close Button */
  .qwebr-modal-close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
  }

  .qwebr-modal-close:hover,
  .qwebr-modal-close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
  }

  .qwebr-download-btn {
    margin-top: 10px;
    text-decoration: none !important;
  }

  /* Styling to download image that is created */

  .qwebr-canvas-image {
    position: relative;
    display: inline-block;
    margin: 10px;
  }

  .qwebr-canvas-image-download-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    padding: 5px 10px;
    background-color: #007BFF;
    color: white;
    border: none;
    cursor: pointer;
    display: none;
  }

  figure:hover .qwebr-canvas-image-download-btn {
    display: block;
  }

  /* Custom styling for RevealJS Presentations*/

  /* Reset the style of the interactive area */
  .reveal div.qwebr-interactive-area {
    display: block;
    box-shadow: none;
    max-width: 100%;
    max-height: 100%;
    margin: 0;
    padding: 0;
  } 

  /* Provide space to entries */
  .reveal div.qwebr-output-code-area pre div {
    margin: 1px 2px 1px 10px;
  }

  /* Collapse the inside code tags to avoid extra space between line outputs */
  .reveal pre div code.qwebr-output-code-stdout, .reveal pre div code.qwebr-output-code-stderr {
    padding: 0;
    display: contents;
  }

  body.reveal.quarto-light pre div code.qwebr-output-code-stdout {
    color: #111;
  }

  body.reveal.quarto-dark pre div code.qwebr-output-code-stdout {
    color: #EEEEEE;
  }

  .reveal pre div code.qwebr-output-code-stderr {
    color: #db4133;
  }


  /* Create a border around console and output (does not effect graphs) */
  body.reveal.quarto-light div.qwebr-console-area {
    border: 1px solid #EEEEEE;
    box-shadow: 2px 2px 10px #EEEEEE;
  }

  body.reveal.quarto-dark div.qwebr-console-area {
    border: 1px solid #111;
    box-shadow: 2px 2px 10px #111;
  }


  /* Cap output height and allow text to scroll */
  /* TODO: Is there a better way to fit contents/max it parallel to the monaco editor size? */
  .reveal div.qwebr-output-code-area pre {
    max-height: 400px;
    overflow: scroll;
  }

  </style>
  <script type="module">
  // Document level settings ----

  // Determine if we need to install R packages
  globalThis.qwebrInstallRPackagesList = ['dplyr', 'lubridate', 'readr'];

  // Specify possible locations to search for the repository
  globalThis.qwebrPackageRepoURLS = ['https://repo.r-wasm.org/'];

  // Check to see if we have an empty array, if we do set to skip the installation.
  globalThis.qwebrSetupRPackages = !(qwebrInstallRPackagesList.indexOf("") !== -1);
  globalThis.qwebrAutoloadRPackages = true;

  // Display a startup message?
  globalThis.qwebrShowStartupMessage = true;
  globalThis.qwebrShowHeaderMessage = false;

  // Describe the webR settings that should be used
  globalThis.qwebrCustomizedWebROptions = {
    "baseURL": "https://webr.r-wasm.org/v0.4.0/",
    "serviceWorkerUrl": "",
    "homedir": "/home/web_user", 
    "channelType": "ChannelType.Automatic"
  };

  // Store cell data
  globalThis.qwebrCellDetails = [{"code":"d <- c(1, 2, 3, \"4\", 5)\n# What is the class of d?\nclass(d)\n\ne <- c(1, 2, 3, NA, 5, 6)\n# What is the class of e?\nclass(e)","id":1,"options":{"output":"true","fig-cap":"","autorun":"false","editor-quick-suggestions":"false","comment":"","read-only":"false","editor-word-wrap":"true","editor-max-height":"","context":"interactive","dpi":72,"fig-width":7,"message":"true","classes":"","results":"markup","out-width":"700px","out-height":"","label":"unnamed-chunk-1","editor-font-scale":"0.5","fig-height":5,"warning":"true"}},{"code":"mydata <- data.frame(\n  ID = c(1, 2, 3, 4),\n  Color = c(\"red\", \"white\", \"red\", NA),\n  Passed = c(TRUE, TRUE, TRUE, FALSE)\n)\n\n# mydataã‹ã‚‰Colorã‚’å–ã‚Šå‡ºã™\n\n# mydataã‹ã‚‰IDã®3ç•ªç›®ã®è¦ç´ ã‚’å–ã‚Šå‡ºã™","id":2,"options":{"output":"true","fig-cap":"","autorun":"false","editor-quick-suggestions":"false","comment":"","read-only":"false","editor-word-wrap":"true","editor-max-height":"","context":"interactive","dpi":72,"fig-width":7,"message":"true","classes":"","results":"markup","out-width":"700px","out-height":"","label":"unnamed-chunk-2","editor-font-scale":"0.5","fig-height":5,"warning":"true"}},{"code":"mylist <- list(\n  a = c(\"one\", \"two\", \"three\"),\n  b = c(1,2,3),\n  c = matrix(1:9, nrow = 3)\n)\n# mylistã‹ã‚‰aã‚’å–ã‚Šå‡ºã™\n\n# mylistã‹ã‚‰bã®2ç•ªç›®ã®è¦ç´ ã‚’å–ã‚Šå‡ºã™","id":3,"options":{"output":"true","fig-cap":"","autorun":"false","editor-quick-suggestions":"false","comment":"","read-only":"false","editor-word-wrap":"true","editor-max-height":"","context":"interactive","dpi":72,"fig-width":7,"message":"true","classes":"","results":"markup","out-width":"700px","out-height":"","label":"unnamed-chunk-3","editor-font-scale":"0.5","fig-height":5,"warning":"true"}},{"code":"# 2024å¹´10æœˆ16æ—¥ã‚’æ—¥ä»˜ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆstartã¨ã—ã¦ä½œæˆ\n\n# 2025å¹´10æœˆ16æ—¥ã‚’æ—¥ä»˜ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆendã¨ã—ã¦ä½œæˆ\n\n# start ã‹ã‚‰å¹´ã‚’year, æœˆã‚’monthã¨ã—ã¦ä½œæˆ","id":4,"options":{"output":"true","fig-cap":"","autorun":"false","editor-quick-suggestions":"false","comment":"","read-only":"false","editor-word-wrap":"true","editor-max-height":"","context":"interactive","dpi":72,"fig-width":7,"message":"true","classes":"","results":"markup","out-width":"700px","out-height":"","label":"unnamed-chunk-4","editor-font-scale":"0.5","fig-height":5,"warning":"true"}}];

  </script>
  <script type="module">
  // Declare startupMessageQWebR globally
  globalThis.qwebrStartupMessage = document.createElement("p");

  // Verify if OffScreenCanvas is supported
  globalThis.qwebrOffScreenCanvasSupport = function() {
    return typeof OffscreenCanvas !== 'undefined'
  }

  // Function to set the button text
  globalThis.qwebrSetInteractiveButtonState = function(buttonText, enableCodeButton = true) {
    document.querySelectorAll(".qwebr-button-run").forEach((btn) => {
      btn.innerHTML = buttonText;
      btn.disabled = !enableCodeButton;
    });
  }

  // Function to update the status message in non-interactive cells
  globalThis.qwebrUpdateStatusMessage = function(message) {
    document.querySelectorAll(".qwebr-status-text.qwebr-cell-needs-evaluation").forEach((elem) => {
      elem.innerText = message;
    });
  }

  // Function to update the status message
  globalThis.qwebrUpdateStatusHeader = function(message) {
    qwebrStartupMessage.innerHTML = `
      <i class="fa-solid fa-spinner fa-spin qwebr-icon-status-spinner"></i>
      <span>${message}</span>`;
  }

  // Function to return true if element is found, false if not
  globalThis.qwebrCheckHTMLElementExists = function(selector) {
    const element = document.querySelector(selector);
    return !!element;
  }

  // Function that detects whether reveal.js slides are present
  globalThis.qwebrIsRevealJS = function() {
    // If the '.reveal .slides' selector exists, RevealJS is likely present
    return qwebrCheckHTMLElementExists('.reveal .slides');
  }

  // Initialize the Quarto sidebar element
  function qwebrSetupQuartoSidebar() {
    var newSideBarDiv = document.createElement('div');
    newSideBarDiv.id = 'quarto-margin-sidebar';
    newSideBarDiv.className = 'sidebar margin-sidebar';
    newSideBarDiv.style.top = '0px';
    newSideBarDiv.style.maxHeight = 'calc(0px + 100vh)';

    return newSideBarDiv;
  }

  // Position the sidebar in the document
  function qwebrPlaceQuartoSidebar() {
    // Get the reference to the element with id 'quarto-document-content'
    var referenceNode = document.getElementById('quarto-document-content');

    // Create the new div element
    var newSideBarDiv = qwebrSetupQuartoSidebar();

    // Insert the new div before the 'quarto-document-content' element
    referenceNode.parentNode.insertBefore(newSideBarDiv, referenceNode);
  }

  function qwebrPlaceMessageContents(content, html_location = "title-block-header", revealjs_location = "title-slide") {

    // Get references to header elements
    const headerHTML = document.getElementById(html_location);
    const headerRevealJS = document.getElementById(revealjs_location);

    // Determine where to insert the quartoTitleMeta element
    if (headerHTML || headerRevealJS) {
      // Append to the existing "title-block-header" element or "title-slide" div
      (headerHTML || headerRevealJS).appendChild(content);
    } else {
      // If neither headerHTML nor headerRevealJS is found, insert after "webr-monaco-editor-init" script
      const monacoScript = document.getElementById("qwebr-monaco-editor-init");
      const header = document.createElement("header");
      header.setAttribute("id", "title-block-header");
      header.appendChild(content);
      monacoScript.after(header);
    }
  }



  function qwebrOffScreenCanvasSupportWarningMessage() {
    
    // Verify canvas is supported.
    if(qwebrOffScreenCanvasSupport()) return;

    // Create the main container div
    var calloutContainer = document.createElement('div');
    calloutContainer.classList.add('callout', 'callout-style-default', 'callout-warning', 'callout-titled');

    // Create the header div
    var headerDiv = document.createElement('div');
    headerDiv.classList.add('callout-header', 'd-flex', 'align-content-center');

    // Create the icon container div
    var iconContainer = document.createElement('div');
    iconContainer.classList.add('callout-icon-container');

    // Create the icon element
    var iconElement = document.createElement('i');
    iconElement.classList.add('callout-icon');

    // Append the icon element to the icon container
    iconContainer.appendChild(iconElement);

    // Create the title container div
    var titleContainer = document.createElement('div');
    titleContainer.classList.add('callout-title-container', 'flex-fill');
    titleContainer.innerText = 'Warning: Web Browser Does Not Support Graphing!';

    // Append the icon container and title container to the header div
    headerDiv.appendChild(iconContainer);
    headerDiv.appendChild(titleContainer);

    // Create the body container div
    var bodyContainer = document.createElement('div');
    bodyContainer.classList.add('callout-body-container', 'callout-body');

    // Create the paragraph element for the body content
    var paragraphElement = document.createElement('p');
    paragraphElement.innerHTML = 'This web browser does not have support for displaying graphs through the <code>quarto-webr</code> extension since it lacks an <code>OffScreenCanvas</code>. Please upgrade your web browser to one that supports <code>OffScreenCanvas</code>.';

    // Append the paragraph element to the body container
    bodyContainer.appendChild(paragraphElement);

    // Append the header div and body container to the main container div
    calloutContainer.appendChild(headerDiv);
    calloutContainer.appendChild(bodyContainer);

    // Append the main container div to the document depending on format
    qwebrPlaceMessageContents(calloutContainer, "title-block-header"); 

  }


  // Function that attaches the document status message and diagnostics
  function displayStartupMessage(showStartupMessage, showHeaderMessage) {
    if (!showStartupMessage) {
      return;
    }

    // Create the outermost div element for metadata
    const quartoTitleMeta = document.createElement("div");
    quartoTitleMeta.classList.add("quarto-title-meta");

    // Create the first inner div element
    const firstInnerDiv = document.createElement("div");
    firstInnerDiv.setAttribute("id", "qwebr-status-message-area");

    // Create the second inner div element for "WebR Status" heading and contents
    const secondInnerDiv = document.createElement("div");
    secondInnerDiv.setAttribute("id", "qwebr-status-message-title");
    secondInnerDiv.classList.add("quarto-title-meta-heading");
    secondInnerDiv.innerText = "WebR Status";

    // Create another inner div for contents
    const secondInnerDivContents = document.createElement("div");
    secondInnerDivContents.setAttribute("id", "qwebr-status-message-body");
    secondInnerDivContents.classList.add("quarto-title-meta-contents");

    // Describe the WebR state
    qwebrStartupMessage.innerText = "ðŸŸ¡ Loading...";
    qwebrStartupMessage.setAttribute("id", "qwebr-status-message-text");
    // Add `aria-live` to auto-announce the startup status to screen readers
    qwebrStartupMessage.setAttribute("aria-live", "assertive");

    // Append the startup message to the contents
    secondInnerDivContents.appendChild(qwebrStartupMessage);

    // Add a status indicator for COOP and COEP Headers if needed
    if (showHeaderMessage) {
      const crossOriginMessage = document.createElement("p");
      crossOriginMessage.innerText = `${crossOriginIsolated ? 'ðŸŸ¢' : 'ðŸŸ¡'} COOP & COEP Headers`;
      crossOriginMessage.setAttribute("id", "qwebr-coop-coep-header");
      secondInnerDivContents.appendChild(crossOriginMessage);
    }

    // Combine the inner divs and contents
    firstInnerDiv.appendChild(secondInnerDiv);
    firstInnerDiv.appendChild(secondInnerDivContents);
    quartoTitleMeta.appendChild(firstInnerDiv);

    // Place message on webpage
    qwebrPlaceMessageContents(quartoTitleMeta); 
  }

  function qwebrAddCommandHistoryModal() {
    // Create the modal div
    var modalDiv = document.createElement('div');
    modalDiv.id = 'qwebr-history-modal';
    modalDiv.className = 'qwebr-modal';

    // Create the modal content div
    var modalContentDiv = document.createElement('div');
    modalContentDiv.className = 'qwebr-modal-content';

    // Create the span for closing the modal
    var closeSpan = document.createElement('span');
    closeSpan.id = 'qwebr-command-history-close-btn';
    closeSpan.className = 'qwebr-modal-close';
    closeSpan.innerHTML = '&times;';

    // Create the h1 element for the modal
    var modalH1 = document.createElement('h1');
    modalH1.textContent = 'R History Command Contents';

    // Create an anchor element for downloading the Rhistory file 
    var downloadLink = document.createElement('a');
    downloadLink.href = '#';
    downloadLink.id = 'qwebr-download-history-btn';
    downloadLink.className = 'qwebr-download-btn';

    // Create an 'i' element for the icon
    var icon = document.createElement('i');
    icon.className = 'bi bi-file-code';

    // Append the icon to the anchor element
    downloadLink.appendChild(icon);

    // Add the text 'Download R History' to the anchor element
    downloadLink.appendChild(document.createTextNode(' Download R History File'));

    // Create the pre for command history contents
    var commandContentsPre = document.createElement('pre');
    commandContentsPre.id = 'qwebr-command-history-contents';
    commandContentsPre.className = 'qwebr-modal-content-code';

    // Append the close span, h1, and history contents pre to the modal content div
    modalContentDiv.appendChild(closeSpan);
    modalContentDiv.appendChild(modalH1);
    modalContentDiv.appendChild(downloadLink);
    modalContentDiv.appendChild(commandContentsPre);

    // Append the modal content div to the modal div
    modalDiv.appendChild(modalContentDiv);

    // Append the modal div to the body
    document.body.appendChild(modalDiv);
  }

  function qwebrRegisterRevealJSCommandHistoryModal() {
    // Select the <ul> element inside the <div> with data-panel="Custom0"
    let ulElement = document.querySelector('div[data-panel="Custom0"] > ul.slide-menu-items');

    // Find the last <li> element with class slide-tool-item
    let lastItem = ulElement.querySelector('li.slide-tool-item:last-child');

    // Calculate the next data-item value
    let nextItemValue = 0;
    if (lastItem) {
        nextItemValue = parseInt(lastItem.dataset.item) + 1;
    }

    // Create a new <li> element
    let newListItem = document.createElement('li');
    newListItem.className = 'slide-tool-item';
    newListItem.dataset.item = nextItemValue.toString(); // Set the next available data-item value

    // Create the <a> element inside the <li>
    let newLink = document.createElement('a');
    newLink.href = '#';
    newLink.id = 'qwebrRHistoryButton'; // Set the ID for the new link
    
    // Create the <kbd> element inside the <a>
    let newKbd = document.createElement('kbd');
    newKbd.textContent = ' '; // Set to empty as we are not registering a keyboard shortcut

    // Create text node for the link text
    let newText = document.createTextNode(' View R History');

    // Append <kbd> and text node to <a>
    newLink.appendChild(newKbd);
    newLink.appendChild(newText);

    // Append <a> to <li>
    newListItem.appendChild(newLink);

    // Append <li> to <ul>
    ulElement.appendChild(newListItem);
  }

  // Handle setting up the R history modal
  function qwebrCodeLinks() {

    if (qwebrIsRevealJS()) {
      qwebrRegisterRevealJSCommandHistoryModal();
      return;
    }

    // Create the container div
    var containerDiv = document.createElement('div');
    containerDiv.className = 'quarto-code-links';

    // Create the h2 element
    var h2 = document.createElement('h2');
    h2.textContent = 'webR Code Links';

    // Create the ul element
    var ul = document.createElement('ul');

    // Create the li element
    var li = document.createElement('li');

    // Create the a_history_btn element
    var a_history_btn = document.createElement('a');
    a_history_btn.href = 'javascript:void(0)';
    a_history_btn.setAttribute('id', 'qwebrRHistoryButton');

    // Create the i_history_btn element
    var i_history_btn = document.createElement('i');
    i_history_btn.className = 'bi bi-file-code';

    // Create the text node for the link text
    var text_history_btn = document.createTextNode('View R History');

    // Append the icon element and link text to the a element
    a_history_btn.appendChild(i_history_btn);
    a_history_btn.appendChild(text_history_btn);

    // Append the a element to the li element
    li.appendChild(a_history_btn);

    // Append the li element to the ul element
    ul.appendChild(li);

    // Append the h2 and ul elements to the container div
    containerDiv.appendChild(h2);
    containerDiv.appendChild(ul);

    // Append the container div to the element with the ID 'quarto-margin-sidebar'
    var sidebar = document.getElementById('quarto-margin-sidebar');
      
    // If the sidebar element is not found, create it
    if(!sidebar) {
      qwebrPlaceQuartoSidebar();
    }
    
    // Re-select the sidebar element (if it was just created)
    sidebar = document.getElementById('quarto-margin-sidebar');   


    // If the sidebar element exists, append the container div to it
    if(sidebar) {
      // Append the container div to the sidebar
      sidebar.appendChild(containerDiv);
      // Force the sidebar to be clickable by removing the 'zindex-bottom' class
      // added in pre-release: https://github.com/quarto-dev/quarto-cli/commit/f0c53a1ffcaa1de4eccbf07803b096898248adcc
      sidebar.className = 'sidebar margin-sidebar';
    } else {
      // Get a debugger ...
      console.warn('Element with ID "quarto-margin-sidebar" not found.');
    }
  }

  // Call the function to append the code links for qwebR into the right sidebar
  qwebrCodeLinks();

  // Add the command history modal
  qwebrAddCommandHistoryModal();

  displayStartupMessage(qwebrShowStartupMessage, qwebrShowHeaderMessage);
  qwebrOffScreenCanvasSupportWarningMessage();
  </script>
  <script type="module">
  // Define a global storage and retrieval solution ----

  // Store commands executed in R
  globalThis.qwebrRCommandHistory = [];

  // Function to retrieve the command history
  globalThis.qwebrFormatRHistory = function() {
     return qwebrRCommandHistory.join("\n\n");
  }

  // Retrieve HTML Elements ----

  // Get the command modal
  const command_history_modal = document.getElementById("qwebr-history-modal");

  // Get the button that opens the command modal
  const command_history_btn = document.getElementById("qwebrRHistoryButton");

  // Get the <span> element that closes the command modal
  const command_history_close_span = document.getElementById("qwebr-command-history-close-btn");

  // Get the download button for r history information
  const command_history_download_btn = document.getElementById("qwebr-download-history-btn");

  // Plug in command history into modal/download button ----

  // Function to populate the modal with command history
  function populateCommandHistoryModal() {
      document.getElementById("qwebr-command-history-contents").innerHTML = qwebrFormatRHistory() || "No commands have been executed yet.";
  }

  // Function to format the current date and time to
  // a string with the format YYYY-MM-DD-HH-MM-SS
  function formatDateTime() {
      const now = new Date();

      const year = now.getFullYear();
      const day = String(now.getDate()).padStart(2, '0');
      const month = String(now.getMonth() + 1).padStart(2, '0'); // Months are zero-based
      const hours = String(now.getHours()).padStart(2, '0');
      const minutes = String(now.getMinutes()).padStart(2, '0');
      const seconds = String(now.getSeconds()).padStart(2, '0');

      return `${year}-${month}-${day}-${hours}-${minutes}-${seconds}`;
  }


  // Function to convert document title with datetime to a safe filename
  function safeFileName() {
      // Get the current page title
      let pageTitle = document.title;

      // Combine the current page title with the current date and time
      let pageNameWithDateTime = `Rhistory-${pageTitle}-${formatDateTime()}`;

      // Replace unsafe characters with safe alternatives
      let safeFilename = pageNameWithDateTime.replace(/[\\/:\*\?! "<>\|]/g, '-');

      return safeFilename;
  }


  // Function to download list contents as text file
  function downloadRHistory() {
      // Get the current page title + datetime and use it as the filename
      const filename = `${safeFileName()}.R`;

      // Get the text contents of the R History list
      const text = qwebrFormatRHistory();

      // Create a new Blob object with the text contents
      const blob = new Blob([text], { type: 'text/plain' });
    
      // Create a new anchor element for the download
      const a = document.createElement('a');
      a.style.display = 'none';
      a.href = URL.createObjectURL(blob);
      a.download = filename;

      // Append the anchor to the body, click it, and remove it
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
  }

  // Register event handlers ----

  // When the user clicks the View R History button, open the command modal
  command_history_btn.onclick = function() {
      populateCommandHistoryModal();
      command_history_modal.style.display = "block";
  }

  // When the user clicks on <span> (x), close the command modal
  command_history_close_span.onclick = function() {
      command_history_modal.style.display = "none";
  }

  // When the user clicks anywhere outside of the command modal, close it
  window.onclick = function(event) {
      if (event.target == command_history_modal) {
          command_history_modal.style.display = "none";
      }
  }

  // Add an onclick event listener to the download button so that
  // the user can download the R history as a text file
  command_history_download_btn.onclick = function() {
      downloadRHistory();
  };
  </script>
  <script type="module">
  // Supported Evaluation Types for Context
  globalThis.EvalTypes = Object.freeze({
    Interactive: 'interactive',
    Setup: 'setup',
    Output: 'output',
  });

  // Function that obtains the font size for a given element 
  globalThis.qwebrCurrentFontSizeOnElement = function(element, cssProperty = 'font-size') {

    const currentFontSize = parseFloat(
      window
      .getComputedStyle(element)
      .getPropertyValue(cssProperty)
    );
    
    return currentFontSize;
  }

  // Function to determine font scaling
  globalThis.qwebrScaledFontSize = function(div, qwebrOptions) {
    // Determine if we should compute font-size using RevealJS's `--r-main-font-size` 
    // or if we can directly use the document's `font-size`.
    const cssProperty = document.body.classList.contains('reveal') ? 
      "--r-main-font-size" : "font-size";
    
    // Get the current font size on the div element
    const elementFontSize = qwebrCurrentFontSizeOnElement(div, cssProperty);

    // Determine the scaled font size value
    const scaledFontSize = ((qwebrOptions['editor-font-scale'] ?? 1) * elementFontSize) ?? 17.5;

    return scaledFontSize;
  }


  // Function that dispatches the creation request
  globalThis.qwebrCreateHTMLElement = function (
    cellData
  ) {

    // Extract key components
    const evalType = cellData.options.context;
    const qwebrCounter = cellData.id;

    // We make an assumption that insertion points are defined by the Lua filter as:
    // qwebr-insertion-location-{qwebrCounter} 
    const elementLocator = document.getElementById(`qwebr-insertion-location-${qwebrCounter}`);

    // Figure out the routine to use to insert the element.
    let qwebrElement;
    switch ( evalType ) {
      case EvalTypes.Interactive:
        qwebrElement = qwebrCreateInteractiveElement(qwebrCounter, cellData.options);
        break;
      case EvalTypes.Output: 
        qwebrElement = qwebrCreateNonInteractiveOutputElement(qwebrCounter, cellData.options);
        break;
      case EvalTypes.Setup: 
        qwebrElement = qwebrCreateNonInteractiveSetupElement(qwebrCounter, cellData.options);
        break;
      default: 
        qwebrElement = document.createElement('div');
        qwebrElement.textContent = 'Error creating `quarto-webr` element';
    }

    // Insert the dynamically generated object at the document location.
    elementLocator.appendChild(qwebrElement);
  };

  // Function that setups the interactive element creation
  globalThis.qwebrCreateInteractiveElement = function (qwebrCounter, qwebrOptions) {

    // Create main div element
    var mainDiv = document.createElement('div');
    mainDiv.id = 'qwebr-interactive-area-' + qwebrCounter;
    mainDiv.className = `qwebr-interactive-area`;
    if (qwebrOptions.classes) {
      mainDiv.className += " " + qwebrOptions.classes
    }

    // Add a unique cell identifier that users can customize
    if (qwebrOptions.label) {
      mainDiv.setAttribute('data-id', qwebrOptions.label);
    }

    // Create toolbar div
    var toolbarDiv = document.createElement('div');
    toolbarDiv.className = 'qwebr-editor-toolbar';
    toolbarDiv.id = 'qwebr-editor-toolbar-' + qwebrCounter;

    // Create a div to hold the left buttons
    var leftButtonsDiv = document.createElement('div');
    leftButtonsDiv.className = 'qwebr-editor-toolbar-left-buttons';

    // Create a div to hold the right buttons
    var rightButtonsDiv = document.createElement('div');
    rightButtonsDiv.className = 'qwebr-editor-toolbar-right-buttons';

    // Create Run Code button
    var runCodeButton = document.createElement('button');
    runCodeButton.className = 'btn btn-default qwebr-button qwebr-button-run';
    runCodeButton.disabled = true;
    runCodeButton.type = 'button';
    runCodeButton.id = 'qwebr-button-run-' + qwebrCounter;
    runCodeButton.textContent = 'ðŸŸ¡ Loading webR...';
    runCodeButton.title = `Run code (Shift + Enter)`;

    // Append buttons to the leftButtonsDiv
    leftButtonsDiv.appendChild(runCodeButton);

    // Create Reset button
    var resetButton = document.createElement('button');
    resetButton.className = 'btn btn-light btn-xs qwebr-button qwebr-button-reset';
    resetButton.type = 'button';
    resetButton.id = 'qwebr-button-reset-' + qwebrCounter;
    resetButton.title = 'Start over';
    resetButton.innerHTML = '<i class="fa-solid fa-arrows-rotate"></i>';

    // Create Copy button
    var copyButton = document.createElement('button');
    copyButton.className = 'btn btn-light btn-xs qwebr-button qwebr-button-copy';
    copyButton.type = 'button';
    copyButton.id = 'qwebr-button-copy-' + qwebrCounter;
    copyButton.title = 'Copy code';
    copyButton.innerHTML = '<i class="fa-regular fa-copy"></i>';

    // Append buttons to the rightButtonsDiv
    rightButtonsDiv.appendChild(resetButton);
    rightButtonsDiv.appendChild(copyButton);

    // Create console area div
    var consoleAreaDiv = document.createElement('div');
    consoleAreaDiv.id = 'qwebr-console-area-' + qwebrCounter;
    consoleAreaDiv.className = 'qwebr-console-area';

    // Create editor div
    var editorDiv = document.createElement('div');
    editorDiv.id = 'qwebr-editor-' + qwebrCounter;
    editorDiv.className = 'qwebr-editor';

    // Create output code area div
    var outputCodeAreaDiv = document.createElement('div');
    outputCodeAreaDiv.id = 'qwebr-output-code-area-' + qwebrCounter;
    outputCodeAreaDiv.className = 'qwebr-output-code-area';
    outputCodeAreaDiv.setAttribute('aria-live', 'assertive');

    // Create pre element inside output code area
    var preElement = document.createElement('pre');
    preElement.style.visibility = 'hidden';
    outputCodeAreaDiv.appendChild(preElement);

    // Create output graph area div
    var outputGraphAreaDiv = document.createElement('div');
    outputGraphAreaDiv.id = 'qwebr-output-graph-area-' + qwebrCounter;
    outputGraphAreaDiv.className = 'qwebr-output-graph-area';

    // Append buttons to the toolbar
    toolbarDiv.appendChild(leftButtonsDiv);
    toolbarDiv.appendChild(rightButtonsDiv);

    // Append all elements to the main div
    mainDiv.appendChild(toolbarDiv);
    consoleAreaDiv.appendChild(editorDiv);
    consoleAreaDiv.appendChild(outputCodeAreaDiv);
    mainDiv.appendChild(consoleAreaDiv);
    mainDiv.appendChild(outputGraphAreaDiv);

    return mainDiv;
  }

  // Function that adds output structure for non-interactive output
  globalThis.qwebrCreateNonInteractiveOutputElement = function(qwebrCounter, qwebrOptions) {
    // Create main div element
    var mainDiv = document.createElement('div');
    mainDiv.id = 'qwebr-noninteractive-area-' + qwebrCounter;
    mainDiv.className = `qwebr-noninteractive-area`;
    if (qwebrOptions.classes) {
      mainDiv.className += " " + qwebrOptions.classes
    }
    
    // Add a unique cell identifier that users can customize
    if (qwebrOptions.label) {
      mainDiv.setAttribute('data-id', qwebrOptions.label);
    }
    
    // Create a status container div
    var statusContainer = createLoadingContainer(qwebrCounter);

    // Create output code area div
    var outputCodeAreaDiv = document.createElement('div');
    outputCodeAreaDiv.id = 'qwebr-output-code-area-' + qwebrCounter;
    outputCodeAreaDiv.className = 'qwebr-output-code-area';
    outputCodeAreaDiv.setAttribute('aria-live', 'assertive');

    // Create pre element inside output code area
    var preElement = document.createElement('pre');
    preElement.style.visibility = 'hidden';
    outputCodeAreaDiv.appendChild(preElement);

    // Create output graph area div
    var outputGraphAreaDiv = document.createElement('div');
    outputGraphAreaDiv.id = 'qwebr-output-graph-area-' + qwebrCounter;
    outputGraphAreaDiv.className = 'qwebr-output-graph-area';

    // Append all elements to the main div
    mainDiv.appendChild(statusContainer);
    mainDiv.appendChild(outputCodeAreaDiv);
    mainDiv.appendChild(outputGraphAreaDiv);

    return mainDiv;
  };

  // Function that adds a stub in the page to indicate a setup cell was used.
  globalThis.qwebrCreateNonInteractiveSetupElement = function(qwebrCounter, qwebrOptions) {
    // Create main div element
    var mainDiv = document.createElement('div');
    mainDiv.id = `qwebr-noninteractive-setup-area-${qwebrCounter}`;
    mainDiv.className = `qwebr-noninteractive-setup-area`;
    if (qwebrOptions.classes) {
      mainDiv.className += " " + qwebrOptions.classes
    }


    // Add a unique cell identifier that users can customize
    if (qwebrOptions.label) {
      mainDiv.setAttribute('data-id', qwebrOptions.label);
    }

    // Create a status container div
    var statusContainer = createLoadingContainer(qwebrCounter);

    // Append status onto the main div
    mainDiv.appendChild(statusContainer);

    return mainDiv;
  }


  // Function to create loading container with specified ID
  globalThis.createLoadingContainer = function(qwebrCounter) {

    // Create a status container
    const container = document.createElement('div');
    container.id = `qwebr-non-interactive-loading-container-${qwebrCounter}`;
    container.className = 'qwebr-non-interactive-loading-container qwebr-cell-needs-evaluation';

    // Create an R project logo to indicate its a code space
    const rProjectIcon = document.createElement('i');
    rProjectIcon.className = 'fa-brands fa-r-project fa-3x qwebr-r-project-logo';

    // Setup a loading icon from font awesome
    const spinnerIcon = document.createElement('i');
    spinnerIcon.className = 'fa-solid fa-spinner fa-spin fa-1x qwebr-icon-status-spinner';

    // Add a section for status text
    const statusText = document.createElement('p');
    statusText.id = `qwebr-status-text-${qwebrCounter}`;
    statusText.className = `qwebr-status-text qwebr-cell-needs-evaluation`;
    statusText.innerText = 'Loading webR...';

    // Incorporate an inner container
    const innerContainer = document.createElement('div');

    // Append elements to the inner container
    innerContainer.appendChild(spinnerIcon);
    innerContainer.appendChild(statusText);

    // Append elements to the main container
    container.appendChild(rProjectIcon);
    container.appendChild(innerContainer);

    return container;
  }
  </script>
  <script type="module">
  // Function to install a single package
  async function qwebrInstallRPackage(packageName) {
    await mainWebR.evalRVoid(`webr::install('${packageName}');`);
  }

  // Function to load a single package
  async function qwebrLoadRPackage(packageName) {
    await mainWebR.evalRVoid(`require('${packageName}', quietly = TRUE)`);
  }

  // Generic function to process R packages
  async function qwebrProcessRPackagesWithStatus(packages, processType, displayStatusMessageUpdate = true) {
    // Switch between contexts
    const messagePrefix = processType === 'install' ? 'Installing' : 'Loading';

    // Modify button state
    qwebrSetInteractiveButtonState(`ðŸŸ¡ ${messagePrefix} package ...`, false);

    // Iterate over packages
    for (let i = 0; i < packages.length; i++) {
      const activePackage = packages[i];
      const formattedMessage = `${messagePrefix} package ${i + 1} out of ${packages.length}: ${activePackage}`;

      // Display the update in header
      if (displayStatusMessageUpdate) {
        qwebrUpdateStatusHeader(formattedMessage);
      }

      // Display the update in non-active areas
      qwebrUpdateStatusMessage(formattedMessage);

      // Run package installation
      if (processType === 'install') {
        await qwebrInstallRPackage(activePackage);
      } else {
        await qwebrLoadRPackage(activePackage);
      }
    }

    // Clean slate
    if (processType === 'load') {
      await mainWebR.flush();
    }
  }

  // Start a timer
  const initializeWebRTimerStart = performance.now();

  // Encase with a dynamic import statement
  globalThis.qwebrInstance = import(qwebrCustomizedWebROptions.baseURL + "webr.mjs").then(
    async ({ WebR, ChannelType }) => {
      // Populate WebR options with defaults or new values based on `webr` meta
      globalThis.mainWebR = new WebR(qwebrCustomizedWebROptions);

      // Initialization WebR
      await mainWebR.init();

      // Setup a shelter
      globalThis.mainWebRCodeShelter = await new mainWebR.Shelter();

      // Setup a pager to allow processing help documentation 
      await mainWebR.evalRVoid('webr::pager_install()'); 

      // Override the existing install.packages() to use webr::install()
      await mainWebR.evalRVoid('webr::shim_install()'); 

      // Specify the repositories to pull from
      // Note: webR does not use the `repos` option, but instead uses `webr_pkg_repos`
      // inside of `install()`. However, other R functions still pull from `repos`.
      await mainWebR.evalRVoid(`
        options(
          webr_pkg_repos = c(${qwebrPackageRepoURLS.map(repoURL => `'${repoURL}'`).join(',')}),
          repos = c(${qwebrPackageRepoURLS.map(repoURL => `'${repoURL}'`).join(',')})
        )
      `);

      // Check to see if any packages need to be installed
      if (qwebrSetupRPackages) {
        // Obtain only a unique list of packages
        const uniqueRPackageList = Array.from(new Set(qwebrInstallRPackagesList));

        // Install R packages one at a time (either silently or with a status update)
        await qwebrProcessRPackagesWithStatus(uniqueRPackageList, 'install', qwebrShowStartupMessage);

        if (qwebrAutoloadRPackages) {
          // Load R packages one at a time (either silently or with a status update)
          await qwebrProcessRPackagesWithStatus(uniqueRPackageList, 'load', qwebrShowStartupMessage);
        }
      }
    }
  );

  // Stop timer
  const initializeWebRTimerEnd = performance.now();

  </script>
  <script type="module">
  // Function to verify a given JavaScript Object is empty
  globalThis.qwebrIsObjectEmpty = function (arr) {
      return Object.keys(arr).length === 0;
  }

  // Global version of the Escape HTML function that converts HTML 
  // characters to their HTML entities.
  globalThis.qwebrEscapeHTMLCharacters = function(unsafe) {
      return unsafe
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/"/g, "&quot;")
        .replace(/'/g, "&#039;");
    };

  // Passthrough results
  globalThis.qwebrIdentity = function(x) {
      return x;
  };

  // Append a comment
  globalThis.qwebrPrefixComment = function(x, comment) {
      return `${comment}${x}`;
  };

  // Function to store the code in the history
  globalThis.qwebrLogCodeToHistory = function(codeToRun, options) {
      qwebrRCommandHistory.push(
          `# Ran code in ${options.label} at ${new Date().toLocaleString()} ----\n${codeToRun}`
      );
  }

  // Function to attach a download button onto the canvas
  // allowing the user to download the image.
  function qwebrImageCanvasDownloadButton(canvas, canvasContainer) {

      // Create the download button
      const downloadButton = document.createElement('button');
      downloadButton.className = 'qwebr-canvas-image-download-btn';
      downloadButton.textContent = 'Download Image';
      canvasContainer.appendChild(downloadButton);

      // Trigger a download of the image when the button is clicked
      downloadButton.addEventListener('click', function() {
          const image = canvas.toDataURL('image/png');
          const link = document.createElement('a');
          link.href = image;
          link.download = 'qwebr-canvas-image.png';
          link.click();
      });
    }
    

  // Function to parse the pager results
  globalThis.qwebrParseTypePager = async function (msg) { 

      // Split out the event data
      const { path, title, deleteFile } = msg.data; 

      // Process the pager data by reading the information from disk
      const paged_data = await mainWebR.FS.readFile(path).then((data) => {
          // Obtain the file content
          let content = new TextDecoder().decode(data);

          // Remove excessive backspace characters until none remain
          while(content.match(/.[\b]/)){
          content = content.replace(/.[\b]/g, '');
          }

          // Returned cleaned data
          return content;
      });

      // Unlink file if needed
      if (deleteFile) { 
          await mainWebR.FS.unlink(path); 
      } 

      // Return extracted data with spaces
      return paged_data;
  } 

  // Function to run the code using webR and parse the output
  globalThis.qwebrComputeEngine = async function(
      codeToRun, 
      elements, 
      options) {

      // Call into the R compute engine that persists within the document scope.
      // To be prepared for all scenarios, the following happens: 
      // 1. We setup a canvas device to write to by making a namespace call into the {webr} package
      // 2. We use values inside of the options array to set the figure size.
      // 3. We capture the output stream information (STDOUT and STERR)
      // 4. We disable the current device's image creation.
      // 5. Piece-wise parse the results into the different output areas

      // Create a pager variable for help/file contents
      let pager = [];

      // Handle how output is processed
      let showMarkup = options.results === "markup" && options.output !== "asis";
      let processOutput;

      if (showMarkup) {
          processOutput = qwebrEscapeHTMLCharacters;
      } else {
          processOutput = qwebrIdentity;
      }

      // ---- 
      // Convert from Inches to Pixels by using DPI (dots per inch)
      // for bitmap devices (dpi * inches = pixels)
      let fig_width = options["fig-width"] * options["dpi"]
      let fig_height = options["fig-height"] * options["dpi"]

      // Initialize webR
      await mainWebR.init();

      // Configure capture output
      let captureOutputOptions = {
          withAutoprint: true,
          captureStreams: true,
          captureConditions: false,
          // env: webR.objs.emptyEnv, // maintain a global environment for webR v0.2.0
      };
      
      // Determine if the browser supports OffScreen
      if (qwebrOffScreenCanvasSupport()) {
          // Mirror default options of webr::canvas()
          // with changes to figure height and width.
          captureOutputOptions.captureGraphics = {
              width: fig_width,
              height: fig_height,
              bg: "white", // default: transparent
              pointsize: 12,
              capture: true
          };
      }  else {
          // Disable generating graphics
          captureOutputOptions.captureGraphics = false;
      }

      // Store the code to run in history
      qwebrLogCodeToHistory(codeToRun, options);

      // Setup a webR canvas by making a namespace call into the {webr} package
      // Evaluate the R code
      // Remove the active canvas silently
      const result = await mainWebRCodeShelter.captureR(
          `${codeToRun}`,
          captureOutputOptions
      );

      // -----

      // Start attempting to parse the result data
      processResultOutput:try {
          
          // Avoid running through output processing
          if (options.results === "hide" || options.output === "false") { 
              break processResultOutput; 
          }

          // Merge output streams of STDOUT and STDErr (messages and errors are combined.)
          // Require both `warning` and `message` to be true to display `STDErr`. 
          const out = result.output
          .filter(
              evt => evt.type === "stdout" || 
              ( evt.type === "stderr" && (options.warning === "true" && options.message === "true")) 
          )
          .map((evt, index) => {
              const className = `qwebr-output-code-${evt.type}`;
              const outputResult = qwebrPrefixComment(processOutput(evt.data), options.comment);
              return `<code id="${className}-editor-${elements.id}-result-${index + 1}" class="${className}">${outputResult}</code>`;
          })
          .join("\n");


          // Clean the state
          // We're now able to process pager events.
          // As a result, we cannot maintain a true 1-to-1 output order 
          // without individually feeding each line
          const msgs = await mainWebR.flush();

          // Use `map` to process the filtered "pager" events asynchronously
          const pager = await Promise.all(
              msgs.filter(msg => msg.type === 'pager').map(
                  async (msg) => {
                      return await qwebrParseTypePager(msg);
                  }
              )
          );

          // Nullify the output area of content
          elements.outputCodeDiv.innerHTML = "";
          elements.outputGraphDiv.innerHTML = "";

          // Design an output object for messages
          const pre = document.createElement("pre");
          if (/\S/.test(out)) {
              // Display results as HTML elements to retain output styling
              const div = document.createElement("div");
              div.innerHTML = out;

              // Calculate a scaled font-size value
              const scaledFontSize = qwebrScaledFontSize(
                  elements.outputCodeDiv, options);

              // Override output code cell size
              pre.style.fontSize = `${scaledFontSize}px`;
              pre.appendChild(div);
          } else {
              // If nothing is present, hide the element.
              pre.style.visibility = "hidden";
          }

          elements.outputCodeDiv.appendChild(pre);

          // Determine if we have graphs to display
          if (result.images.length > 0) {

              // Create figure element
              const figureElement = document.createElement("figure");
              figureElement.className = "qwebr-canvas-image";

              // Place each rendered graphic onto a canvas element
              result.images.forEach((img) => {

                  // Construct canvas for object
                  const canvas = document.createElement("canvas");

                  // Add an image download button
                  qwebrImageCanvasDownloadButton(canvas, figureElement);

                  // Set canvas size to image
                  canvas.width = img.width;
                  canvas.height = img.height;

                  // Apply output truncations
                  canvas.style.width = options["out-width"] ? options["out-width"] : `${fig_width}px`;
                  if (options["out-height"]) {
                      canvas.style.height = options["out-height"];
                  }

                  // Apply styling
                  canvas.style.display = "block";
                  canvas.style.margin = "auto";

                  // Draw image onto Canvas
                  const ctx = canvas.getContext("2d");
                  ctx.drawImage(img, 0, 0, img.width, img.height);
            
                  // Append canvas to figure output area
                  figureElement.appendChild(canvas);

              });
              
              if (options['fig-cap']) {
                  // Create figcaption element
                  const figcaptionElement = document.createElement('figcaption');
                  figcaptionElement.innerText = options['fig-cap'];
                  // Append figcaption to figure
                  figureElement.appendChild(figcaptionElement);    
              }
          
              elements.outputGraphDiv.appendChild(figureElement);

          }

          // Display the pager data
          if (pager) {
          // Use the `pre` element to preserve whitespace.
          pager.forEach((paged_data, index) => {
              let pre_pager = document.createElement("pre");
              pre_pager.innerText = paged_data;
              pre_pager.classList.add("qwebr-output-code-pager");
              pre_pager.setAttribute("id", `qwebr-output-code-pager-editor-${elements.id}-result-${index + 1}`);
              elements.outputCodeDiv.appendChild(pre_pager);
          });
          }
      } finally {
          // Clean up the remaining code
          mainWebRCodeShelter.purge();
      }
  }

  // Function to execute the code (accepts code as an argument)
  globalThis.qwebrExecuteCode = async function (
      codeToRun,
      id,
      options = {}) {

      // If options are not passed, we fall back on the bare minimum to handle the computation
      if (qwebrIsObjectEmpty(options)) {
          options = { 
              "context": "interactive", 
              "fig-width": 7, "fig-height": 5, 
              "out-width": "700px", "out-height": "", 
              "dpi": 72,
              "results": "markup", 
              "warning": "true", "message": "true",
          };
      }

      // Next, we access the compute areas values
      const elements = {
          runButton: document.getElementById(`qwebr-button-run-${id}`),
          outputCodeDiv: document.getElementById(`qwebr-output-code-area-${id}`),
          outputGraphDiv: document.getElementById(`qwebr-output-graph-area-${id}`),
          id: id,
      }

      // Disallowing execution of other code cells
      document.querySelectorAll(".qwebr-button-run").forEach((btn) => {
          btn.disabled = true;
      });

      if (options.context == EvalTypes.Interactive) {
          // Emphasize the active code cell
          elements.runButton.innerHTML = '<i class="fa-solid fa-spinner fa-spin qwebr-icon-status-spinner"></i> <span>Run Code</span>';
      }

      // Evaluate the code and parse the output into the document
      await qwebrComputeEngine(codeToRun, elements, options);

      // Switch to allowing execution of code
      document.querySelectorAll(".qwebr-button-run").forEach((btn) => {
          btn.disabled = false;
      });

      if (options.context == EvalTypes.Interactive) {
          // Revert to the initial code cell state
          elements.runButton.innerHTML = '<i class="fa-solid fa-play qwebr-icon-run-code"></i> <span>Run Code</span>';
      }
  }

  </script>
</head>
<body class="quarto-light">
<script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.47.0/min/vs/loader.js"></script>
<script type="module" id="qwebr-monaco-editor-init">

  // Configure the Monaco Editor's loader
  require.config({
    paths: {
      'vs': 'https://cdn.jsdelivr.net/npm/monaco-editor@0.47.0/min/vs'
    }
  });
</script>
<script type="module">
// Function to update Monaco Editors when body class changes
function updateMonacoEditorsOnBodyClassChange() {
    // Select the body element
    const body = document.querySelector('body');

    // Options for the observer (which mutations to observe)
    const observerOptions = {
        attributes: true,  // Observe changes to attributes
        attributeFilter: ['class'] // Only observe changes to the 'class' attribute
    };

    // Callback function to execute when mutations are observed
    const bodyClassChangeCallback = function(mutationsList, observer) {
        for(let mutation of mutationsList) {
            if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
                // Class attribute has changed
                // Update all Monaco Editors on the page
                updateMonacoEditorTheme();
            }
        }
    };

    // Create an observer instance linked to the callback function
    const observer = new MutationObserver(bodyClassChangeCallback);

    // Start observing the target node for configured mutations
    observer.observe(body, observerOptions);
}

// Function to update all instances of Monaco Editors on the page
function updateMonacoEditorTheme() {
    // Determine what VS Theme to use
    const vsThemeToUse = document.body.classList.contains("quarto-dark") ? 'vs-dark' : 'vs' ;

    // Iterate through all initialized Monaco Editors
    qwebrEditorInstances.forEach( function(editorInstance) { 
        editorInstance.updateOptions({ theme: vsThemeToUse }); 
    });
}

// Call the function to start observing changes to body class
updateMonacoEditorsOnBodyClassChange();
</script>
<script type="module">
// Global array to store Monaco Editor instances
globalThis.qwebrEditorInstances = [];

function isValidCodeLineNumbers(stringCodeLineNumbers) {
  // Regular expression to match valid input strings
  const regex = /^(\d+(-\d+)?)(,\d+(-\d+)?)*$/;
  return regex.test(stringCodeLineNumbers);
}

// Function that builds and registers a Monaco Editor instance    
globalThis.qwebrCreateMonacoEditorInstance = function (cellData) {

  const initialCode = cellData.code;
  const qwebrCounter = cellData.id;
  const qwebrOptions = cellData.options;

  // Retrieve the previously created document elements
  let runButton = document.getElementById(`qwebr-button-run-${qwebrCounter}`);
  let resetButton = document.getElementById(`qwebr-button-reset-${qwebrCounter}`);
  let copyButton = document.getElementById(`qwebr-button-copy-${qwebrCounter}`);
  let editorDiv = document.getElementById(`qwebr-editor-${qwebrCounter}`);

  // Load the Monaco Editor and create an instance
  let editor;
  require(['vs/editor/editor.main'], function () {
    editor = monaco.editor.create(editorDiv, {
      value: initialCode,
      language: 'r',
      theme: 'vs-light',
      automaticLayout: true,           // Works wonderfully with RevealJS
      scrollBeyondLastLine: false,
      minimap: {
        enabled: false
      },
      fontSize: qwebrScaledFontSize(editorDiv, qwebrOptions),         
      renderLineHighlight: "none",      // Disable current line highlighting
      hideCursorInOverviewRuler: true,  // Remove cursor indictor in right hand side scroll bar
      readOnly: qwebrOptions['read-only'] ?? false,
      quickSuggestions: qwebrOptions['editor-quick-suggestions'] ?? false,
      wordWrap: (qwebrOptions['editor-word-wrap'] == 'true' ? "on" : "off")
    });

    // Store the official counter ID to be used in keyboard shortcuts
    editor.__qwebrCounter = qwebrCounter;

    // Store the official div container ID
    editor.__qwebrEditorId = `qwebr-editor-${qwebrCounter}`;

    // Store the initial code value and options
    editor.__qwebrinitialCode = initialCode;
    editor.__qwebrOptions = qwebrOptions;

    // Set at the model level the preferred end of line (EOL) character to LF.
    // This prevent `\r\n` from being given to the webR engine if the user is on Windows.
    // See details in: https://github.com/coatless/quarto-webr/issues/94
    // Associated error text: 
    // Error: <text>:1:7 unexpected input

    // Retrieve the underlying model
    const model = editor.getModel();
    // Set EOL for the model
    model.setEOL(monaco.editor.EndOfLineSequence.LF);
    
    // Dynamically modify the height of the editor window if new lines are added.
    let ignoreEvent = false;
    const updateHeight = () => {
      // Increment editor height by 2 to prevent vertical scroll bar from appearing
      const contentHeight = editor.getContentHeight() + 2;

      // Retrieve editor-max-height option
      const maxEditorHeight = qwebrOptions['editor-max-height'];

      // If editor-max-height is missing, allow infinite growth. Otherwise, threshold.
      const editorHeight = !maxEditorHeight ?  contentHeight : Math.min(contentHeight, maxEditorHeight);

      // We're avoiding a width change
      //editorDiv.style.width = `${width}px`;
      editorDiv.style.height = `${editorHeight}px`;
      try {
        ignoreEvent = true;

        // The key to resizing is this call
        editor.layout();
      } finally {
        ignoreEvent = false;
      }
    };

    // Function to generate decorations to highlight lines
    // in the editor based on input string.
    function decoratorHighlightLines(codeLineNumbers) {
      // Store the lines to be lighlight
      let linesToHighlight = [];
      
      // Parse the codeLineNumbers string to get the line numbers to highlight
      // First, split the string by commas
      codeLineNumbers.split(',').forEach(part => {
        // Check if we have a range of lines
        if (part.includes('-')) {
            // Handle range of lines (e.g., "6-8")
            const [start, end] = part.split('-').map(Number);
            for (let i = start; i <= end; i++) {
                linesToHighlight.push(i);
            }
        } else {
            // Handle single line (e.g., "7")
            linesToHighlight.push(Number(part));
        }
      });
  
      // Create monaco decorations for the lines to highlight
      const decorations = linesToHighlight.map(lineNumber => ({
          range: new monaco.Range(lineNumber, 1, lineNumber, 1),
          options: {
              isWholeLine: true,
              className: 'qwebr-editor-highlight-line'
          }
      }));
  
      // Return decorations to be applied to the editor
      return decorations;
    }

    // Ensure that the editor-code-line-numbers option is set and valid
    // then apply styling
    if (qwebrOptions['editor-code-line-numbers']) {
      // Remove all whitespace from the string
      const codeLineNumbers = qwebrOptions['editor-code-line-numbers'].replace(/\s/g,'');
      // Check if the string is valid for line numbers, e.g., "1,3-5,7"
      if (isValidCodeLineNumbers(codeLineNumbers)) {
        // Apply the decorations to the editor
        editor.createDecorationsCollection(decoratorHighlightLines(codeLineNumbers));
      } else {
        // Warn the user that the input is invalid
        console.warn(`Invalid "editor-code-line-numbers" value in code cell ${qwebrOptions['label']}: ${codeLineNumbers}`);
      }
    }

    // Helper function to check if selected text is empty
    function isEmptyCodeText(selectedCodeText) {
      return (selectedCodeText === null || selectedCodeText === undefined || selectedCodeText === "");
    }

    // Registry of keyboard shortcuts that should be re-added to each editor window
    // when focus changes.
    const addWebRKeyboardShortCutCommands = () => {
      // Add a keydown event listener for Shift+Enter to run all code in cell
      editor.addCommand(monaco.KeyMod.Shift | monaco.KeyCode.Enter, () => {

        // Retrieve all text inside the editor
        qwebrExecuteCode(editor.getValue(), editor.__qwebrCounter, editor.__qwebrOptions);
      });

      // Add a keydown event listener for CMD/Ctrl+Enter to run selected code
      editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.Enter, () => {

        // Get the selected text from the editor
        const selectedText = editor.getModel().getValueInRange(editor.getSelection());
        // Check if no code is selected
        if (isEmptyCodeText(selectedText)) {
          // Obtain the current cursor position
          let currentPosition = editor.getPosition();
          // Retrieve the current line content
          let currentLine = editor.getModel().getLineContent(currentPosition.lineNumber);

          // Propose a new position to move the cursor to
          let newPosition = new monaco.Position(currentPosition.lineNumber + 1, 1);

          // Check if the new position is beyond the last line of the editor
          if (newPosition.lineNumber > editor.getModel().getLineCount()) {
            // Add a new line at the end of the editor
            editor.executeEdits("addNewLine", [{
            range: new monaco.Range(newPosition.lineNumber, 1, newPosition.lineNumber, 1),
            text: "\n", 
            forceMoveMarkers: true,
            }]);
          }
          
          // Run the entire line of code.
          qwebrExecuteCode(currentLine, editor.__qwebrCounter, editor.__qwebrOptions);

          // Move cursor to new position
          editor.setPosition(newPosition);
        } else {
          // Code to run when Ctrl+Enter is pressed with selected code
          qwebrExecuteCode(selectedText, editor.__qwebrCounter, editor.__qwebrOptions);
        }
      });
    }

    // Register an on focus event handler for when a code cell is selected to update
    // what keyboard shortcut commands should work.
    // This is a workaround to fix a regression that happened with multiple
    // editor windows since Monaco 0.32.0 
    // https://github.com/microsoft/monaco-editor/issues/2947
    editor.onDidFocusEditorText(addWebRKeyboardShortCutCommands);

    // Register an on change event for when new code is added to the editor window
    editor.onDidContentSizeChange(updateHeight);

    // Manually re-update height to account for the content we inserted into the call
    updateHeight();

    // Store the editor instance in the global dictionary
    qwebrEditorInstances[editor.__qwebrCounter] = editor;

  });

  // Add a click event listener to the run button
  runButton.onclick = function () {
    qwebrExecuteCode(editor.getValue(), editor.__qwebrCounter, editor.__qwebrOptions);
  };

  // Add a click event listener to the reset button
  copyButton.onclick = function () {
    // Retrieve current code data
    const data = editor.getValue();
    
    // Write code data onto the clipboard.
    navigator.clipboard.writeText(data || "");
  };
  
  // Add a click event listener to the copy button
  resetButton.onclick = function () {
    editor.setValue(editor.__qwebrinitialCode);
  };
  
}
</script>
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title"><p><b>å¤–å›½æ›¸è³¼èª­ Day3</b> <br> <span style="color: #282A36; ">Analysis of Accounting Transactions</span></p></h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Soichi Matsuura 
</div>
</div>
</div>

</section>
<section>
<section id="review-of-day2" class="title-slide slide level1 center">
<h1>review of Day2</h1>

</section>
<section id="big-data" class="slide level2">
<h2>Big Data</h2>
<p>The R language uses <strong>4 storage formats</strong> for data:</p>
<ul>
<li><em>vectors</em></li>
<li><em>matrix</em></li>
<li><em>data frames</em></li>
<li><em>factors</em></li>
</ul>
<!-- Rè¨€èªžã¯ãƒ‡ãƒ¼ã‚¿ã«å¯¾ã—ã¦ã€ãƒ™ã‚¯ãƒˆãƒ«ã€è¡Œåˆ—ã€é…åˆ—ã€ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã€tibbles(tidyverse)ã€ãƒªã‚¹ãƒˆã€ãƒ•ã‚¡ã‚¯ã‚¿ãƒ¼ã¨ã„ã£ãŸ7ã¤ã®ä¸»è¦ãªæ ¼ç´å½¢å¼ã‚’ä½¿ç”¨ã™ã‚‹ã€‚ -->
</section>
<section id="æº–å‚™" class="slide level2">
<h2>æº–å‚™</h2>
<p>In order to use packages, you use the <code>pacman</code> package to install and load the necessary packages.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, auditanalytics, knitr, kableExtra)</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><code>tidyverse</code> is a collection of R packages designed for data science.</li>
<li><code>auditanalytics</code> is a package that provides data in this class.</li>
<li><code>knitr</code> is a package for dynamic report generation in R.</li>
<li><code>kableExtra</code> is a package for creating tables in R Markdown.</li>
</ul>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="" aria-hidden="true" tabindex="-1"></a>big_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb2-2"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">system.file</span>(<span class="st">"extdata"</span>, <span class="st">"ch1_amount_data.csv"</span>,</span>
<span id="cb2-3"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">package =</span> <span class="st">"auditanalytics"</span>, <span class="at">mustWork =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-4"><a href="" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-5"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(big_data)</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 6
   year transient   financial        text multimedia mobile
  &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt;
1  1930         0  323436613.  332755554.          0      0
2  1932         0  397718380.  481387776.          0      0
3  1934         0  716513950.  692322681.          0      0
4  1936         0 1887577972. 2621529575.          0      0
5  1938         0 3395111970. 3223325972.          0      0
6  1940         0 9167974599. 9663220031.          0      0</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="" aria-hidden="true" tabindex="-1"></a>big_data <span class="ot">&lt;-</span> big_data <span class="sc">|&gt;</span></span>
<span id="cb4-2"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>( <span class="co"># wide to long</span></span>
<span id="cb4-3"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(<span class="sc">-</span>year), <span class="co"># year column is not included</span></span>
<span id="cb4-4"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"data_type"</span>,</span>
<span id="cb4-5"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"value"</span></span>
<span id="cb4-6"><a href="" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-7"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(big_data)</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 3
   year data_type       value
  &lt;dbl&gt; &lt;chr&gt;           &lt;dbl&gt;
1  1930 transient          0 
2  1930 financial  323436613.
3  1930 text       332755554.
4  1930 multimedia         0 
5  1930 mobile             0 
6  1932 transient          0 </code></pre>
</div>
</div>
<p><code>pivot_longer()</code> is a function from tidyverse that replaces columns with indicators, and is used here to gather multiple lines on a single graph./</p>
</section>
<section class="slide level2">

<h3 id="graph-growth-of-stored-data">Graph : Growth of Stored Data</h3>
<div class="cell">
<details class="code-fold">
<summary>expand for full code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="" aria-hidden="true" tabindex="-1"></a>big_data<span class="sc">$</span>amount <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(big_data<span class="sc">$</span>value)</span>
<span id="cb6-2"><a href="" aria-hidden="true" tabindex="-1"></a>big_data <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="" aria-hidden="true" tabindex="-1"></a> <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> amount, <span class="at">col =</span> data_type) <span class="sc">+</span></span>
<span id="cb6-4"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> data_type, <span class="at">size =</span> amount), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb6-5"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="dv">12</span>)) <span class="sc">+</span></span>
<span id="cb6-6"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">trans =</span> <span class="st">"sqrt"</span>) <span class="sc">+</span></span>
<span id="cb6-7"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">1990</span>,<span class="dv">2020</span>) <span class="sc">+</span> <span class="fu">xlab</span>(<span class="st">"Year"</span>) <span class="sc">+</span></span>
<span id="cb6-8"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">"Number of Bits of Storage"</span>)</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>

</div>
<img data-src="gaisho_2024_03_files/figure-revealjs/unnamed-chunk-4-1.png" width="960" class="r-stretch"></section>
<section id="vectors" class="slide level2">
<h2>Vectors</h2>
<!-- ## ãƒ™ã‚¯ãƒˆãƒ« -->
<p>You can make a vector using <code>c()</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="fl">5.3</span>, <span class="dv">6</span>, <span class="sc">-</span><span class="dv">2</span>, <span class="dv">4</span>) <span class="co"># number vector</span></span>
<span id="cb7-2"><a href="" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"one"</span>, <span class="st">"two"</span>, <span class="st">"three"</span>) <span class="co"># character vector</span></span>
<span id="cb7-3"><a href="" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>,<span class="cn">TRUE</span>,<span class="cn">TRUE</span>,<span class="cn">FALSE</span>,<span class="cn">TRUE</span>,<span class="cn">FALSE</span>) <span class="co"># logical vector</span></span>
<span id="cb7-4"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1.0  2.0  5.3  6.0 -2.0  4.0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="" aria-hidden="true" tabindex="-1"></a>b</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "one"   "two"   "three"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="" aria-hidden="true" tabindex="-1"></a>c</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE  TRUE  TRUE FALSE  TRUE FALSE</code></pre>
</div>
</div>
</section>
<section id="example-vectors" class="slide level2">
<h2>Example: Vectors</h2>
<div id="qwebr-insertion-location-1"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</section>
<section class="slide level2">

<h3 id="vector-operations">Vector Operations</h3>
<p>Refer to elements of a vector using subscripts.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="" aria-hidden="true" tabindex="-1"></a>a[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>)] <span class="co"># 2nd and 4th elements of the vector</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="" aria-hidden="true" tabindex="-1"></a>a[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)] <span class="co"># 1st to 3rd elements of the vector</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.0 2.0 5.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="" aria-hidden="true" tabindex="-1"></a>a[<span class="fu">c</span>(<span class="sc">-</span><span class="dv">3</span>)] <span class="co"># all elements except the 3rd</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1  2  6 -2  4</code></pre>
</div>
</div>
</section>
<section id="matrix" class="slide level2">
<h2>Matrix</h2>
<p>All columns in a matrix must have the <strong>same mode</strong> and the <strong>same length</strong>. <!-- è¡Œåˆ—ã®ã™ã¹ã¦ã®åˆ—ã¯åŒã˜ãƒ¢ãƒ¼ãƒ‰(æ•°å€¤ã€æ–‡å­—ãªã©)ã¨åŒã˜é•·ã•ã§ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚ --> Transfer the vector to a <span class="math inline">5 \times 5</span> matrix .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">25</span>), <span class="dv">5</span>, <span class="dv">5</span>, <span class="at">byrow =</span> F)</span>
<span id="cb19-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(mat)</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4] [,5]
[1,]    1    6   11   16   21
[2,]    2    7   12   17   22
[3,]    3    8   13   18   23
[4,]    4    9   14   19   24
[5,]    5   10   15   20   25</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<p>If you want to fill the matrix by rows, use <code>byrow = TRUE</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">25</span>), <span class="dv">5</span>, <span class="dv">5</span>, <span class="at">byrow =</span> T)</span>
<span id="cb21-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(mat)</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4] [,5]
[1,]    1    2    3    4    5
[2,]    6    7    8    9   10
[3,]   11   12   13   14   15
[4,]   16   17   18   19   20
[5,]   21   22   23   24   25</code></pre>
</div>
</div>
</section>
<section id="inverse-matrix-and-determinant" class="slide level2">
<h2>Inverse Matrix and Determinant</h2>
<p>Next, you try to solve the inverse matrix with <code>solve()</code> and calculate the determinant of the matrix with <code>det()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># create a 3x3 matrix</span></span>
<span id="cb23-2"><a href="" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>, <span class="dv">9</span>) <span class="sc">|&gt;</span> <span class="fu">matrix</span>(<span class="dv">3</span>, <span class="dv">3</span>, <span class="at">byrow =</span> T)</span>
<span id="cb23-3"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(mat)</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]   41   77   57
[2,]   26   66   48
[3,]    9   93   33</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">solve</span>(mat) <span class="co"># inverse matrix</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            [,1]        [,2]         [,3]
[1,]  0.10132979 -0.12234043  0.002925532
[2,]  0.01888298 -0.03723404  0.021542553
[3,] -0.08085106  0.13829787 -0.031205674</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">det</span>(mat) <span class="co"># determinant of the matrix</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -22560</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<p>Extract elements from a matrix using subscripts.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="" aria-hidden="true" tabindex="-1"></a>mat[, <span class="dv">3</span>] <span class="co"># 3th column of the matrix</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 57 48 33</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="" aria-hidden="true" tabindex="-1"></a>mat[<span class="dv">3</span>,]  <span class="co"># 3rd row of the matrix</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  9 93 33</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="" aria-hidden="true" tabindex="-1"></a>mat[<span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>] <span class="co"># rows 2 to 4 and columns 1 to 3</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]   26   66
[2,]    9   93</code></pre>
</div>
</div>
</section>
<section id="data.frame-and-tibble" class="slide level2">
<h2>data.frame and tibble</h2>
<ul>
<li><p>A data frame is more general than a matrix, in that <strong>different columns can have different modes</strong> (numeric, character, factor, etc.). <!-- similar to SAS and SPSS datasets. --> <!-- ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ (data frame)ã¯è¡Œåˆ—ã‚ˆã‚Šã‚‚ä¸€èˆ¬çš„ã§ã‚ã‚Šã€SASã‚„SPSSã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®ã‚ˆã†ã«ã€ç•°ãªã‚‹åˆ—ã«ã¯æ•°å€¤ã€æ–‡å­—ã€ãƒ•ã‚¡ã‚¯ã‚¿ãƒ¼ãªã©ã®ç•°ãªã‚‹åž‹ã‚’ã‚‚ã¡ã†ã‚‹ã€‚ --></p></li>
<li><p>Data frames represent <strong>the most widely used format</strong> for data storage and retrieval in the <em>R</em> language <!-- ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã¯ã€Rè¨€èªžã§ã®ãƒ‡ãƒ¼ã‚¿ã®æ ¼ç´ã¨æ¤œç´¢ã§æœ€ã‚‚åºƒãä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹åž‹ã§ã‚ã‚‹ã€‚ --></p></li>
<li><p>Type <code>data.frame</code> is like a spreadsheet of Excel. Column means variable and row means observation.</p></li>
</ul>
</section>
<section class="slide level2">

<h3 id="create-a-data-frame">Create a data frame</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="" aria-hidden="true" tabindex="-1"></a>mydata <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb35-2"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="at">ID     =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>),</span>
<span id="cb35-3"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="at">Color  =</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"white"</span>, <span class="st">"red"</span>, <span class="cn">NA</span>),</span>
<span id="cb35-4"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="at">Passed =</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb35-5"><a href="" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb35-6"><a href="" aria-hidden="true" tabindex="-1"></a>mydata[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>] <span class="co"># columns 1 and 2 of data frame</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ID Color
1  1   red
2  2 white
3  3   red
4  4  &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="" aria-hidden="true" tabindex="-1"></a>mydata[<span class="fu">c</span>(<span class="st">"ID"</span>,<span class="st">"Color"</span>)] <span class="co"># columns ID and Age from data frame</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ID Color
1  1   red
2  2 white
3  3   red
4  4  &lt;NA&gt;</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<h3 id="example-data-frame">Example: Data Frame</h3>
<div id="qwebr-insertion-location-2"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</section>
<section id="list" class="slide level2">
<h2>List</h2>
<ul>
<li>An ordered collection of objects (components). <!-- ãƒªã‚¹ãƒˆã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ(ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ)ã®é †åºä»˜ãã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã§ã‚ã‚‹ã€‚ --></li>
<li>A list allows you to gather a variety of objects under one name. <!-- ãƒªã‚¹ãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ã•ã¾ã–ã¾ãª(ãŠãã‚‰ãé–¢é€£ã®ãªã„)ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’1ã¤ã®åå‰ã®ä¸‹ã«ã¾ã¨ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ --></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="st">"seven"</span>; b <span class="ot">&lt;-</span> <span class="st">"seven"</span></span>
<span id="cb39-2"><a href="" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="dv">0</span> ; y <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb39-3"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># example of a list with 4 components -</span></span>
<span id="cb39-5"><a href="" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb39-6"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="st">"Fred"</span>,</span>
<span id="cb39-7"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="at">mynumbers =</span> a,</span>
<span id="cb39-8"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="at">mymatrix =</span> y,</span>
<span id="cb39-9"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="at">age =</span> <span class="fl">5.3</span></span>
<span id="cb39-10"><a href="" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb39-11"><a href="" aria-hidden="true" tabindex="-1"></a>w</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$name
[1] "Fred"

$mynumbers
[1] "seven"

$mymatrix
[1] 0

$age
[1] 5.3</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="" aria-hidden="true" tabindex="-1"></a>list1 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">name =</span> <span class="st">"Fred"</span>, <span class="at">mynumbers =</span> a, <span class="at">mymatrix =</span> y, <span class="at">age =</span> <span class="fl">5.3</span>)</span>
<span id="cb41-2"><a href="" aria-hidden="true" tabindex="-1"></a>list2 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">name =</span> <span class="st">"Joe"</span>,  <span class="at">mynumbers =</span> b, <span class="at">mymatrix =</span> z, <span class="at">age =</span> <span class="fl">10.11</span>) <span class="co"># èª¤å­—</span></span>
<span id="cb41-3"><a href="" aria-hidden="true" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="fu">c</span>(list1,list2)</span>
<span id="cb41-4"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify elements of a list using the [[]] convention.</span></span>
<span id="cb41-5"><a href="" aria-hidden="true" tabindex="-1"></a>w[[<span class="dv">1</span>]] <span class="co"># 1st component of the list</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Fred"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="" aria-hidden="true" tabindex="-1"></a>v[[<span class="st">"mynumbers"</span>]] <span class="co"># component named mynumbers in list</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "seven"</code></pre>
</div>
</div>
</section>
<section id="example-list" class="slide level2">
<h2>Example: list</h2>
<div id="qwebr-insertion-location-3"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</section>
<section id="factors" class="slide level2">
<h2>Factors</h2>
<!-- å› å­ã¯ã€åç›®çš„ãªå€¤ã‚’ [ 1. ... k ]ï¼ˆkã¯åç›®å¤‰æ•°ã®ä¸€æ„ãªå€¤ã®æ•°ï¼‰ã®ç¯„å›²ã®æ•´æ•°ãƒ™ã‚¯ãƒˆãƒ«ã¨ã—ã¦æ ¼ç´ã—ã€ã“ã‚Œã‚‰ã®æ•´æ•°ã«ãƒžãƒƒãƒ”ãƒ³ã‚°ã•ã‚ŒãŸæ–‡å­—åˆ—ï¼ˆå…ƒã®å€¤ï¼‰ã®å†…éƒ¨ãƒ™ã‚¯ãƒˆãƒ«ã‚’æ ¼ç´ã™ã‚‹ã€‚ -->
<ul>
<li>Tell R that a variable is nominal by making it a factor. <!-- ã‚ã‚‹å¤‰æ•°ãŒåç›®å¤‰æ•°ã§ã‚ã‚‹ã“ã¨ã‚’Rã§æŒ‡å®šã™ã‚‹ã«ã¯ã€ãã®å¤‰æ•°ã‚’ãƒ•ã‚¡ã‚¯ã‚¿ãƒ¼åž‹ã«ã™ã‚‹ã€‚ --></li>
<li>The factor stores the <em>nominal values</em> as a vector of integers in the range <span class="math inline">[1, \dots , k ]</span> (where <span class="math inline">k</span> is the number of unique values in the nominal variable), and <em>an internal vector of character strings (the original values) mapped to these integers</em>. <!-- ãƒ•ã‚¡ã‚¯ã‚¿ãƒ¼åž‹ã¯ã€åç›®å¤‰æ•°ã®ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªå€¤ã®æ•°ã‚’$k$ã¨ã™ã‚‹ã¨ã€$[1, \dots , k]$ã®ç¯„å›²ã®æ•´æ•°ãƒ™ã‚¯ãƒˆãƒ«ã¨ã—ã¦ã€ã“ã‚Œã‚‰ã®æ•´æ•°
ã«å¤‰æ›ã•ã‚ŒãŸæ–‡å­—åˆ—(å…ƒã®å€¤)ã®å†…éƒ¨ãƒ™ã‚¯ãƒˆãƒ«ã¨ã—ã¦æ ¼ç´ã—ã¦ã„ã‚‹ã€‚ --></li>
</ul>
</section>
<section id="make-factors" class="slide level2">
<h2>Make factors</h2>
<p>Nominal variables are those that represent discrete categories without any intrinsic order.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="" aria-hidden="true" tabindex="-1"></a>gender <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"male"</span>, <span class="dv">20</span>), <span class="fu">rep</span>(<span class="st">"female"</span>, <span class="dv">30</span>))</span>
<span id="cb45-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(gender)</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Length     Class      Mode 
       50 character character </code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="" aria-hidden="true" tabindex="-1"></a>gender <span class="ot">&lt;-</span> <span class="fu">factor</span>(gender)ã€€<span class="co"># ãƒ•ã‚¡ã‚¯ã‚¿ãƒ¼åž‹ã«å¤‰æ›</span></span>
<span id="cb47-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(gender)</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>female   male 
    30     20 </code></pre>
</div>
</div>
</section>
<section id="ordered-factors" class="slide level2">
<h2>Ordered Factors</h2>
<p>Ordered factores are those that represent discrete categories with an intrinsic order.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="" aria-hidden="true" tabindex="-1"></a>rating <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="st">"medium"</span>,<span class="st">"large"</span>, <span class="st">"small"</span>)  <span class="co"># æ–‡å­—ãƒ™ã‚¯ãƒˆãƒ«</span></span>
<span id="cb49-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(rating)</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "medium" "large"  "small" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="" aria-hidden="true" tabindex="-1"></a>rating <span class="ot">&lt;-</span> <span class="fu">ordered</span>(rating) <span class="co"># é †åºä»˜ããƒ•ã‚¡ã‚¯ã‚¿ãƒ¼ã«å¤‰æ›</span></span>
<span id="cb51-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(rating)</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] medium large  small 
Levels: large &lt; medium &lt; small</code></pre>
</div>
</div>
</section>
<section id="useful-functions-for-dataset-inspection-and-manipulation" class="slide level2">
<h2>Useful Functions for Dataset Inspection and Manipulation</h2>
<!-- ## ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®ç¢ºèªã¨æ“ä½œã«å½¹ç«‹ã¤é–¢æ•° -->
<div class="cell">
<details class="code-fold">
<summary>ã‚³ãƒ¼ãƒ‰</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="" aria-hidden="true" tabindex="-1"></a>arry <span class="ot">&lt;-</span> <span class="fu">read.csv</span>( <span class="co">#</span></span>
<span id="cb53-2"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">system.file</span>(<span class="st">"extdata"</span>, <span class="st">"morph_array.csv"</span>, <span class="co">#</span></span>
<span id="cb53-3"><a href="" aria-hidden="true" tabindex="-1"></a>        <span class="at">package =</span> <span class="st">"auditanalytics"</span>, <span class="at">mustWork =</span> <span class="cn">TRUE</span>)</span>
<span id="cb53-4"><a href="" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb53-5"><a href="" aria-hidden="true" tabindex="-1"></a>arry <span class="sc">|&gt;</span></span>
<span id="cb53-6"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable</span>(<span class="at">longtable =</span> T) <span class="sc">|&gt;</span> <span class="co">#</span></span>
<span id="cb53-7"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable_styling</span>( <span class="co"># specify table style</span></span>
<span id="cb53-8"><a href="" aria-hidden="true" tabindex="-1"></a>        <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>),</span>
<span id="cb53-9"><a href="" aria-hidden="true" tabindex="-1"></a>        <span class="at">full_width =</span> F, <span class="at">font_size =</span> <span class="dv">18</span></span>
<span id="cb53-10"><a href="" aria-hidden="true" tabindex="-1"></a>        )</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed caption-top" data-quarto-postprocess="true" style="font-size: 18px; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">scope</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">ben_1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">cost_1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">ben_2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">cost_2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">ben_3</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">cost_3</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">ben_4</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">cost_4</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">ben_5</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">cost_5</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">810</td>
<td style="text-align: right;">500</td>
<td style="text-align: right;">940</td>
<td style="text-align: right;">440</td>
<td style="text-align: right;">140</td>
<td style="text-align: right;">130</td>
<td style="text-align: right;">190</td>
<td style="text-align: right;">170</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">10</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">1370</td>
<td style="text-align: right;">890</td>
<td style="text-align: right;">1610</td>
<td style="text-align: right;">1010</td>
<td style="text-align: right;">3970</td>
<td style="text-align: right;">2770</td>
<td style="text-align: right;">3430</td>
<td style="text-align: right;">2460</td>
<td style="text-align: right;">3020</td>
<td style="text-align: right;">2650</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">9070</td>
<td style="text-align: right;">4850</td>
<td style="text-align: right;">6190</td>
<td style="text-align: right;">3250</td>
<td style="text-align: right;">5710</td>
<td style="text-align: right;">3590</td>
<td style="text-align: right;">7650</td>
<td style="text-align: right;">5360</td>
<td style="text-align: right;">7970</td>
<td style="text-align: right;">5220</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: right;">4720</td>
<td style="text-align: right;">2400</td>
<td style="text-align: right;">4650</td>
<td style="text-align: right;">3950</td>
<td style="text-align: right;">330</td>
<td style="text-align: right;">260</td>
<td style="text-align: right;">2120</td>
<td style="text-align: right;">1580</td>
<td style="text-align: right;">2600</td>
<td style="text-align: right;">2020</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">8650</td>
<td style="text-align: right;">4830</td>
<td style="text-align: right;">9100</td>
<td style="text-align: right;">4060</td>
<td style="text-align: right;">5090</td>
<td style="text-align: right;">3480</td>
<td style="text-align: right;">8400</td>
<td style="text-align: right;">7540</td>
<td style="text-align: right;">5930</td>
<td style="text-align: right;">4610</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section class="slide level2">

<h3 id="data-inspection">Data Inspection</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(arry) <span class="co">#  è¦ç´ ãƒ»ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ•°</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 11</code></pre>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(arry) <span class="co"># ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¯ãƒ©ã‚¹ãƒ»åž‹</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(arry) <span class="co"># ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å¤‰æ•°å</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "scope"  "ben_1"  "cost_1" "ben_2"  "cost_2" "ben_3"  "cost_3" "ben_4" 
 [9] "cost_4" "ben_5"  "cost_5"</code></pre>
</div>
</div>
</section></section>
<section>
<section id="analysis-of-accounting-transactions" class="title-slide slide level1 center">
<h1>Analysis of Accounting Transactions</h1>

</section>
<section id="audit-precedures-and-accounting-cycle" class="slide level2">
<h2>audit precedures and accounting cycle</h2>
<!-- ## ç›£æŸ»æ‰‹ç¶šã¨ä¼šè¨ˆã‚µã‚¤ã‚¯ãƒ« -->
<ul>
<li>Audit procedures are designed around the accounting cycles. <!-- ç›£æŸ»æ‰‹ç¶šã¯ã€ä¼šè¨ˆã‚µã‚¤ã‚¯ãƒ«ã«æ²¿ã£ã¦è¨ˆç”»ã•ã‚Œã‚‹ã€‚ --></li>
<li>There are both <em>practical</em> and <em>theoretical</em> reasons for this. <!-- ã“ã‚Œã«ã¯ã€å®Ÿå‹™çš„ãªç†ç”±ã¨ç†è«–çš„ãªç†ç”±ãŒã‚ã‚‹ã€‚ --></li>
<li>The accounting cycles define the particular processing of transactions, and <strong>interim tests</strong> (æš«å®šçš„æ¤œè¨¼) focus entirely on particular transactions and their processing. <!-- ä¼šè¨ˆã‚µã‚¤ã‚¯ãƒ«ã¯ç‰¹å®šã®å–å¼•ã«ã¤ã„ã¦ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’å®šç¾©ã—ã€æš«å®šçš„æ¤œè¨¼ï¼ˆinterim testï¼‰ã¯ç‰¹å®šã®å–å¼•ã¨ãã®ãƒ—ãƒ­ã‚»ã‚¹ã«å®Œå…¨ã«ç„¦ç‚¹ã‚’å½“ã¦ã‚‹ã€‚ --></li>
<li>The same economic event will be reflected in multiple transactions, and there are economies in designing audits around this fact. <!-- åŒã˜ã¨ã•ã‚ŒãŸçµŒæ¸ˆäº‹è±¡ã¯è¤‡æ•°ã®å–å¼•ã«åæ˜ ã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã€ã“ã®ã‚ˆã†ãªäº‹å®Ÿã‚’ä¸­å¿ƒã«ç›£æŸ»ã‚’è¨ˆç”»ã™ã‚‹ã“ã¨ã¯çµŒæ¸ˆçš„ã§ã‚ã‚‹ã€‚ --></li>
<li>In <em>substantive year-end tests</em> (å®Ÿè¨¼æ‰‹ç¶š), the income statement accounts are transaction based, and their accurate estimation depends on understanding the accounting cycles. <!-- æœŸæœ«ã®å®Ÿè¨¼æ‰‹ç¶šã§ã¯ã€æç›Šè¨ˆç®—æ›¸ã¯å–å¼•ã«åŸºã¥ãã‚‚ã®ã§ã‚ã‚Šã€ãã®æ­£ç¢ºãªè¨ˆç®—ã¯ä¼šè¨ˆã‚µã‚¤ã‚¯ãƒ«ã®ç†è§£ã«ã‹ã‹ã£ã¦ã„ã‚‹ã€‚ --></li>
</ul>
</section>
<section id="pcaob" class="slide level2">
<h2>PCAOB</h2>
<p>Guidance from the PCAOBâ€™s AS 2100 through 2600 can be used to structure the sampling and analysis decision-making in an audit: <!-- PCAOBç›£æŸ»åŸºæº–ï¼ˆä»¥ä¸‹ã€ASï¼‰ã®2100ã‹ã‚‰2600ã¾ã§ã®ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ï¼ˆPCAOBã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆpcaobus.orgã§å…¥æ‰‹å¯èƒ½ï¼‰ã¯ã€ç›£æŸ»ã«ãŠã‘ã‚‹ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã¨æ„æ€æ±ºå®šåˆ†æžï¼ˆanalysis decision-makingï¼‰ã‚’æ§‹æˆã™ã‚‹ãŸã‚ã«åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ --></p>
<ol type="1">
<li><strong>Planning and risk assessment phase</strong> : Using the <em>audit risk assessment matrix</em>, determine which transaction flows will have predicted error rates(äºˆæƒ³é€¸è„±çŽ‡) greater than tolerable rate(è¨±å®¹é€¸è„±çŽ‡), or predicted error amounts greater than tolerable misstatement amount. <!-- 1. **ç›£æŸ»è¨ˆç”»ã¨ãƒªã‚¹ã‚¯è©•ä¾¡ã®æ®µéšŽ**ï¼š ç›£æŸ»ãƒªã‚¹ã‚¯è©•ä¾¡ãƒžãƒˆãƒªã‚¯ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã€ã©ã®å–å¼•ãƒ•ãƒ­ãƒ¼ã«ãŠã„ã¦ã€äºˆæƒ³é€¸è„±çŽ‡ãŒè¨±å®¹é€¸è„±çŽ‡ã‚’è¶…ãˆã‚‹ã‹ã€ã¾ãŸã¯äºˆæƒ³è™šå½è¡¨ç¤ºé¡ãŒè¨±å®¹è™šå½è¡¨ç¤ºé¡ã‚’è¶…ãˆã‚‹ã‹ã‚’æ±ºå®šã™ã‚‹ã€‚--> <!--memo ã€Œè¨±å®¹é€¸è„±çŽ‡ã€ï¼æ¯é›†å›£ã«ãŠã‘ã‚‹å®Ÿéš›ã®é€¸è„±çŽ‡ãŒä¸€å®šã®çŽ‡ã‚’ä¸Šå›žã‚‰ãªã„ã‚ˆã†ãªé©åˆ‡ãªä¿è¨¼æ°´æº–ã‚’å¾—ã‚‹ãŸã‚ã«ã€ç›£æŸ»äººãŒè¨­å®šã—ãŸæ‰€å®šã®å†…éƒ¨çµ±åˆ¶ã®é€¸è„±çŽ‡ã‚’ã„ã†ã€‚ --></li>
</ol>
<ul>
<li>Their function is to provide the foundation for determining initial audit scope, the budget and predicted contract cost of the audit, and for selecting particular audit tests that will be performed. <!-- ã“ã®æ©Ÿèƒ½ã¯ã€åˆæœŸã®ç›£æŸ»ç¯„å›²ã€ãŠã‚ˆã³ç›£æŸ»å¥‘ç´„ã«ã‹ã‹ã‚‹äºˆç®—ãŠã‚ˆã³äºˆå®šè²»ç”¨ã‚’æ±ºå®šã—ã€ç‰¹å®šã®ç›£æŸ»æ‰‹ç¶šã®å®Ÿæ–½ã‚’é¸æŠžã™ã‚‹ãŸã‚ã®åŸºç¤Žã‚’æä¾›ã™ã‚‹ã€‚ --></li>
<li>This work typically uses <em>little or no transaction data from the client</em>, rather relies on the prior years audit conclusions and tests, benchmarks from similar firms in the clientâ€™s industry and available audit resources. <!-- ã“ã®æ¥­å‹™ã§ã¯ã€é€šå¸¸ã€è¢«ç›£æŸ»ä¼šç¤¾ã‹ã‚‰ã®å–å¼•ãƒ‡ãƒ¼ã‚¿ã¯ã»ã¨ã‚“ã©ã¾ãŸã¯å…¨ãä½¿ç”¨ã—ãªã„ã€‚ --> <!-- ã‚€ã—ã‚å‰å¹´åº¦ã®ç›£æŸ»ã®çµè«–ã‚„ç›£æŸ»æ‰‹ç¶šã®çµæžœã€è¢«ç›£æŸ»ä¼šç¤¾ãŒå±žã™ã‚‹ç”£æ¥­ã®é¡žä¼¼ä¼æ¥­ã‹ã‚‰ç®—å®šã—ãŸãƒ™ãƒ³ãƒãƒžãƒ¼ã‚¯ã€åŠã³åˆ©ç”¨å¯èƒ½ãªç›£æŸ»ãƒªã‚½ãƒ¼ã‚¹ã«ä¾å­˜ã™ã‚‹ã€‚ --></li>
</ul>
</section>
<section class="slide level2">

<ol start="2" type="1">
<li><p><strong>Interim compliance tests (tests of transaction, mid-year tests)</strong> (é‹ç”¨è©•ä¾¡æ‰‹ç¶š) : Each significant transaction processing step may potentially be tested, but the audit program typically restricts <em>scope of the interim tests to those found to be â€œ<strong>at risk</strong>â€ in the planning and risk assessment phase of the audit</em>. Where risk assessment matrix predictions exceed tolerable rates or amounts, plan to use attribute sampling (to find actual rate of error); for other tests, use discovery sampling to detect the possibility that error rate might be intolerable. <!-- The product of this phase is the internal control report (specified in AU section 319 and PCAOB AS No. 5) which may also be the basis for assertions in the Sarbanesâ€“Oxley letter signed by management. --> <!-- 2. **é‹ç”¨è©•ä¾¡æ‰‹ç¶š**ï¼š é‡è¦ãªå–å¼•å‡¦ç†ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’æ¤œè¨¼ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŒã€ç›£æŸ»è¨ˆç”»ã¯é€šå¸¸ã€é‹ç”¨è©•ä¾¡æ‰‹ç¶šã®ç¯„å›²ã‚’ç›£æŸ»è¨ˆç”»ãŠã‚ˆã³ãƒªã‚¹ã‚¯è©•ä¾¡ã®æ®µéšŽã§ã€Œãƒªã‚¹ã‚¯ãŒã‚ã‚‹ã€ã¨åˆ¤æ–­ã•ã‚ŒãŸã‚‚ã®ã«é™å®šã™ã‚‹ã€‚ãƒªã‚¹ã‚¯è©•ä¾¡ãƒžãƒˆãƒªã‚¯ã‚¹ã®äºˆæ¸¬å€¤ãŒã€è¨±å®¹é€¸è„±çŽ‡ã‚„è¨±å®¹è™šå½è¡¨ç¤ºé¡ã‚’è¶…ãˆã‚‹å ´åˆã«ã¯ã€ï¼ˆå®Ÿéš›ã®é€¸è„±çŽ‡ã‚’çŸ¥ã‚‹ãŸã‚ã«ï¼‰å±žæ€§ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼ˆattribute samplingï¼‰ã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†è¨ˆç”»ã™ã‚‹ã€‚ä»–ã®å ´åˆã®æ‰‹ç¶šã«ã¤ã„ã¦ã¯ã€ç™ºè¦‹ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼ˆdiscovery samplingï¼‰ã‚’åˆ©ç”¨ã—ã¦ã€é€¸è„±çŽ‡ãŒè¨±å®¹ã§ããªã„å¯èƒ½æ€§ã‚’æ¤œå‡ºã™ã‚‹ã€‚ã“ã®æ®µéšŽã®æˆæžœç‰©ã¯ã€ï¼ˆAU section 319ãŠã‚ˆã³PCAOB AS No.5ã«è¦å®šã•ã‚Œã‚‹ï¼‰å†…éƒ¨çµ±åˆ¶å ±å‘Šæ›¸ã§ã‚ã‚Šã€ã“ã‚Œã¯ã€Sarbanesâ€“Oxleyæ³•ã®çµŒå–¶è€…ã«ã‚ˆã‚‹å ±å‘Šæ›¸ã®ä¸»å¼µã®åŸºç¤Žã¨ãªã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã€‚ã€€ --></p></li>
<li><p><strong>Substantive tests</strong> (å®Ÿè¨¼æ‰‹ç¶š) : Substantive tests assess the probability of <strong>material error</strong> (é‡è¦ãªè™šå½è¡¨ç¤º) in the accounts summarized in the various financial reports distributed to shareholders. Based on error rates discovered in interim compliance tests (and reported in the internal control memo) and expand the minimum tests of monetary balances on the trial balance. <!-- 3. **å®Ÿè¨¼æ‰‹ç¶š**ï¼š æ ªä¸»ã¸å…¬è¡¨ã•ã‚Œã‚‹å„ç¨®è²¡å‹™å ±å‘Šæ›¸ã«è¦ç´„ã•ã‚Œã¦ã„ã‚‹è²¡å‹™è«¸è¡¨ã«é‡è¦ãªè™šå½è¡¨ç¤ºãŒã‚ã‚‹å¯èƒ½æ€§ã‚’è©•ä¾¡ã™ã‚‹ã€‚é‹ç”¨è©•ä¾¡æ‰‹ç¶šã§ç™ºè¦‹ã•ã‚ŒãŸï¼ˆã€ã¾ãŸå†…éƒ¨çµ±åˆ¶ãƒ¡ãƒ¢ã§å ±å‘Šã•ã‚ŒãŸï¼‰é€¸è„±çŽ‡ã«åŸºã¥ãã€è©¦ç®—è¡¨ä¸Šã®é‡‘é¡æ®‹é«˜ã¸ã®ç›£æŸ»ã®å¯¾è±¡ç¯„å›²ã‚’æ‹¡å¤§ã™ã‚‹ã€‚ --></p></li>
</ol>
</section>
<section class="slide level2">

<ul>
<li>Corporate accounting systems are universally implemented on computer systems todayâ€”either in-house systems, or increasingly through service bureaus and <strong>software as a service</strong> (SaaS) infrastructure. <!-- ç¾åœ¨ã€ä¼æ¥­ã®ä¼šè¨ˆã‚·ã‚¹ãƒ†ãƒ ã¯ã€ä¸€èˆ¬çš„ã«ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚·ã‚¹ãƒ†ãƒ ä¸Šã«æ§‹ç¯‰ã•ã‚Œã¦ã„ã‚‹ï¼ˆç¤¾å†…ã‚·ã‚¹ãƒ†ãƒ ä¸Šã«æ§‹ç¯‰ã•ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Œã°ã€çµŒç†æ¥­å‹™ã‚’å—è¨—ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ãƒ“ãƒ¥ãƒ¼ãƒ­ãƒ¼ï¼ˆservice bureausï¼‰ã‚„SaaSï¼ˆSoftware as a Serviceï¼‰ã‚¤ãƒ³ãƒ•ãƒ©ã‚’åˆ©ç”¨ã™ã‚‹ã‚±ãƒ¼ã‚¹ã‚‚å¢—ãˆã¦ã„ã‚‹ï¼‰ã€‚ --></li>
<li>Auditing is fundamentally about <em>drawing conclusions on the financial statement balances</em> (which are summary statistic) from detailed investigations of individual accounting transactions. <!-- (i.e., the economic events that record the data for these account balances). --> <!-- ç›£æŸ»ã¨ã¯ã€åŸºæœ¬çš„ã«ã€å€‹ã€…ã®ä¼šè¨ˆä¸Šã®å–å¼•ï¼ˆå‹˜å®šã«ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦è¨˜éŒ²ã•ã‚Œã‚‹çµŒæ¸ˆçš„äº‹è±¡ï¼‰ã®è©³ç´°ãªèª¿æŸ»ã‹ã‚‰ã€ï¼ˆæ§˜ã€…ãªæ•°å€¤ã‚’è¦ç´„ã—ãŸã‚‚ã®ã«éŽãŽãªã„ï¼‰è²¡å‹™è«¸è¡¨é …ç›®ã«é–¢ã™ã‚‹çµè«–ã‚’å°Žãå‡ºã™ã“ã¨ã§ã‚ã‚‹ã€‚ --></li>
<li>Since both balances and transactions are recorded in the computer databases today, audit sampling can only be completed with computer programs. <!-- ç¾åœ¨ã€å‹˜å®šã‚‚å–å¼•ã‚‚ï¼ˆç´™ã§ã¯ãªãï¼‰ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«è¨˜éŒ²ã•ã‚Œã‚‹ãŸã‚ã€ç›£æŸ»ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã¯ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ»ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«ã‚ˆã£ã¦ã®ã¿è¡Œã†ã“ã¨ãŒå¯èƒ½ã§ã‚ã‚‹ã€‚ --></li>
</ul>
</section>
<section class="slide level2">

<ul>
<li>Additionally, corporations are retaining more accounting data than ever, partly because of new regulations from e.g.&nbsp;Sarbanesâ€“Oxley, and partly because investors value more information, and corporations strive to provide it. <!-- ã•ã‚‰ã«ã€SOXæ³•ãªã©ã«ã‚ˆã£ã¦è¦è«‹ã•ã‚Œã‚‹æ–°ãŸãªè¦å‰‡ã®ãŸã‚ã«ã€æŠ•è³‡å®¶ãŒã‚ˆã‚Šå¤šãã®æƒ…å ±ã‚’é‡è¦–ã—ä¼æ¥­ãŒãã‚Œã‚’æä¾›ã—ã‚ˆã†ã¨åŠªã‚ã¦ã„ã‚‹ã®ã§ã€ä¼æ¥­ã¯ã“ã‚Œã¾ã§ä»¥ä¸Šã«å¤šãã®ä¼šè¨ˆãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã€‚ --></li>
<li>Though this creates some up-front costs for auditors, it also makes the selection, audit, and analysis of transaction samples much more efficient. <!-- ã“ã®ã“ã¨ã¯ã€ç›£æŸ»äººã«ã¨ã£ã¦è‹¥å¹²ã®å…ˆè¡ŒæŠ•è³‡ã«ã‹ã‹ã‚‹è²»ç”¨ãŒç”Ÿã˜ã‚‹ã‚‚ã®ã®ã€å–å¼•ã‚µãƒ³ãƒ—ãƒ«ã®é¸æŠžã€ç›£æŸ»ã€ãŠã‚ˆã³åˆ†æžã‚’ã‚ˆã‚ŠåŠ¹çŽ‡çš„ãªã‚‚ã®ã«ã—ã¦ã„ã‚‹ã€‚ --> The following provides the basic statistics that you need to understand to properly conduct an auditâ€”either test of transaction (mid- year, internal control) or substantive (year-end, balance) tests. <!-- æœ¬ç« ã®ä»¥ä¸‹ã®éƒ¨åˆ†ã¯ã€é©åˆ‡ãªç›£æŸ»ã®å®Ÿæ–½ï¼ˆæœŸä¸­ã«å†…éƒ¨çµ±åˆ¶ã«é–¢ã—ã¦è¡Œã†é‹ç”¨è©•ä¾¡æ‰‹ç¶šã‚„æœŸæœ«ã«å‹˜å®šã«å¯¾ã—ã¦è¡Œã†å®Ÿè¨¼æ‰‹ç¶šï¼‰ã®ãŸã‚ã«ç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã‚‹åŸºæœ¬çš„ãªçµ±è¨ˆæƒ…å ±ã«ã¤ã„ã¦å­¦ã¶ã€‚--></li>
</ul>
</section></section>
<section>
<section id="the-origin-of-accounting-transactions" class="title-slide slide level1 center">
<h1>The Origin of Accounting Transactions</h1>

</section>
<section id="accounting-transaction" class="slide level2">
<h2>Accounting Transaction</h2>
<ul>
<li>Accounting transactions begin as real-world events involving a firm â€” processes like sales that are localized in value, time, and space. <!-- ä¼šè¨ˆå–å¼•ã¯ã€ä¼æ¥­ãŒé–¢ä¸Žã™ã‚‹ç¾å®Ÿä¸–ç•Œã®äº‹è±¡ï¼ˆä¾¡å€¤ã€æ™‚é–“ã€ãŠã‚ˆã³ç©ºé–“ã®å±€æ‰€çš„ãªå£²ä¸Šãƒ—ãƒ­ã‚»ã‚¹ï¼‰ã¨ã—ã¦é–‹å§‹ã•ã‚Œã‚‹ã€‚ --></li>
<li>The vast majority of these events are irrelevant to accountants â€” events that have no impact on the wealth of the firm. <!-- ã“ã‚Œã‚‰ã®äº‹è±¡ã®å¤§éƒ¨åˆ†ã¯ã€ä¼šç¤¾ã®å¯Œã«å½±éŸ¿ã‚’ä¸Žãˆãªã„äº‹è±¡ã§ã‚ã‚Šã€è²¡å‹™è«¸è¡¨ã«ã¯ç„¡é–¢ä¿‚ã§ã‚ã‚‹ã€‚ --></li>
<li>Eligibility for an event to become an accounting transaction is determined by <em>commercial law</em> â€” whatever events will <em>create income, financial obligations, or financial allocations</em> are likely to become accounting transactions. <!-- ã‚ã‚‹äº‹è±¡ãŒä¼šè¨ˆå–å¼•ã¨ãªã‚‹è¦ä»¶ã¯ã€å•†æ³•ã«ã‚ˆã£ã¦æ±ºå®šã•ã‚Œã€åŽå…¥ã€è²¡çš„ãªç¾©å‹™ã€ã¾ãŸã¯è²¡å‹™çš„ãªé…åˆ†ã‚’ç”Ÿã¿å‡ºã™äº‹è±¡ã§ã‚ã‚Œã°ä½•ã§ã‚‚ã€ä¼šè¨ˆå–å¼•ã¨ãªã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã€‚ --></li>
<li>The route from event to accounting transaction involves <em>three components</em> : <!-- äº‹è±¡ã‹ã‚‰ä¼šè¨ˆå–å¼•ã«è‡³ã‚‹ã¾ã§ã®çµŒè·¯ã«ã¯ã€3ã¤ã®è¦ç´ ãŒå«ã¾ã‚Œã‚‹ã€‚ --></li>
</ul>
</section>
<section id="the-origin-of-accounting-transactions-1" class="slide level2">
<h2>The Origin of Accounting Transactions</h2>
<ol type="1">
<li><p><em>The definition of the boundaries of the firm</em>. Thus the same event may be an accounting transaction on a divisional financial statement, but will not be incorporated into the consolidated financial statements. <!-- 1. **ä¼šç¤¾ã®å¢ƒç•Œã«ã¤ã„ã¦ã®å®šç¾©** å¾“ã£ã¦ã€åŒã˜äº‹è±¡ãŒéƒ¨é–€ãƒ¬ãƒ™ãƒ«ã®è²¡å‹™è«¸è¡¨ä¸Šã§ã¯ä¼šè¨ˆå–å¼•ã§ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã£ã¦ã‚‚ã€é€£çµè²¡å‹™è«¸è¡¨ã«ã¯çµ„ã¿è¾¼ã¾ã‚Œãªã„ã“ã¨ãŒã‚ã‚‹ã€‚ --></p></li>
<li><p><em>The relevant commercial law applying to the event-transaction</em>. Often this pertains to the definition of â€œ<strong>ownership</strong>â€ of an asset, or â€œ<strong>obligation</strong>â€ for a <em>promise, warranty, or contract</em>. <!-- Where ownership and obligations cannot be determined, the firm may need to report â€œcontingentâ€ liabilities or assets in a note. --> <!-- Before the nineteenth century, law mainly related to product transactions, but the twentieth century witnessed an explosion of intricacies in the law which have made this determination much more difficult. --> <!-- 2. **äº‹è±¡-å–å¼•ã«é©ç”¨ã•ã‚Œã‚‹å•†æ³•ã®é–¢é€£è¦å®š** å¤šãã®å ´åˆã€ã“ã‚Œã¯è³‡ç”£ã®ã€Œæ‰€æœ‰æ¨©ã€ã¾ãŸã¯å¥‘ç´„ï¼ˆpromiseï¼‰ã®ã€Œç¾©å‹™ã€ã€ä¿è¨¼ï¼ˆwarrantyï¼‰ã€ã‚‚ã—ãã¯å¥‘ç´„ã®å®šç¾©ã«é–¢ä¿‚ã™ã‚‹ã€‚æ‰€æœ‰æ¨©ã‚„ç¾©å‹™ãŒç¢ºå®šã§ããªã„å ´åˆã€ä¼æ¥­ã¯ã€Œå¶ç™ºï¼ˆcontingentï¼‰ã€å‚µå‹™ã‚„è³‡ç”£ã‚’æ³¨è¨˜ã§å ±å‘Šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€‚19ä¸–ç´€ä»¥å‰ã¯ã€æ³•å¾‹ã¯ä¸»ã«è£½å“ã®å£²è²·å–å¼•ã«é–¢ã™ã‚‹ã‚‚ã®ã§ã‚ã£ãŸãŒã€20ä¸–ç´€ã«å…¥ã‚‹ã¨ã€æ³•å¾‹ãŒçˆ†ç™ºçš„ã«è¤‡é›‘ã«ãªã‚Šã€ã“ã®åˆ¤æ–­ãŒã‚ˆã‚Šé›£ã—ããªã£ãŸã€‚ --></p></li>
<li><p><em>The capture system for recording the event-transaction</em>. Auditor responsibility for capture of transactions has expanded significantly over the past two decades, particularly with the <em>Sarbanesâ€“Oxley Act of 2002</em>. Firms are expected to have capture systems to assure that where there is a legal ownership or liability, that it shows up in the accounting reports. <!-- 3. **äº‹è±¡-å–å¼•ã®è¨˜éŒ²ã‚·ã‚¹ãƒ†ãƒ ** éŽåŽ»20å¹´é–“ã€ç‰¹ã«2002å¹´ã®SOXæ³•ã«ã‚ˆã‚Šã€ç›£æŸ»äººã®å–å¼•ã®è¨˜éŒ²ã«å¯¾ã™ã‚‹è²¬ä»»ã¯å¤§å¹…ã«æ‹¡å¤§ã—ãŸã€‚
ä¼æ¥­ã¯ã€æ³•çš„ãªæ‰€æœ‰æ¨©ã‚„ç¾©å‹™ãŒã‚ã‚‹å ´åˆã€ãã‚ŒãŒè²¡å‹™è«¸è¡¨ã¸è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºå®Ÿãªã‚‚ã®ã¨ã™ã‚‹ãŸã‚ã«ã€è¨˜éŒ²ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ãŒæœŸå¾…ã•ã‚Œã¦ã„ã‚‹ã€‚ --></p></li>
</ol>
</section>
<section id="chart-of-accounts" class="slide level2">
<h2>Chart of Accounts</h2>
<ul>
<li>Once an event has successfully bridged the transition from real world to captured and recorded accounting transaction, <em>it needs a name and a sign</em>. <!-- ã‚ã‚‹äº‹è±¡ãŒã€ç¾å®Ÿä¸–ç•Œã‹ã‚‰ä¼šè¨ˆå–å¼•ã¨ã—ã¦è­˜åˆ¥ã•ã‚Œè¨˜éŒ²ã•ã‚Œã‚‹ã¾ã§ã®æ©‹æ¸¡ã—ã«æˆåŠŸã—ãŸã‚‰ã€ãã®äº‹è±¡ã«ã¯åå‰ã¨ç¬¦å·ãŒå¿…è¦ã¨ãªã‚‹ã€‚ --></li>
<li>This is the responsibility of the â€œ<em>Chart of Accounts</em>â€. <!-- ã“ã‚ŒãŒ ã€Œå‹˜å®šç§‘ç›®ä¸€è¦§ï¼ˆChart of Accountsï¼‰ã€ã®è²¬ä»»ã§ã‚ã‚‹ã€‚ --></li>
<li>The Chart of Accounts is an artificial categorization system that is set up by the firmâ€™s controller or financial executive. <!-- å‹˜å®šç§‘ç›®ä¸€è¦§ã¯ã€ä¼æ¥­ã®çµŒç†æ‹…å½“è€…ã¾ãŸã¯è²¡å‹™æ‹…å½“å½¹å“¡ã«ã‚ˆã£ã¦è¨­å®šã•ã‚Œã‚‹äººå·¥çš„ãªåˆ†é¡žã‚·ã‚¹ãƒ†ãƒ ã§ã‚ã‚‹ã€‚ --></li>
<li>It varies from firm to firm, reflecting the idiosyncrasies of the firmâ€™s particular business. <!-- ã“ã‚Œã¯ã€ä¼šç¤¾ã«ã‚ˆã£ã¦ç•°ãªã‚Šã€ãã®ä¼šç¤¾ç‰¹æœ‰ã®ãƒ“ã‚¸ãƒã‚¹ã®ç‰¹æ€§ã‚’åæ˜ ã—ã¦ã„ã‚‹ã€‚ --></li>
</ul>
</section>
<section class="slide level2">

<ul>
<li>There are general guidelines for constructing any Chart of Accounts, guided by <em>generally accepted accounting principles</em> (GAAP) and needed to assure that investors can easily compare investment in one firm with another. <!-- å‹˜å®šç§‘ç›®ä¸€è¦§ã®ä½œæˆã«ã¯ã€ä¸€èˆ¬ã«å…¬æ­£å¦¥å½“ã¨èªã‚ã‚‰ã‚ŒãŸä¼šè¨ˆåŽŸå‰‡ï¼ˆGenerally Accepted Accounting Principlesï¼šä»¥ä¸‹ã€GAAPï¼‰ã«åŸºã¥ãä¸€èˆ¬çš„ãªæŒ‡é‡ãŒã‚ã‚Šã€å‹˜å®šç§‘ç›®ä¸€è¦§ã¯æŠ•è³‡å®¶ãŒã‚ã‚‹ä¼æ¥­ã¸ã®æŠ•è³‡ã¨ä»–ã®ä¼æ¥­ã¸ã®æŠ•è³‡ã‚’å®¹æ˜“ã«æ¯”è¼ƒã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«å¿…è¦ã§ã‚ã‚‹ã€‚ --></li>
<li>High volume transactions such as sales and payroll will have their own journals - today these are typically computer systems dedicated to processing a single type of transaction. <!-- å£²ä¸Šã‚„çµ¦ä¸Žè¨ˆç®—ã®ã‚ˆã†ãªå¤§é‡ã®å–å¼•ã¯ã€ãã‚Œãžã‚Œç‹¬è‡ªã®å¸³ç°¿ã‚’æŒã£ã¦ãŠã‚Šã€ç¾åœ¨ã€ã“ã‚Œã‚‰ã®ç‹¬è‡ªã®å¸³ç°¿ã¯ã€é€šå¸¸ã€å˜ä¸€ç¨®é¡žã®å–å¼•ã‚’å‡¦ç†ã™ã‚‹ãŸã‚ã®å°‚ç”¨ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ»ã‚·ã‚¹ãƒ†ãƒ ã¨ãªã£ã¦ã„ã‚‹ã€‚--></li>
</ul>
</section>
<section class="slide level2">

<ul>
<li>Less common transactions may receive less attention, and thus may be more error prone. <!-- ã‚ã¾ã‚Šä¸€èˆ¬çš„ã§ãªã„å–å¼•ã¯ã€ã‚ã¾ã‚Šæ³¨ç›®ã•ã‚Œãªã„ãŸã‚ã€èª¤è¬¬ãŒç™ºç”Ÿã—ã‚„ã™ã„ã‹ã‚‚ã—ã‚Œãªã„ã€‚  --></li>
<li>In addition, there may be specific idiosyncrasies of GAAP that modify the application and interpretation of any of these <em>four filters</em>. <!-- ã•ã‚‰ã«ã€ä¸‹è¨˜ã®4ã¤ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã®ã©ã‚Œã‹ã®é©ç”¨ã¨è§£é‡ˆã‚’å¤‰æ›´ã™ã‚‹ã‚ˆã†ãªã€GAAPç‰¹æœ‰ã®ç‰¹æ€§ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€‚ --></li>
<li>Thus when auditors speak of a â€œ<em>transaction stream</em>â€ (å–å¼•ã®ãƒ•ãƒ­ãƒ¼) they are fundamentally referencing some real-world event located in time, space, and value, but which has been processed through a set of filters: <!-- å¾“ã£ã¦ã€ç›£æŸ»äººãŒã€Œå–å¼•ãƒ•ãƒ­ãƒ¼ï¼ˆtransaction streamï¼‰ã€ã¨è¨€ã†å ´åˆã€åŸºæœ¬çš„ã«ã¯ã€æ™‚é–“ã€ç©ºé–“ã€ ãŠã‚ˆã³ä¾¡å€¤ã§ä½ç½®ã¥ã‘ã‚‰ã‚Œã‚‹ç¾å®Ÿä¸–ç•Œã®äº‹è±¡ã‚’æŒ‡ã—ã¦ã„ã‚‹ãŒã€ãã‚Œã¯ä¸‹è¨˜ã®é€£ç¶šã—ãŸãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’é€šã—ã¦å‡¦ç†ã•ã‚ŒãŸã‚‚ã®ã§ã‚ã‚‹ã€‚ --></li>
</ul>
</section>
<section id="the-five-filters" class="slide level2">
<h2>The Five Filters</h2>
<ol type="1">
<li>capture. å–å¼•ã®è­˜åˆ¥</li>
<li>legal ownership and valuation. æ³•çš„ãªæ‰€æœ‰æ¨©ã¨è©•ä¾¡</li>
<li>firm boundaries. ä¼æ¥­ã®å¢ƒç•Œ</li>
<li>classification. åˆ†é¡ž</li>
<li>GAAP. GAAP</li>
</ol>
<!--
1.
2.
3.
4.
5.
 -->
</section>
<section class="slide level2">

<ul>
<li>This complexity is fundamental to process of accounting, and is necessary for assuring that stakeholders have <em>informative and comparable financial statements</em>. <!-- ã“ã®ã‚ˆã†ãªè¤‡é›‘æ€§ã¯ã€ä¼šè¨ˆãƒ—ãƒ­ã‚»ã‚¹ã®åŸºæœ¬ã§ã‚ã‚Šã€åˆ©å®³é–¢ä¿‚è€…ãŒæƒ…å ±æä¾›çš„ã§æ¯”è¼ƒå¯èƒ½ãªè²¡å‹™è«¸è¡¨ã‚’å…¥æ‰‹ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«å¿…è¦ãªã‚‚ã®ã§ã‚ã‚‹ã€‚ --></li>
<li>The remainder of the accounting process is a matter of stylized summarization of the transactions processed through these filters. <!-- ï¼ˆ5æ®µéšŽã®ãƒ—ãƒ­ã‚»ã‚¹ä»¥å¤–ã®ï¼‰ä¼šè¨ˆãƒ—ãƒ­ã‚»ã‚¹ã®æ®‹ã‚Šã®éƒ¨åˆ†ã¯ã€ã“ã‚Œã‚‰ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’é€šã—ã¦å‡¦ç†ã•ã‚ŒãŸå–å¼•ã«ã¤ã„ã¦æ•°å€¤ã‚’å®šåž‹çš„ã«è¦ç´„ã—ã¦ã„ãã“ã¨ã«é–¢ã™ã‚‹å•é¡Œã§ã‚ã‚‹ã€‚ --></li>
<li>The summarization is inherently <strong>linear-additive</strong> with a few non-linear exceptions applied to allocations over time or output. <!-- ã“ã®è¦ç´„ã¯æœ¬è³ªçš„ã«ç·šå½¢åŠ æ³•çš„ï¼ˆlinear-additiveï¼‰ã§ã‚ã‚‹ãŒã€æ™‚é–“ã‚„ï¼ˆç”Ÿç”£é«˜ãªã©ã®ï¼‰ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã«å¿œã˜ãŸé…åˆ†ã«é©ç”¨ã•ã‚Œã‚‹ã„ãã¤ã‹ã®éžç·šå½¢ã®ä¾‹å¤–ã‚‚ã‚ã‚‹ã€‚ --></li>
<li>Sadly, the most consequential part of accounting - <em>this five stage filtering process</em> - is also the part that receives very little formal attention in auditing. <!-- æ®‹å¿µãªãŒã‚‰ã€è²¡å‹™è«¸è¡¨ã®æœ€ã‚‚é‡è¦ãªéƒ¨åˆ†ã§ã‚ã‚‹ã“ã®5æ®µéšŽã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãƒ»ãƒ—ãƒ­ã‚»ã‚¹ã¯ã€ç›£æŸ»ã§ã¯ã»ã¨ã‚“ã©æ³¨ç›®ã•ã‚Œãªã„éƒ¨åˆ†ã§ã‚‚ã‚ã‚‹ã€‚ --></li>
</ul>
</section>
<section id="audit-tests-as-learning-models" class="slide level2">
<h2>Audit Tests as Learning Models</h2>
<p>Auditing may be seen as a sequence of evidence collection and analyses that help the auditor learn enough to render an opinion. Conceptually, the tests involve a sequence of inferences: <!-- ç›£æŸ»ã¯ã€ç›£æŸ»äººãŒç›£æŸ»æ„è¦‹ã‚’è¡¨æ˜Žã™ã‚‹ã®ã«ç›¸å¿œã—ã„å­¦ç¿’ã‚’è¡Œã‚ã›ã‚‹ãŸã‚ã®ä½“ç³»çš„ãªè¨¼æ‹ åŽé›†ã¨åˆ†æžã¨ã—ã¦æ‰ãˆã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ --> <!-- æ¦‚å¿µçš„ã«ã¯ã€ç›£æŸ»æ‰‹ç¶šã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªä¸€é€£ã®æŽ¨è«–ãŒå«ã¾ã‚Œã‚‹ã€‚ --></p>
<ol type="1">
<li><p><strong>Audit planning</strong> will have set scope and sample size values for audit tasks that in general â€˜seek to discoverâ€™ (i.e., <strong>discovery sampling</strong>) whether or not transaction processing is or is not in control. This is usually stated as an <em>assessment of error rates</em> rather than dollar magnitudes of error. <!-- 1. ç›£æŸ»è¨ˆç”»ã§ã¯ã€é‹ç”¨è©•ä¾¡æ‰‹ç¶šã«é©ç”¨ã•ã‚Œã‚‹ç›£æŸ»ç¯„å›²ã¨ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚ºãŒè¨­å®šã•ã‚Œã‚‹ã€‚ã“ã“ã§é‹ç”¨è©•ä¾¡æ‰‹ç¶šã¯ã€å…¨ä½“ã¨ã—ã¦å–å¼•å‡¦ç†ãŒçµ±åˆ¶ã•ã‚Œã¦ã„ã‚‹ã‹å¦ã‹ã‚’ã€Œç™ºè¦‹ã—ã‚ˆã†ã¨ã™ã‚‹ã€ãŸã‚ã«å®Ÿæ–½ã•ã‚Œã‚‹ï¼ˆã™ãªã‚ã¡ã€ã“ã®ã‚ˆã†ãªæ‰‹ç¶šã¯ç™ºè¦‹ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼ˆdiscovery samplingï¼‰ã¨ã„ãˆã‚‹ï¼‰ã€‚ã“ã®ã‚ˆã†ãªé‹ç”¨è©•ä¾¡æ‰‹ç¶šã§ã¯ã€è™šå½è¡¨ç¤ºé¡ã§ã¯ãªãé€¸è„±çŽ‡ã®è©•ä¾¡ãŒè¡Œã‚ã‚Œã‚‹ã€‚ --></p></li>
<li><p>If errors are discovered in a particular transaction flow, then <em>sufficient additional evidence</em> (ååˆ†ãªè¿½åŠ çš„ç›£æŸ»è¨¼æ‹ ) must be gathered to assess the rate of error occurrences in the transaction flow (i.e., attribute sampling). <!-- 2. ç‰¹å®šã®å–å¼•ãƒ•ãƒ­ãƒ¼ã«ãŠã„ã¦é€¸è„±ãŒç™ºè¦‹ã•ã‚ŒãŸå ´åˆã€ãã®å–å¼•ãƒ•ãƒ­ãƒ¼ã«ãŠã‘ã‚‹é€¸è„±çŽ‡ã‚’è©•ä¾¡ã™ã‚‹ãŸã‚ã«ã€ååˆ†ãªè¿½åŠ è¨¼æ‹ ãŒåŽé›†ã•ã‚Œãªã‘ã‚Œã°ãªã‚‰ãªã„ï¼ˆã™ãªã‚ã¡ã€ã“ã®ã‚ˆã†ãªæ‰‹ç¶šã¯å±žæ€§ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼ˆattribute samplingï¼‰ã¨ã„ãˆã‚‹ï¼‰ã€‚ --></p></li>
</ol>
</section>
<section class="slide level2">

<ol start="3" type="1">
<li><p>Transaction flows with error rates that are sufficiently high to be deemed â€œout-of-controlâ€ (i.e., intolerable from the audit perspective) are listed on <em>the Internal Control Memo</em> generated at the end of the <em>Interim compliance audit</em>. <!-- 3. ã€Œå…¨ä½“ã¨ã—ã¦çµ±åˆ¶ã§ãã¦ã„ãªã„ï¼ˆout-of-controlï¼‰ã€ã€ã¤ã¾ã‚Šç›£æŸ»ã®è¦³ç‚¹ã‹ã‚‰ã¯è¨±å®¹ã§ããªã„ã¨åˆ¤æ–­ã•ã‚Œã‚‹ã»ã©ååˆ†ã«é€¸è„±çŽ‡ãŒé«˜ã„å–å¼•ãƒ•ãƒ­ãƒ¼ã¯ã€é‹ç”¨è©•ä¾¡æ‰‹ç¶šã®æœ€å¾Œã«ä½œæˆã•ã‚Œã‚‹å†…éƒ¨çµ±åˆ¶ã«ã¤ã„ã¦ã®å†…éƒ¨å ±å‘Šï¼ˆInternal Control Memoï¼‰ã«è¨˜è¼‰ã•ã‚Œã‚‹ã€‚ --></p></li>
<li><p>Financial statement account balances affected by any transaction flows with error rates that are sufficiently high to be deemed â€œout-of-controlâ€ will have their sample sizes in the audit program for year-end substantive tests adjusted to assure an accurate assessment of the existence of material error in the audited financial statements. <!-- 4. å…¨ä½“ã¨ã—ã¦çµ±åˆ¶ã§ãã¦ã„ãªã„ã¨åˆ¤æ–­ã•ã‚Œã‚‹ã»ã©é€¸è„±çŽ‡ãŒé«˜ã„å–å¼•ãƒ•ãƒ­ãƒ¼ã®å½±éŸ¿ã‚’å—ã‘ã‚‹è²¡å‹™è«¸è¡¨ã®å‹˜å®šæ®‹é«˜ã«ã¤ã„ã¦ã¯ã€ç›£æŸ»è¨ˆç”»ã«ãŠã„ã¦å®Ÿè¨¼æ‰‹ç¶šã®ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚ºãŒèª¿æ•´ã•ã‚Œã‚‹ã€‚ã“ã‚Œã¯ã€ç›£æŸ»æ¸ˆè²¡å‹™è«¸è¡¨ã«ãŠã‘ã‚‹é‡è¦ãªè™šå½è¡¨ç¤ºã‚’æ­£ç¢ºã«è©•ä¾¡ã™ã‚‹ãŸã‚ã§ã‚ã‚‹ã€‚ --></p></li>
</ol>
</section>
<section class="slide level2">

<ul>
<li>Various ad hoc and formal models have been proposed for the gradual accumulation of knowledge of the accounts throughout the audit. <!-- ç›£æŸ»ã‚’é€šã˜ã¦è²¡å‹™è«¸è¡¨ã«é–¢ã™ã‚‹çŸ¥è­˜ã‚’ æ®µéšŽçš„ã«è“„ç©ã™ã‚‹ãŸã‚ã«ã€æ§˜ã€…ãªã‚¢ãƒ‰ãƒ›ãƒƒã‚¯ãƒ¢ãƒ‡ãƒ«ã‚„å½¢å¼çš„ãƒ¢ãƒ‡ãƒ«ãŒææ¡ˆã•ã‚Œã¦ããŸã€‚ --></li>
<li>My own preference is for systems of audit task evidence accumulation modeled as <em>Bayesian conjugate priors</em>. <!-- ç­†è€…ãŒå¥½ã‚“ã§ã„ã‚‹ã®ã¯ã€ãƒ™ã‚¤ã‚ºå…±å½¹äº‹å‰åˆ†å¸ƒã¨ã—ã¦ãƒ¢ãƒ‡ãƒ«åŒ–ã•ã‚ŒãŸç›£æŸ»è¨¼æ‹ ã®åŽé›†ãƒ»è©•ä¾¡ã®ã‚·ã‚¹ãƒ†ãƒ ã§ã‚ã‚‹ã€‚ --></li>
<li>The most general of these involves the <em>Gamma distribution</em>, but we will simplify some of the steps using the <em>simpler one-parameter Poisson distribution</em>. <!-- ã“ã®ã‚ˆã†ãªãƒ¢ãƒ‡ãƒ«ã§æœ€ã‚‚ä¸€èˆ¬çš„ãªã®ã¯ã‚¬ãƒ³ãƒžåˆ†å¸ƒã‚’åˆ©ç”¨ã—ãŸã‚‚ã®ã§ã‚ã‚‹ãŒã€è‘—è€…ã¯ã‚ˆã‚Šå˜ç´”ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒ1ã¤ã ã‘ã®ãƒã‚¢ã‚½ãƒ³åˆ†å¸ƒã‚’åˆ©ç”¨ã—ã¦ç°¡ç•¥åŒ–ã—ã¦ã„ã‚‹ --></li>
<li>Both distributions take on values on the positive quadrant, and thus are <em>more suitable for modeling accounting distributions than the Normal distribution</em>. <!-- ã€‚ã©ã¡ã‚‰ã®åˆ†å¸ƒã‚‚æ­£ã®è±¡é™ä¸Šã®å€¤ã‚’ã¨ã‚‹ã®ã§ã€æ­£è¦åˆ†å¸ƒã‚ˆã‚Šã‚‚ä¼šè¨ˆæ•°å€¤ã‚’ãƒ¢ãƒ‡ãƒ«åŒ–ã™ã‚‹ã®ã«é©ã—ã¦ã„ã‚‹ã€‚ --></li>
</ul>
</section></section>
<section>
<section id="working-with-dates" class="title-slide slide level1 center">
<h1>Working with Dates</h1>
<!-- æ—¥ä»˜ãƒ‡ãƒ¼ã‚¿ã®å‡¦ç† -->
<ul>
<li>Time is an essential component of auditing. <!-- æ™‚é–“ã¯ç›£æŸ»ã‚’å®Ÿæ–½ã™ã‚‹ã«ã‚ãŸã£ã¦é‡è¦ãªè¦ç´ ã§ã‚ã‚‹ã€‚ --></li>
<li><em>Income statement accounts</em> represent sums of transactions <strong>within strictly set periods</strong>, and <em>balance sheet accounts</em> are stated at <strong>a specific time</strong>. <!-- æç›Šè¨ˆç®—æ›¸ã®å‹˜å®šç§‘ç›®ã¯åŽ³å¯†ã«è¨­å®šã•ã‚ŒãŸæœŸé–“å†…ã®å–å¼•é¡ã®åˆè¨ˆã‚’è¡¨ã—ã€è²¸å€Ÿå¯¾ç…§è¡¨ã®å‹˜å®šç§‘ç›®ã¯ç‰¹å®šã®æ™‚ç‚¹ã§è¨ˆä¸Šã•ã‚Œã‚‹ã€‚ --> <!-- - Auditors routinely test timing of transactions for cutoff errors and frauds such as check kiting allows fraudsters to build up a balance in one bank by writing bad checks on another bank; or lapping involves stealing a customer payment and using any additional payments from that customer to cover the theft. --> <!-- ç›£æŸ»äººã¯æ—¥å¸¸çš„ã«ã€ã‚«ãƒƒãƒˆã‚ªãƒ•ã‚¨ãƒ©ãƒ¼ã‚„ã€ã‚­ãƒƒãƒ†ã‚£ãƒ³ã‚°ã¨å‘¼ã°ã‚Œã‚‹å°åˆ‡æ‰‹è©æ¬ºï¼ˆä¸æ­£å®Ÿæ–½è€…ãŒãŒã‚ã‚‹éŠ€è¡Œã«å¯¾ã—ã¦é é‡‘ãŒãªã„ã«ã‚‚ã‹ã‹ã‹ã‚ã‚‰ãšå°åˆ‡æ‰‹ã‚’æŒ¯ã‚Šå‡ºã—ã¦ã€åˆ¥ã®éŠ€è¡Œã®é é‡‘ã®æ®‹é«˜ã‚’ç™ºç”Ÿã•ã›ã‚‹ã‚‚ã®ï¼‰ã‚„ãƒ©ãƒƒãƒ”ãƒ³ã‚°ï¼ˆé¡§å®¢ã‹ã‚‰ã®ä»£é‡‘ã‚’ç›—ã¿ã€ä»–ã®é¡§å®¢ã‹ã‚‰ã®ä»£é‡‘ã‚’çªƒç›—ã—ãŸä»£é‡‘ã®è£œå¡«ã«å……ã¦ã‚‹ã“ã¨ï¼‰ã®ã‚ˆã†ãªä¸æ­£ã‚’æ¤œæŸ»ã™ã‚‹ãŸã‚ã«å–å¼•ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’æ¤œè¨¼ã™ã‚‹ã€‚ --></li>
<li>Transactions are always time-stamped, and the internal control, processing and auditing of client systems are heavily dependent on timing of transactions. <!-- å–å¼•ã«ã¯å¸¸ã«ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ãŒæŠ¼ã•ã‚Œã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã®å†…éƒ¨çµ±åˆ¶ã€å‡¦ç†ã€ãŠã‚ˆã³ç›£æŸ»ï¼ˆã®ä¿¡é ¼æ€§ï¼‰ã¯å–å¼•ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«å¤§ããä¾å­˜ã™ã‚‹ã€‚ --> <!-- Unfortunately, in computer environments, date-time data can be frustrating, error prone and difficult to work with, even though they are an essential element of all accounting systems.  --> <!-- æ®‹å¿µãªã“ã¨ã«ã€å¤šãã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ç’°å¢ƒã«ãŠã„ã¦ã€æ—¥ä»˜ãƒ»æ™‚åˆ»ã®ãƒ‡ãƒ¼ã‚¿ã¯ã€ã™ã¹ã¦ã®ä¼šè¨ˆã‚·ã‚¹ãƒ†ãƒ ã«é‡è¦jãªè¦ç´ ã§ã‚ã‚‹ã«ã‚‚ã‹ã‹ã‚ã‚‰ãšã€è‹›ç«‹ãŸã—ãã€å•é¡ŒãŒç™ºç”Ÿã—ã‚„ã™ãã€æ‰±ã†ã®ãŒé›£ã—ã„ã€‚ --> <!-- Fortunately, the R package *lubridate* simplifies date-time manipulation and calculations in a fashion unparalleled in other software.  --></li>
</ul>
</section>
<section id="lubridate-packages" class="slide level2">
<h2><code>lubridate</code> packages</h2>
<!-- ã—ã‹ã—å¹¸ã„ãªã“ã¨ã«ã€Rãƒ‘ãƒƒã‚±ãƒ¼ã‚¸*lubridate*ã¯ã€ä»–ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã«ã¯ãªã„æ–¹æ³•ã§ã€æ—¥æ™‚ãƒ»æ™‚åˆ»ãƒ‡ãƒ¼ã‚¿ã®æ“ä½œã¨è¨ˆç®—ã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã‚‹ã€‚ -->
<ul>
<li>The <code>lubridate</code> package makes it easier to do the things R does with date-times and possible to do the things that Base-R does not.</li>
<li><code>lubridate</code> is included in <code>tidyverse</code> package now. <!-- `lubridate`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ã€æ—¥ä»˜ãƒ»æ™‚åˆ»ãƒ‡ãƒ¼ã‚¿ã®å‡¦ç†ã‚’å®¹æ˜“ã«ã™ã‚‹ã“ã¨ãŒã§ãã€Rã®åŸºæœ¬é–¢æ•°ã§ã¯ã§ããªã„ã“ã¨ãŒã§ãã‚‹ã€‚ --></li>
<li>We can use these functions: <code>ymd()</code>ï¼Œ<code>mdy()</code>ï¼Œ<code>dmy()</code> etc. <!-- æ—¥æ™‚ã®è§£æž: ymd(), ymd_hms, dmy(), dmy_hms, mdy()ãªã© --></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(auditanalytics, tidyverse)</span>
<span id="cb60-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd</span>(<span class="dv">20101215</span>) <span class="co"># year month day</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2010-12-15"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">mdy</span>(<span class="st">"4/1/17"</span>) <span class="co"># month day year</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2017-04-01"</code></pre>
</div>
</div>
</section>
<section id="other-funcitons-in-lubridate-packages" class="slide level2">
<h2>Other funcitons in <code>lubridate</code> packages</h2>
<p>A simple function to get and set elements of a date-time, <code>year()</code>, <code>month()</code>, <code>mday()</code>, etc. <!-- ## æ—¥æ™‚ã®è¦ç´ ã‚’å–å¾—ãƒ»è¨­å®šã™ã‚‹ç°¡å˜ãªé–¢æ•°, year(), month(), mday(),ãªã© --></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="" aria-hidden="true" tabindex="-1"></a>bday <span class="ot">&lt;-</span> <span class="fu">dmy</span>(<span class="st">"14/10/1979"</span>)</span>
<span id="cb64-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">month</span>(bday) <span class="co"># æœˆã‚’å–å¾—</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">wday</span>(bday, <span class="at">label =</span> <span class="cn">TRUE</span>) <span class="co"># 1979å¹´10æœˆ14æ—¥ã¯æ—¥æ›œæ—¥</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] æ—¥
Levels: æ—¥ &lt; æœˆ &lt; ç« &lt; æ°´ &lt; æœ¨ &lt; é‡‘ &lt; åœŸ</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">year</span>(bday) <span class="ot">&lt;-</span> <span class="dv">2016</span></span>
<span id="cb68-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">wday</span>(bday, <span class="at">label =</span> <span class="cn">TRUE</span>) <span class="co"># 2016å¹´10æœˆ14æ—¥ã¯é‡‘æ›œæ—¥</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] é‡‘
Levels: æ—¥ &lt; æœˆ &lt; ç« &lt; æ°´ &lt; æœ¨ &lt; é‡‘ &lt; åœŸ</code></pre>
</div>
</div>
</section>
<section id="with_tz-and-force_tz" class="slide level2">
<h2><code>with_tz()</code> and <code>force_tz()</code></h2>
<p>Helper functions for handling time zones in <code>lubridate</code>: <code>with_tz()</code>, <code>force_tz()</code>. <!-- ## lubridateã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’æ‰±ã†ãŸã‚ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°: with_tz(), force_tz() --></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="" aria-hidden="true" tabindex="-1"></a>time <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(<span class="st">"2010-12-13 15:30:30"</span>) <span class="co"># time stamp</span></span>
<span id="cb70-2"><a href="" aria-hidden="true" tabindex="-1"></a>time <span class="co"># 2010å¹´12æœˆ13æ—¥15æ™‚30åˆ†30ç§’</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2010-12-13 15:30:30 UTC"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">with_tz</span>(time, <span class="st">"America/Chicago"</span>) <span class="co"># time zone change</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2010-12-13 09:30:30 CST"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">force_tz</span>(time, <span class="st">"America/Chicago"</span>) <span class="co">#</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2010-12-13 15:30:30 CST"</code></pre>
</div>
</div>
<p>timezoneã«åˆã‚ã›ã¦æ™‚åˆ»ã‚‚å¤‰æ›ã—ãŸã„å ´åˆã¯<code>with_tz()</code>ï¼Œtimezoneã ã‘ã‚’ç½®ãæ›ãˆãŸã„å ´åˆã¯<code>force_tz()</code></p>
</section>
<section id="lubridate-operations" class="slide level2">
<h2><code>lubridate</code> operations</h2>
<p>The <code>lubridate</code> also expands the type of mathematical operations that can be performed with date-time objects, and defines three time span classes that play roles in auditing: <!-- `lubridate`ã¯ã€æ—¥æ™‚ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§å®Ÿè¡Œã§ãã‚‹æ•°å­¦çš„æ¼”ç®—ã®ç¨®é¡žã‚‚æ‹¡å¼µã—ã€ç›£æŸ»ã«ãŠã„ã¦å½¹å‰²ã‚’æžœãŸã™3ã¤ã®æ™‚é–“é–“éš”ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã™ã‚‹ã€‚ --></p>
<ul>
<li><strong>durations</strong>, which measure the <em>exact amount of time between two points</em> <!-- - æŒç¶šæ™‚é–“(durations)ã¯ã€2ã¤ã®ç‚¹ã®é–“ã®æ­£ç¢ºãªæ™‚é–“ã‚’æ¸¬å®šã™ã‚‹ --></li>
<li><strong>periods</strong>, which accurately track clock times despite leap years, leap seconds, and day light savings time <!-- - æœŸé–“(periods)ã¯ã€ã†ã‚‹ã†å¹´ã€ã†ã‚‹ã†ç§’ã€å¤æ™‚é–“ã«ã‚‚å¯¾å¿œã—ãŸæ™‚è¨ˆæ™‚é–“ã‚’æ­£ç¢ºã«è¿½è·¡ã™ã‚‹ --></li>
<li><strong>intervals</strong>, a protean summary of the time information between two points <!-- - åŒºé–“(intervals)ã¯ã€2ç‚¹é–“ã®æ™‚é–“æƒ…å ±ã®å¤šæ§˜ãªè¦ç´„ã§ã‚ã‚‹ --></li>
</ul>
</section>
<section id="example-of-lubridate-operations" class="slide level2">
<h2>Example of <code>lubridate</code> operations</h2>
<div id="qwebr-insertion-location-4"></div>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
<!--
start <- ymd_hms("2024-10-16 13:00:00")
finish <- ymd_hms("2024-10-16 16:40:00")
-->
</section></section>
<section>
<section id="accounting-transactions" class="title-slide slide level1 center">
<h1>Accounting Transactions</h1>

</section>
<section id="accounting-transactions-for-auditors" class="slide level2">
<h2>Accounting Transactions for Auditors</h2>
<ul>
<li>Accounting transactions are the <strong>raw data</strong> in an accounting system. <!-- ä¼šè¨ˆå–å¼•ã¯ã€ä¼šè¨ˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã‘ã‚‹ã€Œç”Ÿãƒ‡ãƒ¼ã‚¿ã€ã§ã‚ã‚‹ã€‚ --></li>
<li>They represent measurements of economic events such as sales or purchases, that cross the border of the firm. <!-- ä¼šè¨ˆå–å¼•ã¯ã€ä¼æ¥­ã®å¢ƒç•Œã‚’è¶Šãˆã‚‹å£²ä¸Šã‚„ä»•å…¥ã®ã‚ˆã†ãªçµŒæ¸ˆäº‹è±¡ã®æ¸¬å®šå€¤ã‚’è¡¨ã™ã‚‚ã®ã§ã‚ã‚‹ã€‚ --></li>
<li>Transactions are â€œmeasuredâ€ and â€œrecordedâ€ on <em>journal entries</em>, the documents of original entry. <!-- å–å¼•ã¯ã€åŽŸæ›¸è¨˜å…¥å¸³(documents of original entry)ã«*ä»•è¨³*ã§ã€Œæ¸¬å®šã€ã•ã‚Œã€ã€Œè¨˜éŒ²ã€ã•ã‚Œã‚‹ã€‚ --></li>
<li>Journal entries were originally simply reminders and descriptive notes recorded in a journal book. <!-- ä»•è¨³ã¯ã‚‚ã¨ã‚‚ã¨ã€å˜ã«ä»•è¨³å¸³ã«è¨˜éŒ²ã•ã‚ŒãŸãƒªãƒžã‚¤ãƒ³ãƒ€ãƒ¼ã‚„è¨˜è¿°çš„ãªãƒ¡ãƒ¢ã§ã‚ã£ãŸã€‚ --></li>
<li>But with more formal, mathematical developments in accounting, they evolved into their current form of documents of original entry. <!-- ã—ã‹ã—ã€ä¼šè¨ˆã«ãŠã‘ã‚‹ã‚ˆã‚Šå½¢å¼çš„ã§æ•°å­¦çš„ãªç™ºå±•ã«ã‚ˆã‚Šã€åŽŸæ›¸è¨˜å…¥å¸³ã®ç¾åœ¨ã®å½¢å¼ã«é€²åŒ–ã—ãŸã€‚ --> <!-- - For high volume transactions, there will typically be specialized journals, e.g., the Sales Journal, or Purchase Journal, that consolidate the recording of these types of transactions in the accounting systems. --> <!-- é«˜é »åº¦ã®å–å¼•ã«ã¤ã„ã¦ã¯ã€å£²ä¸Šä»•è¨³å¸³ã‚„ä»•å…¥ä»•è¨³å¸³ãªã©ã®ç‰¹æ®Šãªä»•è¨³å¸³ãŒã‚ã‚Šã€ä¼šè¨ˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã‘ã‚‹ã“ã®ç¨®ã®å–å¼•ã®è¨˜éŒ²ã‚’çµ±åˆã™ã‚‹ã€‚ --></li>
</ul>
</section>
<section id="th-century-developments-in-accounting" class="slide level2">
<h2>20th Century Developments in Accounting</h2>
<ul>
<li>Before the twentieth century, accounting was concerned mainly with computing the <strong>asset value</strong> of the firm, and focused on economic events that made the firm richer or poorer. <!-- 20ä¸–ç´€ä»¥å‰ã€ä¼šè¨ˆã¯ä¸»ã«ä¼æ¥­ã®è³‡ç”£ä¾¡å€¤ã‚’è¨ˆç®—ã—ã€ä¼æ¥­ã‚’è±Šã‹ã«ã—ãŸã‚Šè²§ã—ãã—ãŸã‚Šã™ã‚‹çµŒæ¸ˆçš„ãªå‡ºæ¥äº‹ã«ç„¦ç‚¹ã‚’å½“ã¦ã¦ã„ãŸã€‚ --></li>
<li>The twentieth century saw a transition to a more holistic perspective, where transactions were recorded to track, in addition to wealth, <em>managerial performance</em>, and <em>stakeholder interests</em>. <!-- 20ä¸–ç´€ã«ã¯ã€ã‚ˆã‚ŠåŒ…æ‹¬çš„ãªè¦–ç‚¹ã¸ã®ç§»è¡ŒãŒè¦‹ã‚‰ã‚Œã€å–å¼•ã¯è²¡ç”£ã«åŠ ãˆã¦ã€çµŒå–¶è€…ã®æ¥­ç¸¾ã‚„åˆ©å®³é–¢ä¿‚è€…ã®åˆ©ç›Šã‚’è¿½è·¡ã™ã‚‹ãŸã‚ã«è¨˜éŒ²ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ãŸã€‚ --> <!-- In practice, our minimum level of resolution in transactions and accounts is one dollar (a single monetary unit). --> <!-- å®Ÿå‹™ä¸Šã€å–å¼•ã¨å‹˜å®šã®æœ€å°è§£åƒåº¦ã¯1ãƒ‰ãƒ«ï¼ˆå˜ä¸€ã®é€šè²¨å˜ä½ï¼‰ã§ã‚ã‚‹ã€‚ --> <!-- - This resolution limit is in fact the basis of audit procedures such as dollar-unit sampling. --> <!-- ã“ã®è§£åƒåº¦ã®åˆ¶é™ã¯ã€ãƒ‰ãƒ«å˜ä½æŠ½å‡ºãªã©ã®ç›£æŸ»æ‰‹ç¶šãã®åŸºç¤Žã¨ãªã£ã¦ã„ã‚‹ã€‚ --></li>
<li>We are not limited to dollar levels of resolution; annual reports may use <em>thousands or millions of dollars</em> as their level of resolution. <!-- è§£åƒåº¦ã®ãƒ¬ãƒ™ãƒ«ã¯ãƒ‰ãƒ«ã«é™å®šã•ã‚Œã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªãã€å¹´æ¬¡å ±å‘Šæ›¸ã§ã¯æ•°åƒãƒ‰ãƒ«ã‚„æ•°ç™¾ä¸‡ãƒ‰ãƒ«ã‚’è§£åƒåº¦ã®ãƒ¬ãƒ™ãƒ«ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ --></li>
<li>Additionally, accounting and double-entry bookkeeping are methods of generating summarizations of transactions, and these often take the form of <strong>value</strong> <span class="math inline">\times</span> <strong>quantity</strong> statistics. <!-- ãã‚ãˆã¦ã€ä¼šè¨ˆã¨è¤‡å¼ç°¿è¨˜ã¯å–å¼•ã®è¦ç´„ã‚’ç”Ÿæˆã™ã‚‹æ–¹æ³•ã§ã‚ã‚Šã€ã“ã‚Œã‚‰ã¯ã—ã°ã—ã°ä¾¡å€¤$\times $æ•°é‡ã®çµ±è¨ˆé‡ã®å½¢ã‚’ã¨ã‚‹ã€‚ --></li>
</ul>
</section>
<section id="the-histogram-of-accounting-transactions" class="slide level2">
<h2>The Histogram of Accounting Transactions</h2>
<ul>
<li>In the histogram below which was constructed from a real-world transaction journal, we use <code>qplot()</code> to produce a <em>histogram of discrete transaction values</em> at a resolution of one dollar. <!-- ä»¥ä¸‹ã®ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã¯ã€å®Ÿéš›ã®å–å¼•ä»•è¨³å¸³ã‹ã‚‰ä½œæˆã•ã‚ŒãŸã‚‚ã®ã§ã‚ã‚Šã€`qplot`ï¼ˆggplotã®çœç•¥å½¢ï¼‰ã‚’ä½¿ç”¨ã—ã¦ã€1ãƒ‰ãƒ«ã®è§£åƒåº¦ã§é›¢æ•£çš„ãªå–å¼•å€¤ã®ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã‚’ä½œæˆã—ã¦ã„ã‚‹ã€‚ --></li>
<li>The level of resolution determines the number of histogram bins, in this case 30. <!-- è§£åƒåº¦ã®ãƒ¬ãƒ™ãƒ«ã¯ã€ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã®ãƒ“ãƒ³ã®æ•°ã‚’æ±ºå®šã™ã‚‹ã€‚ã“ã®å ´åˆã¯30ã§ã‚ã‚‹ã€‚ --></li>
<li>Human cognition tends to be overwhelmed by large numbers of bins, which is why we often see financial statistics summarized at levels of resolution larger than one dollar (Fig. 1). <!-- äººé–“ã®èªçŸ¥ã¯ã€å¤šæ•°ã®ãƒ“ãƒ³ã«åœ§å€’ã•ã‚ŒãŒã¡ã§ã‚ã‚‹ã€‚ã“ã‚ŒãŒã€ã—ã°ã—ã°1ãƒ‰ãƒ«ã‚ˆã‚Šå¤§ããªè§£åƒåº¦ã§è¦ç´„ã•ã‚ŒãŸè²¡å‹™çµ±è¨ˆã‚’è¦‹ã‚‹ç†ç”±ã§ã‚ã‚‹ï¼ˆå›³1ï¼‰ã€‚ --></li>
</ul>
</section>
<section class="slide level2">

<h3 id="fig.-1.-histogram-of-accounting-transactions">Fig. 1. Histogram of Accounting Transactions</h3>

<img data-src="img/audit_fig01.png" class="r-stretch quarto-figure-center"><p class="caption">Figure 1</p></section>
<section class="slide level2">

<ul>
<li>This histogram displays several characteristics commonly seen in actual transaction probability distributions: <!-- ã“ã®ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã«ã¯ã€å®Ÿéš›ã®å–å¼•ç¢ºçŽ‡åˆ†å¸ƒã§ã‚ˆãè¦‹ã‚‰ã‚Œã‚‹ã„ãã¤ã‹ã®ç‰¹å¾´ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã€‚ --></li>
</ul>
<ol type="1">
<li>the distribution is <strong>left-bounded at zero</strong>. <!-- 1. åˆ†å¸ƒã¯ã‚¼ãƒ­ã§å·¦ã«åˆ¶é™ã•ã‚Œã¦ã„ã‚‹ã€‚ --></li>
<li>the distribution may be <strong>zero-inflated</strong>, i.e., it may have a substantial number of zero measurements. <!-- 2. åˆ†å¸ƒã¯ã‚¼ãƒ­ãŒå¤šãå«ã¾ã‚Œã¦ã„ã‚‹ã€ã™ãªã‚ã¡ã€ã‚¼ãƒ­ã®æ¸¬å®šå€¤ãŒå¤šãå«ã¾ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚ --></li>
<li><strong>the distribution is multimodal</strong>, with a succession of value clusters trailing off to the right. <!-- åˆ†å¸ƒã¯å¤šå³°æ€§ã§ã‚ã‚Šã€å³ã«ä¼¸ã³ã‚‹å€¤ã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãŒç¶šã„ã¦ã„ã‚‹ã€‚ --></li>
</ol>
</section>
<section class="slide level2">

<h3 id="first-characteristics">First characteristics</h3>
<ul>
<li>The first characteristic is built into accounting systems by design; <em>account entries should not contain negative values</em>. <!-- ç¬¬1ã®ç‰¹å¾´ã¯ä¼šè¨ˆã‚·ã‚¹ãƒ†ãƒ ã®è¨­è¨ˆã«çµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ã€‚å‹˜å®šç§‘ç›®ã«ã¯è² ã®å€¤ã‚’å«ã‚ã‚‹ã¹ãã§ã¯ãªã„ã€‚ --> <!-- Rather, when a transaction reduces an account balance, e.g., a reduction of Sales when there is a Sales Return, the reduction should be recorded in the "contra" account Sales Returns and Allowances. --> <!-- ã‚€ã—ã‚ã€å–å¼•ãŒå‹˜å®šç§‘ç›®ã®æ®‹é«˜ã‚’æ¸›å°‘ã•ã›ã‚‹å ´åˆã€ä¾‹ãˆã°ã€å£²ä¸Šè¿”å“ãŒã‚ã‚‹å ´åˆã€æ¸›å°‘ã¯ã€Œå¯¾ç§°ã€å‹˜å®šã®å£²ä¸Šè¿”å“ã¨æ‰‹æ•°æ–™ã«è¨ˆä¸Šã•ã‚Œã‚‹ã¹ãã§ã‚ã‚‹ã€‚ --></li>
<li>This convention goes back to the birth of accounting. <!-- ã“ã®æ…£ç¿’ã¯ä¼šè¨ˆã®èª•ç”Ÿã«ã•ã‹ã®ã¼ã‚‹ã€‚ --></li>
<li>In ninth century Baghdad, Al-Khwarizmi solved linear and quadratic equations using algebraic methods derived from the work of the Indian mathematician Brahmagupta, who invented negative numbers. <!-- 9ä¸–ç´€ã®ãƒã‚°ãƒ€ãƒƒãƒ‰ã§ã€ã‚¢ãƒ«ï¼ãƒ¯ãƒªã‚ºãƒŸãƒ¼ã¯ã€è² ã®æ•°ã‚’ç™ºæ˜Žã—ãŸã‚¤ãƒ³ãƒ‰ã®æ•°å­¦è€…ãƒ–ãƒ©ãƒ•ãƒžã‚°ãƒ—ã‚¿ã®ç ”ç©¶ã‹ã‚‰ã‚‚ãŸã‚‰ã•ã‚ŒãŸä»£æ•°çš„æ‰‹æ³•ã‚’ç”¨ã„ã¦ã€ç·šå½¢æ–¹ç¨‹å¼ã¨äºŒæ¬¡æ–¹ç¨‹å¼ã‚’è§£ã„ãŸã€‚ --> <!-- Nonetheless, Al-Khwarizmi felt that negative results were meaningless. --> <!-- ãã‚Œã«ã‚‚ã‹ã‹ã‚ã‚‰ãšã€ã‚¢ãƒ«ï¼ãƒ¯ãƒªã‚ºãƒŸãƒ¼ã¯ã€è² ã®çµæžœã¯æ„å‘³ã‚’ãªã•ãªã„ã¨æ„Ÿã˜ã¦ã„ãŸã€‚ --></li>
<li>In his treatise on the laws of inheritance (where the double-entry system was first published) Al-Khwarizmi instructed his readers to represent negative quantities as debts - i.e., <em>contra-accounts</em>. <!-- ã‚¢ãƒ«ï¼ãƒ¯ãƒªã‚ºãƒŸãƒ¼ã¯ã€ç›¸ç¶šã®æ³•å¾‹ã«é–¢ã™ã‚‹å½¼ã®è«–æ–‡ï¼ˆè¤‡å¼ç°¿è¨˜ãŒåˆã‚ã¦ç™ºè¡¨ã•ã‚ŒãŸå ´æ‰€ï¼‰ã§ã€èª­è€…ã«è² ã®æ•°é‡ã‚’å‚µå‹™ï¼ˆã™ãªã‚ã¡ã€å¯¾ç§°å‹˜å®šï¼‰ã¨ã—ã¦è¡¨ç¾ã™ã‚‹ã‚ˆã†æŒ‡ç¤ºã—ãŸã€‚ --></li>
</ul>
</section>
<section class="slide level2">

<h3 id="second-characteristics">Second Characteristics</h3>
<ul>
<li>The second characteristic reflects the existence of â€œconvenienceâ€ transactions that record an economic event that has no effect on firm wealth. <!-- ç¬¬2ã®ç‰¹å¾´ã¯ã€ä¼æ¥­ã®å¯Œã«å½±éŸ¿ã‚’ä¸Žãˆãªã„çµŒæ¸ˆçš„äº‹è±¡ã‚’è¨˜éŒ²ã™ã‚‹ã€Œä¾¿å®œçš„ã€ãªå–å¼•ã®å­˜åœ¨ã‚’åæ˜ ã—ã¦ã„ã‚‹ã€‚ --></li>
<li>These could reflect estimates, adjustments, or other ad hoc entries. <!-- ã“ã‚Œã‚‰ã¯ã€è¦‹ç©ã‚Šã€èª¿æ•´ã€ãã®ä»–ã®ã‚¢ãƒ‰ãƒ›ãƒƒã‚¯ãªä»•è¨³ã‚’åæ˜ ã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚ --></li>
<li>The final characteristic is most interesting. <!-- æœ€å¾Œã®ç‰¹å¾´ã¯æœ€ã‚‚èˆˆå‘³æ·±ã„ã€‚ --> <!-- - The verdict is still out on why we see this in transaction streams, but it seems to have several sources. --> <!-- ãªãœå–å¼•ã‚¹ãƒˆãƒªãƒ¼ãƒ ã§ã“ã‚Œã‚’è¦‹ã‚‹ã®ã‹ã¯ã¾ã ã‚ã‹ã£ã¦ã„ãªã„ãŒã€ã„ãã¤ã‹ã®ã‚½ãƒ¼ã‚¹ãŒã‚ã‚‹ã‚ˆã†ã ã€‚ --></li>
<li>Transactions may be produced by several independent processes, perhaps representing different locations, product values, or other factor. <!-- å–å¼•ã¯ã€ç•°ãªã‚‹å ´æ‰€ã€è£½å“ä¾¡å€¤ã€ãã®ä»–ã®è¦å› ã‚’è¡¨ã™ã‹ã‚‚ã—ã‚Œãªã„ãŒã€ã„ãã¤ã‹ã®ç‹¬ç«‹ã—ãŸãƒ—ãƒ­ã‚»ã‚¹ã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚ --></li>
<li>Another explanation arises from the mathematics of many transaction amounts - the unit price times the number of items in the transaction. <!-- åˆ¥ã®èª¬æ˜Žã¯ã€å¤šãã®å–å¼•é‡‘é¡ã®æ•°å­¦ã€å˜ä¾¡$\times $å–å¼•æ•°é‡ã‹ã‚‰ç”Ÿã˜ã‚‹ã€‚ --></li>
</ul>
</section>
<section class="slide level2">

<p>Even where values and quantities are unimodally distributed, their product can be multimodal, as is seen in the following graph (Fig. 2). <!-- å€¤ã¨æ•°é‡ãŒå˜å³°æ€§åˆ†å¸ƒã§ã‚ã£ã¦ã‚‚ã€ãã®ç©ã¯å¤šå³°æ€§ã«ãªã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚ --> <!-- ä»¥ä¸‹ã®ã‚°ãƒ©ãƒ•ï¼ˆå›³2ï¼‰ã‚’è¦‹ã¦ã¿ã‚ˆã†ã€‚ --></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="" aria-hidden="true" tabindex="-1"></a>price <span class="ot">&lt;-</span> <span class="fu">rpois</span>(<span class="at">n =</span> <span class="dv">1000</span>, <span class="at">lambda =</span> <span class="dv">2</span>)  <span class="co"># ãƒãƒ¯ã‚½ãƒ³åˆ†å¸ƒã‹ã‚‰1000å€‹ã®ä¹±æ•°ã‚’ç”Ÿæˆ</span></span>
<span id="cb76-2"><a href="" aria-hidden="true" tabindex="-1"></a>quantity <span class="ot">&lt;-</span> <span class="fu">rpois</span>(<span class="dv">1000</span>, <span class="dv">10000</span>) <span class="co"># ãƒãƒ¯ã‚½ãƒ³åˆ†å¸ƒã‹ã‚‰1000å€‹ã®ä¹±æ•°ã‚’ç”Ÿæˆ</span></span>
<span id="cb76-3"><a href="" aria-hidden="true" tabindex="-1"></a>value <span class="ot">&lt;-</span> price <span class="sc">*</span> quantity      <span class="co"># ä¾¡æ ¼ã¨æ•°é‡ã®ç©</span></span>
<span id="cb76-4"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">qplot</span>(value, <span class="at">geom =</span> <span class="st">"histogram"</span>) <span class="co"># ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ </span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="gaisho_2024_03_files/figure-revealjs/qplot01-1.png" width="960" class="r-stretch"></section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">qplot</span>(value, <span class="at">geom =</span> <span class="st">"density"</span>)   <span class="co"># å¯†åº¦åˆ†å¸ƒ</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="gaisho_2024_03_files/figure-revealjs/qqplot2-1.png" width="960" class="r-stretch"></section>
<section id="the-central-limit-theorem-and-accounting" class="slide level2">
<h2>The Central Limit Theorem and Accounting</h2>
<ul>
<li>Because accounting systems use linear operators, and <strong>summation</strong> is central to most accounting computations, it is natural to assume - when sampling, summarizing, or estimating errors - that errors are Normally distributed, because of the <strong>Central Limit Theorem</strong> (CLT). <!-- ä¼šè¨ˆã‚·ã‚¹ãƒ†ãƒ ã¯ç·šå½¢æ¼”ç®—ã‚’ä½¿ç”¨ã—ã€ã»ã¨ã‚“ã©ã®ä¼šè¨ˆè¨ˆç®—ã«ãŠã„ã¦åŠ ç®—ãŒä¸­å¿ƒçš„ãªå½¹å‰²ã‚’æžœãŸã™ãŸã‚ã€ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã€è¦ç´„ã€èª¤å·®ã®æŽ¨å®šã‚’è¡Œã†éš›ã«ã¯ã€ä¸­å¿ƒæ¥µé™å®šç†ï¼ˆCLTï¼‰ã«ã‚ˆã‚Šã€èª¤å·®ã¯æ­£è¦åˆ†å¸ƒã«å¾“ã†ã¨ä»®å®šã™ã‚‹ã®ãŒè‡ªç„¶ã§ã‚ã‚‹ã€‚ --></li>
<li>The CLT provides useful approximations, and is appropriate in many situations. <!-- ä¸­å¿ƒæ¥µé™å®šç†ã¯æœ‰ç”¨ãªè¿‘ä¼¼å€¤ã‚’æä¾›ã—ã€å¤šãã®çŠ¶æ³ã«ãŠã„ã¦é©åˆ‡ã§ã‚ã‚‹ã€‚ --> <!-- Nonetheless, the auditor should not blindly invoke CLT convergence to justify Normality assumptions in the search for material errors in the financial statements (Fig. 3). --> <!-- ãã‚Œã«ã‚‚ã‹ã‹ã‚ã‚‰ãšã€ç›£æŸ»äººã¯ã€è²¡å‹™è«¸è¡¨ã«ãŠã‘ã‚‹é‡å¤§ãªèª¤ã‚Šã‚’æŽ¢ã™ãŸã‚ã«æ­£è¦æ€§ã®ä»®å®šã‚’æ­£å½“åŒ–ã™ã‚‹ãŸã‚ã«ã€ä¸­å¿ƒæ¥µé™å®šç†ã®åŽæŸã‚’ç›²ç›®çš„ã«å¼•ãåˆã„ã«å‡ºã™ã¹ãã§ã¯ãªã„ï¼ˆå›³3ï¼‰ã€‚ --> <!-- - In a search for material errors, it may not be the entire transaction or account distribution that is important, but just **the upper tail**. --> <!-- é‡å¤§ãªèª¤ã‚Šã‚’æŽ¢ã™éš›ã«ã¯ã€å–å¼•ã‚„å‹˜å®šã®åˆ†å¸ƒå…¨ä½“ãŒé‡è¦ãªã®ã§ã¯ãªãã€ä¸Šå´ã®ãƒ†ãƒ¼ãƒ«ã ã‘ãŒé‡è¦ã§ã‚ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€‚ --></li>
<li>Audit decisions tend to focus on the existence of material misstatements, which limit them to the upper tail. <!-- ç›£æŸ»ã®æ„æ€æ±ºå®šã¯ã€é‡å¤§ãªèª¤ã‚Šã®å­˜åœ¨ã«ç„¦ç‚¹ã‚’å½“ã¦ã‚‹å‚¾å‘ãŒã‚ã‚Šã€ã“ã‚Œã¯ä¸Šå´ã®ãƒ†ãƒ¼ãƒ«ã«é™å®šã•ã‚Œã‚‹ã€‚ --></li>
</ul>
<!-- For a broad range of distributions, the asymptotic upper tail distribution can be inferred from the Fisherâ€“Tippettâ€“Gnedenko (FTG) theorem, an extreme value counterpart to the CLT. -->
<!-- åºƒç¯„å›²ã®åˆ†å¸ƒã«ã¤ã„ã¦ã¯ã€ä¸­å¿ƒæ¥µé™å®šç†ã®æ¥µé™å€¤ã«å¯¾å¿œã™ã‚‹ãƒ•ã‚£ãƒƒã‚·ãƒ£ãƒ¼ãƒ»ãƒ†ã‚£ãƒšãƒƒãƒˆãƒ»ã‚°ãƒãƒ‡ãƒ³ã‚³(FTG)ã®å®šç†ã‹ã‚‰ã€æ¼¸è¿‘çš„ãªä¸Šå´ãƒ†ãƒ¼ãƒ«åˆ†å¸ƒã‚’æŽ¨å®šã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ -->
<!-- The FTG Theorem proves that extreme values can only converge to either the Gumbel, FrÃ©chet, or Weibull distributions or they do not converge at all. -->
<!-- FTGå®šç†ã¯ã€æ¥µå€¤ã¯ã‚¬ãƒ³ãƒ™ãƒ«åˆ†å¸ƒã€ãƒ•ãƒ¬ã‚·ã‚§åˆ†å¸ƒã€ã¾ãŸã¯ãƒ¯ã‚¤ãƒ–ãƒ«åˆ†å¸ƒã®ã„ãšã‚Œã‹ã«ã—ã‹åŽæŸã—ãªã„ã“ã¨ã‚’è¨¼æ˜Žã—ã¦ã„ã‚‹ã€‚ -->
<!-- FTG convergence applies only to the right tail of the distribution, and is widely invoked in insurance risk models. -->
<!-- FTGåŽæŸã¯åˆ†å¸ƒã®å³å´ãƒ†ãƒ¼ãƒ«ã«ã®ã¿é©ç”¨ã•ã‚Œã€ä¿é™ºãƒªã‚¹ã‚¯ãƒ¢ãƒ‡ãƒ«ã§åºƒãå¼•ç”¨ã•ã‚Œã¦ã„ã‚‹ã€‚ -->
<!-- This can be very useful in practice, empirical distributions in finance can be complicated, with multiple modes which may not be stable over time. -->
<!-- ã“ã‚Œã¯å®Ÿå‹™ã§éžå¸¸ã«æœ‰ç”¨ã§ã‚ã‚Šã€é‡‘èžã«ãŠã‘ã‚‹çµŒé¨“åˆ†å¸ƒã¯è¤‡é›‘ã§ã‚ã‚Šã€è¤‡æ•°ã®ãƒ¢ãƒ¼ãƒ‰ãŒã‚ã‚Šã€æ™‚é–“ã®çµŒéŽã¨ã¨ã‚‚ã«å®‰å®šã—ãªã„å ´åˆãŒã‚ã‚‹ã€‚ -->
<ul>
<li>Being able to more accurately characterize accounting distributions that matter allows the auditor to potentially reduce sample sizes, and lower the cost of auditing. <!-- é‡è¦ãªä¼šè¨ˆåˆ†å¸ƒã‚’ã‚ˆã‚Šæ­£ç¢ºã«ç‰¹å¾´ä»˜ã‘ã‚‹ã“ã¨ãŒã§ãã‚Œã°ã€ç›£æŸ»äººã¯ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚ºã‚’ç¸®å°ã—ã€ç›£æŸ»ã®ã‚³ã‚¹ãƒˆã‚’å‰Šæ¸›ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ --></li>
</ul>
</section>
<section id="couching-institutional-language-in-statistical-terms" class="slide level2">
<h2>Couching Institutional Language in Statistical Terms</h2>
<!-- çµ±è¨ˆçš„ç”¨èªžã§åˆ¶åº¦çš„è¨€èªžã‚’è¡¨ç¾ã™ã‚‹ -->
<ul>
<li>Generally, auditing assumes underlying Gaussian distributions of account and transaction values. <!-- ä¸€èˆ¬çš„ã«ç›£æŸ»ã§ã¯ã€å‹˜å®šæ®‹é«˜ã‚„å–å¼•é‡‘é¡ãŒæ­£è¦åˆ†å¸ƒï¼ˆã‚¬ã‚¦ã‚¹åˆ†å¸ƒï¼‰ã«å¾“ã†ã¨ä»®å®šã—ã¦ã„ã‚‹ã€‚ --> <!-- - Evidence has existed for some time (Loebbecke and Steinbart 1987) that empirical distributions of account and transaction values are kurtotic and can be multimodal. --> <!-- ä¼šè¨ˆå–å¼•ã®é‡‘é¡ã«ã¤ã„ã¦çµŒé¨“çš„ã«æƒ³å®šã•ã‚Œã¦ã„ã‚‹åˆ†å¸ƒãŒç›²ç›®çš„ã§ã‚ã‚Šã€ï¼ˆå®Ÿéš›ã®åˆ†å¸ƒãŒï¼‰å¤šå³°å½¢ãªå¯èƒ½æ€§ãŒã‚ã‚‹ã¨ã„ã†å®Ÿè¨¼çš„è¨¼æ‹ ã¯ä»¥å‰ã‹ã‚‰å­˜åœ¨ã™ã‚‹ï¼ˆLoebbecke and Steinbart 1987ï¼‰ã€‚ --></li>
<li>Gaussian assumptions are made for convenience, and there has been no clear evidence to date this assumption is unreasonable. <!-- ä¾¿å®œä¸Šæ­£è¦åˆ†å¸ƒï¼ˆã‚¬ã‚¦ã‚¹åˆ†å¸ƒï¼‰ãŒä»®å®šã•ã‚Œã¦ã„ã‚‹ã‚ã‘ã ãŒã€ã“ã®ä»®å®šãŒä¸åˆç†ã§ã‚ã‚‹ã¨ã„ã†æ˜Žç¢ºãªå®Ÿè¨¼çš„è¨¼æ‹ ã‚‚ã“ã‚Œã¾ã§å­˜åœ¨ã—ã¦ã„ãªã„ã€‚ --></li>
<li>Auditors are concerned with the potential errors in audit decision-making that can arise from mis-classifying audit asset and transaction distributions. <!-- ç›£æŸ»äººã¯ã€ç›£æŸ»ã™ã‚‹è³‡ç”£ã‚„å–å¼•ã®åˆ†å¸ƒã‚’èª¤åˆ†é¡žã™ã‚‹ã“ã¨ã‹ã‚‰ç”Ÿã˜ã‚‹å¯èƒ½æ€§ã®ã‚ã‚‹ç›£æŸ»æ„æ€æ±ºå®šã«ãŠã‘ã‚‹å¤±æ•—ã®å¯èƒ½æ€§ã‚’æ‡¸å¿µã—ã¦ã„ã‚‹ã€‚ --></li>
<li>If these are large, then auditors are either collecting more evidence than needed (driving up audit costs) or unnecessarily incurring additional risk of an incorrect audit opinion (and thus potential litigation). <!-- ã“ã‚Œã‚‰ã®ç›£æŸ»æ„æ€æ±ºå®šã«ãŠã‘ã‚‹å¤±æ•—ãŒå¤§ãã„å ´åˆã€ç›£æŸ»äººã¯å¿…è¦ä»¥ä¸Šã®ç›£æŸ»è¨¼æ‹ ã‚’åŽé›†ã™ã‚‹ã“ã¨ã«ãªã‚‹ï¼ˆã²ã„ã¦ã¯ç›£æŸ»ã‚³ã‚¹ãƒˆã‚’æŠ¼ã—ä¸Šã’ã‚‹ï¼‰ã‹ã€ä¸å¿…è¦ã«èª¤ã£ãŸç›£æŸ»æ„è¦‹ï¼ˆã²ã„ã¦ã¯æ½œåœ¨çš„ãªè¨´è¨Ÿã«ã¤ãªãŒã‚‹ï¼‰ã®è¿½åŠ çš„ãªæå®³ã®ãƒªã‚¹ã‚¯ã‚’è² ã†ã“ã¨ã«ãªã‚‹ã€‚ --></li>
</ul>
</section>
<section class="slide level2">

<p>The AICPA defines <em>two aspects</em> to sampling risk when <strong>performing tests of controls</strong>: <!-- AICPAã¯ã€é‹ç”¨è©•ä¾¡æ‰‹ç¶šã‚’å®Ÿæ–½ã™ã‚‹éš›ã®ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ãƒªã‚¹ã‚¯ã«ã¤ã„ã¦ã€ä¸‹è¨˜ã®2ã¤ã®å´é¢ã‚’å®šç¾©ã—ã¦ã„ã‚‹ã€‚ --></p>
<ol type="1">
<li><em>The risk of assessing control risk too low</em> represents the risk that an audit sample supports the conclusion that the design and operation of an internal con rol is effective when in fact it is not. <!-- 1. çµ±åˆ¶ãƒªã‚¹ã‚¯ã‚’éŽå¤§è©•ä¾¡ã™ã‚‹ãƒªã‚¹ã‚¯ã¯ã€å†…éƒ¨çµ±åˆ¶ã®è¨­è¨ˆã¨é‹ç”¨ãŒå®Ÿéš›ã«ã¯æœ‰åŠ¹ã§ã‚ã‚‹ã«ã‚‚ã‹ã‹ã‚ã‚‰ãšã€æœ‰åŠ¹ã§ã¯ãªã„ã¨ã„ã†çµè«–ãŒç›£æŸ»ã‚µãƒ³ãƒ—ãƒ«ã«ã‚ˆã£ã¦è£ä»˜ã‘ã‚‰ ã‚‹ãƒªã‚¹ã‚¯ã‚’æ„å‘³ã™ã‚‹ï¼ˆç¬¬1ç¨®ã®éŽèª¤ã€æ¿¡ã‚Œè¡£ã®ãƒªã‚¹ã‚¯ï¼‰ã€‚ --></li>
<li><em>The risk of assessing control risk too high</em> represents the risk that an audit sample supports the conclusion that the design and operation of an internal control is not effective when in fact it is effective. <!-- 2. çµ±åˆ¶ãƒªã‚¹ã‚¯ã‚’éŽå¤§è©•ä¾¡ã™ã‚‹ãƒªã‚¹ã‚¯ã¯ã€å†…éƒ¨çµ±åˆ¶ã®è¨­è¨ˆã¨é‹ç”¨ãŒå®Ÿéš›ã«ã¯æœ‰åŠ¹ã§ãªã„ã«ã‚‚ã‹ã‹ã‚ã‚‰ãšã€æœ‰åŠ¹ã§ã‚ã‚‹ã¨ã„ã†çµè«–ãŒç›£æŸ»ã‚µãƒ³ãƒ—ãƒ«ã«ã‚ˆã£ã¦è£ä»˜ã‘ã‚‰ã‚Œã‚‹ãƒªã‚¹ã‚¯ã‚’æ„å‘³ã™ã‚‹ï¼ˆç¬¬2ç¨®ã®éŽèª¤ã€è¦‹é€ƒã—ã®ãƒªã‚¹ã‚¯ï¼‰ã€‚ --></li>
</ol>
<!--
æ¾æµ¦ãƒ¡ãƒ¢ ç›£åŸºå ±330
(1) ã€Œé‹ç”¨è©•ä¾¡æ‰‹ç¶šã€ï¼ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ¬ãƒ™ãƒ«ã®é‡è¦ãªè™šå½è¡¨ç¤ºã‚’é˜²æ­¢åˆã¯ç™ºè¦‹ãƒ»æ˜¯æ­£ã™ã‚‹å†…éƒ¨çµ±
åˆ¶ã«ã¤ã„ã¦ã€ãã®é‹ç”¨çŠ¶æ³ã®æœ‰åŠ¹æ€§ã‚’è©•ä¾¡ã™ã‚‹ãŸã‚ã«ç«‹æ¡ˆã—å®Ÿæ–½ã™ã‚‹ç›£æŸ»æ‰‹ç¶šã‚’ã„ã†ã€‚
(2) ã€Œå®Ÿè¨¼æ‰‹ç¶šã€ï¼ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ¬ãƒ™ãƒ«ã®é‡è¦ãªè™šå½è¡¨ç¤ºã‚’çœ‹éŽã—ãªã„ã‚ˆã†ç«‹æ¡ˆã—å®Ÿæ–½ã™ã‚‹ç›£
æŸ»æ‰‹ç¶šã‚’ã„ã„ã€ä»¥ä¸‹ã®äºŒã¤ã®æ‰‹ç¶šã§æ§‹æˆã•ã‚Œã‚‹ã€‚
  â‘  è©³ç´°ãƒ†ã‚¹ãƒˆï¼ˆå–å¼•ç¨®é¡žã€å‹˜å®šæ®‹é«˜åŠã³æ³¨è¨˜äº‹é …ã«é–¢ã—ã¦å®Ÿæ–½ã™ã‚‹ã€‚ï¼‰
  â‘¡ åˆ†æžçš„å®Ÿè¨¼æ‰‹ç¶š
(3) ã€Œãƒªã‚¹ã‚¯å¯¾å¿œæ‰‹ç¶šã€ï¼ç›£æŸ»ãƒªã‚¹ã‚¯ã‚’è¨±å®¹å¯èƒ½ãªä½Žã„æ°´æº–ã«æŠ‘ãˆã‚‹ãŸã‚ã«ã€è­˜åˆ¥ã—è©•ä¾¡ã—ãŸã‚¢
ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ¬ãƒ™ãƒ«ã®é‡è¦ãªè™šå½è¡¨ç¤ºãƒªã‚¹ã‚¯ã«å¯¾å¿œã—ã¦ã€ç«‹æ¡ˆã—å®Ÿæ–½ã™ã‚‹ç›£æŸ»æ‰‹ç¶šã‚’ã„ã†ã€‚ãƒªã‚¹
ã‚¯å¯¾å¿œæ‰‹ç¶šã¯ã€é‹ç”¨è©•ä¾¡æ‰‹ç¶šã¨å®Ÿè¨¼æ‰‹ç¶šã§æ§‹æˆã™ã‚‹ã€‚

ç›£æŸ»äººãŒç›£æŸ»æ„è¦‹ã‚’è¿°ã¹ã‚‹ã«ã‚ãŸã£ã¦ã¯ã€è²¡å‹™è«¸è¡¨ã®å„é …ç›®ã€æ§‹æˆã™ã‚‹è¦ç´ ã¨ãªã‚‹å–å¼•ã‚„ä¼šè¨ˆäº‹è±¡ã®æ­£ã—ã•ã‚’ç¢ºã‹ã‚ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚ãã®ç¢ºã‹ã‚ã‚‹ã¹ãç›®æ¨™ã‚’ã€Œç›£æŸ»è¦ç‚¹ã€ã¨ã„ã„ã€ã“ã‚Œã«é©åˆã—ãŸååˆ†ã‹ã¤é©åˆ‡ãªç›£æŸ»è¨¼æ‹ ã‚’ç›£æŸ»æ‰‹ç¶šã‚’å®Ÿæ–½ã—ã¦å…¥æ‰‹ã™ã‚‹ã€‚
å…·ä½“çš„ã«ã¯ã€
â—å®Ÿåœ¨æ€§ï¼ˆæœ¬å½“ã«ã‚ã‚‹ã®ã‹ï¼‰
â—ç¶²ç¾…æ€§ï¼ˆã™ã¹ã¦è¨˜éŒ²ã•ã‚Œã¦ã„ã‚‹ã‹ï¼‰
â—æ¨©åˆ©ã¨ç¾©å‹™ã®å¸°å±žï¼ˆä¼šç¤¾ã®ã‚‚ã®ã‹ï¼‰
â—è©•ä¾¡ã®å¦¥å½“æ€§ï¼ˆé©åˆ‡ãªä¾¡é¡ã‹ï¼‰
â—æœŸé–“é…åˆ†ã®é©åˆ‡æ€§ï¼ˆæ­£ã—ã„æœŸé–“ã«è¨ˆä¸Šã•ã‚Œã¦ã„ã‚‹ã‹ï¼‰
â—è¡¨ç¤ºã®å¦¥å½“æ€§ï¼ˆãã¡ã‚“ã¨é–‹ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ï¼‰
-->
</section>
<section class="slide level2">

<p>The AICPA defines two aspects to sampling risk when <strong>performing substantive tests</strong>: <!-- AICPAã¯ã€å®Ÿè¨¼æ‰‹ç¶šã‚’å®Ÿæ–½ã™ã‚‹éš›ã®ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ãƒªã‚¹ã‚¯ã«ã¯2ã¤ã®å´é¢ãŒã‚ã‚‹ã¨å®šç¾©ã—ã¦ã„ã‚‹ã€‚ --></p>
<ol type="1">
<li>The risk of incorrect acceptance represents the risk that an audit sample supports the conclusion that a material misstatement does not exist when in fact a material misstatement does exist. This risk is similar to the risk of assessing control risk too low. <!-- (1) èª¤ã£ãŸæ‰¿èªã®ãƒªã‚¹ã‚¯ã¯ã€ç›£æŸ»ã‚µãƒ³ãƒ—ãƒ«ãŒã€å®Ÿéš›ã«ã¯é‡å¤§ãªèª¤ã‚ŠãŒå­˜åœ¨ã™ã‚‹ã«ã‚‚ã‹ã‹ã‚ã‚‰ãšã€é‡å¤§ãªèª¤ã‚ŠãŒå­˜åœ¨ã—ãªã„ã¨ã„ã†çµè«–ã‚’æ”¯æŒã™ã‚‹ãƒªã‚¹ã‚¯ã‚’è¡¨ã—ã¦ã„ã‚‹ã€‚ã“ã®ãƒªã‚¹ã‚¯ã¯ã€çµ±åˆ¶ãƒªã‚¹ã‚¯ã‚’ä½Žãè©•ä¾¡ã—ã™ãŽã‚‹ãƒªã‚¹ã‚¯ã«é¡žä¼¼ã—ã¦ã„ã‚‹ã€‚ --></li>
<li>The risk of incorrect rejection represents the risk that an audit sample supports the conclusion that a material misstatement exists when in fact a material misstatement does not exist. This risk is similar to the risk of assessing control risk too high. <!-- (2) èª¤ã£ãŸæ‹’å¦ã®ãƒªã‚¹ã‚¯ã¯ã€ç›£æŸ»ã‚µãƒ³ãƒ—ãƒ«ãŒã€å®Ÿéš›ã«ã¯é‡å¤§ãªèª¤ã‚ŠãŒå­˜åœ¨ã—ãªã„ã«ã‚‚ã‹ã‹ã‚ã‚‰ãšã€é‡å¤§ãªèª¤ã‚ŠãŒå­˜åœ¨ã™ã‚‹ã¨ã„ã†çµè«–ã‚’æ”¯æŒã™ã‚‹ãƒªã‚¹ã‚¯ã‚’è¡¨ã—ã¦ã„ã‚‹ã€‚ã“ã®ãƒªã‚¹ã‚¯ã¯ã€çµ±åˆ¶ãƒªã‚¹ã‚¯ã‚’é«˜ãè©•ä¾¡ã—ã™ãŽã‚‹ãƒªã‚¹ã‚¯ã«é¡žä¼¼ã—ã¦ã„ã‚‹ã€‚ --></li>
</ol>
</section>
<section class="slide level2">

<ul>
<li>Ultimately, an audit must provide shareholders in publicly traded securities an independent verification of the â€œ<em>fairness</em>â€ of accounting reports. <!-- ç©¶æ¥µçš„ã«ã¯ã€ç›£æŸ»ã¯ä¸Šå ´ä¼æ¥­ã®è¨¼åˆ¸ã‚’ä¿æœ‰ã™ã‚‹æ ªä¸»ã«ä¼šè¨ˆå ±å‘Šã®ã€Œå…¬æ­£æ€§ï¼ˆfairnessï¼‰ã€ã«ã¤ã„ã¦ç‹¬ç«‹ã—ãŸç«‹å ´ã‹ã‚‰ç«‹è¨¼ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚ --></li>
<li>Audit procedures are dictated by two objectives: <em>cost efficiency</em> in data collection and analysis, and â€œ<em>fairness</em>â€ in reporting. <!-- ç›£æŸ»æ‰‹ç¶šã¯ã€ãƒ‡ãƒ¼ã‚¿åŽé›†ã¨åˆ†æžã«ãŠã‘ã‚‹ç›£æŸ»ã‚³ã‚¹ãƒˆã®åŠ¹çŽ‡ã¨ã€å ±å‘Šã«ãŠã‘ã‚‹ã€Œå…¬æ­£æ€§ã€ã¨ã„ã†2ã¤ã®ç›®çš„ã«ã‚ˆã£ã¦è¦å®šã•ã‚Œã‚‹ã€‚ --></li>
<li>Fairness is generally interpreted as <em>absence of â€œmaterial errorâ€</em> in the accounting reports. <!-- å…¬æ­£æ€§ã¨ã¯ã€ä¸€èˆ¬çš„ã«ä¼šè¨ˆå ±å‘Šã«ã€Œé‡è¦ãªè™šå½è¡¨ç¤ºã€ãŒãªã„ã“ã¨ã¨è§£é‡ˆã•ã‚Œã‚‹ã€‚ --></li>
<li>For audits performed by an outside audit firm, risk assessment is a very crucial stage before accepting an audit engagement. <!-- å¤–éƒ¨ã®ç›£æŸ»æ³•äººã«ã‚ˆã‚‹è¡Œã‚ã‚Œã‚‹ç›£æŸ»ã«ãŠã„ã¦ï¼Œãƒªã‚¹ã‚¯è©•ä¾¡ã¯ç›£æŸ»å¥‘ç´„ã‚’å¼•ãå—ã‘ã‚‹å‰ã§ã‚‚æ¥µã‚ã¦é‡è¦ãªæ®µéšŽã§ã‚ã‚‹ã€‚ --> <!-- It is an integral part of determining the audit tasks that will be performed in the audit program. --> <!-- ç›£æŸ»è¨ˆç”»ã§å®Ÿæ–½ã•ã‚Œã‚‹ç›£æŸ»æ¥­å‹™ã‚’æ±ºå®šã™ã‚‹ä¸Šã§æ¬ ã‹ã›ãªã„ä¸€éƒ¨ã§ã‚ã‚‹ã€‚ --> <!-- According to ISA 315, Understanding the Entity and its Environment and Assessing the Risks of Material Misstatement, â€œthe auditor should perform risk assessment procedures to obtain an understanding of the entity and its environment, including its internal control.â€ --> <!-- ISA315ã€Œä¼æ¥­ãŠã‚ˆã³ãã®ç’°å¢ƒã®ç†è§£ãªã‚‰ã³ã«é‡è¦ãªè™šå½è¡¨ç¤ºãƒªã‚¹ã‚¯ã®è©•ä¾¡ã€ã«ã‚ˆã‚‹ã¨ã€ã€Œç›£æŸ»äººã¯ã€å†…éƒ¨çµ±åˆ¶ã‚’å«ã‚€ä¼æ¥­ãŠã‚ˆã³ãã®ç’°å¢ƒã‚’ç†è§£ã™ã‚‹ãŸã‚ã«ã€ãƒªã‚¹ã‚¯è©•ä¾¡æ‰‹ç¶šã‚’å®Ÿæ–½ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚ --></li>
</ul>
</section>
<section class="slide level2">

<ul>
<li>Evidence relating to the auditorâ€™s risk assessment of a material misstatement in the clientâ€™s accounting statements. <!-- ç›£æŸ»äººã¯ã€è¢«ç›£æŸ»ä¼šç¤¾ã®è²¡å‹™è«¸è¡¨ã«ãŠã‘ã‚‹é‡è¦ãªè™šå½è¡¨ç¤ºãƒªã‚¹ã‚¯ã®è©•ä¾¡ã«é–¢ã™ã‚‹ç›£æŸ»è¨¼æ‹ ã‚’å…¥æ‰‹ã™ã‚‹ã€‚ --></li>
<li>Then, the auditor obtains initial evidence regarding the classes of transactions at the client and the operating effectiveness of the clientâ€™s internal controls. <!-- ãã—ã¦ã€ç›£æŸ»äººã¯ã€è¢«ç›£æŸ»ä¼šç¤¾ã®å–å¼•ã®ç¨®é¡žãŠã‚ˆã³è¢«ç›£æŸ»ä¼šç¤¾ã®å†…éƒ¨çµ±åˆ¶ã®æœ‰åŠ¹æ€§ã«é–¢ã™ã‚‹ï¼ˆç›£æŸ»è¨ˆç”»ã®ï¼‰åˆæœŸã«ãŠã‘ã‚‹ç›£æŸ»è¨¼æ‹ ã‚’å…¥æ‰‹ã™ã‚‹ã€‚ --></li>
<li>In auditing, audit risk includes <strong>inherent risk</strong> (IR), <strong>control risk</strong> (CR), and <strong>detection risk</strong> (DR). <!-- ç›£æŸ»ãƒªã‚¹ã‚¯ã«ã¯ã€å›ºæœ‰ãƒªã‚¹ã‚¯ï¼ˆinherent riskï¼šIRï¼‰ã€çµ±åˆ¶ãƒªã‚¹ã‚¯ï¼ˆcontrol riskï¼šCRï¼‰ã€ãŠã‚ˆã³ç™ºè¦‹ãƒªã‚¹ã‚¯ï¼ˆdetection riskDRï¼‰ãŒå«ã¾ã‚Œã‚‹ã€‚ --></li>
</ul>
</section>
<section id="the-audit-risk-model" class="slide level2">
<h2>The Audit Risk Model</h2>
<ul>
<li>The audit risk model expresses the risk of an auditor providing an inappropriate opinion of a commercial entityâ€™s accounting statements and is calculated: <span class="math inline">AR = IR \times CR \times DR</span> . <!-- ç›£æŸ»ãƒªã‚¹ã‚¯ãƒ¢ãƒ‡ãƒ«ã¯ã€å–¶åˆ©ä¼æ¥­ã®è²¡å‹™è«¸è¡¨ã«å¯¾ã™ã‚‹ç›£æŸ»æ„è¦‹ã®è¡¨æ˜ŽãŒä¸é©åˆ‡ãªã‚‚ã®ã¨ãªã‚‹ãƒªã‚¹ã‚¯ã‚’è¡¨ã™ã‚‚ã®ã§ã‚ã‚Šã€$AR = IR \times CR \times DR$ã§è¨ˆç®—ã•ã‚Œã‚‹ã€‚ --></li>
<li>In this formula, <span class="math inline">IR</span> refers to the risk involved in a business or transaction. <!-- ã“ã®å¼ã«ãŠã„ã¦ã€$IR$ã¨ã¯ã€äº‹æ¥­ã‚„å–å¼•ã«æ½œã‚€å›ºæœ‰ã®ãƒªã‚¹ã‚¯ã‚’æŒ‡ã™ã€‚ --> <!-- Example, transactions involving exchange of cash may have higher $IR$ than transactions involving settlement by checks. --> <!-- ä¾‹ãˆã°ã€ç¾é‡‘ã®æŽˆå—ã‚’ä¼´ã†å–å¼•ã¯ã€å°åˆ‡æ‰‹ã«ã‚ˆã‚‹æ±ºæ¸ˆã‚’ä¼´ã†å–å¼•ã‚ˆã‚Šã‚‚$IR$ãŒé«˜ããªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚ --></li>
<li><span class="math inline">CR</span> refers to the risk that a misstatement could occur but <strong>may not be detected and corrected or prevented by entityâ€™s internal control mechanism</strong>. <!-- $CR$ã¨ã¯ã€ï¼ˆäº‹æ¥­ã‚„å–å¼•ã«æ½œã‚€ï¼‰è™šå½è¡¨ç¤ºãŒç™ºç”Ÿã™ã‚‹ãŒã€ä¼æ¥­ã®å†…éƒ¨çµ±åˆ¶ã®ä»•çµ„ã¿ã«ã‚ˆã£ã¦ç™ºè¦‹ãƒ»æ˜¯æ­£ã•ã‚Œãªã„ã€ã¾ãŸã¯é˜²æ­¢ã•ã‚Œãªã„ãƒªã‚¹ã‚¯ã‚’ã„ã†ã€‚ --></li>
<li><span class="math inline">DR</span> is the probability that <em>the audit procedures may fail to detect existence of a material error or fraud</em>. <!-- $DR$ã¨ã¯ã€ç›£æŸ»æ‰‹ç¶šãŒé‡è¦ãªèª¤è¬¬ã‚„ä¸æ­£ã®å­˜åœ¨ã‚’ç™ºè¦‹ã§ããªã„å¯èƒ½æ€§ã®ã“ã¨ã§ã‚ã‚‹ã€‚ --></li>
<li>While <span class="math inline">CR</span> depends on <em>the strength or weakness of the internal control procedures</em>, DR is either due to sampling error or human factors. <!-- $CR$ãŒï¼ˆè¢«ç›£æŸ»ä¼šç¤¾ã«ã‚ˆã‚‹ï¼‰å†…éƒ¨çµ±åˆ¶ã®æ‰‹ç¶šã®åŽ³æ ¼ã•ã‚„ç”˜ã•ã«ä¾å­˜ã™ã‚‹ã®ã«å¯¾ã—ã€$DR$ã¯ï¼ˆç›£æŸ»äººã«ã‚ˆã‚‹ï¼‰ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã‚¨ãƒ©ãƒ¼ã‚„äººçš„è¦å› ã«ã‚ˆã‚‹ã‚‚ã®ã§ã‚ã‚‹ã€‚ --></li>
</ul>
</section>
<section class="slide level2">

<ul>
<li><p>Due to the breadth of qualitative and quantitative material that analytical procedures consider, audit risk models have typically been interpreted as abstract heuristics that provide a framework for auditor judgment, but not methods to explicitly process the external data. <!-- åˆ†æžçš„æ‰‹ç¶šãŒè€ƒæ…®ã™ã‚‹è³ªçš„ãŠã‚ˆã³é‡çš„ãªãƒ‡ãƒ¼ã‚¿ã®å¹…ãŒåºƒã„ãŸã‚ã€ç›£æŸ»ãƒªã‚¹ã‚¯ãƒ¢ãƒ‡ãƒ«ã¯é€šå¸¸ã€ç›£æŸ»åˆ¤æ–­ã®æž çµ„ã¿ã‚’æä¾›ã™ã‚‹æŠ½è±¡çš„ãªå•é¡Œè§£æ±ºæ–¹æ³•ã¨ã—ã¦è§£é‡ˆã•ã‚Œã¦ããŸãŒã€å¤–éƒ¨ãƒ‡ãƒ¼ã‚¿ã‚’æ˜Žç¤ºçš„ã«å‡¦ç†ã™ã‚‹æ–¹æ³•ã§ã¯ãªã‹ã£ãŸã€‚ --></p></li>
<li><p>But this need not be the case, as there are formal statistical models for assessment of financial reports using external data used by investors. <!-- ã—ã‹ã—ã€æŠ•è³‡å®¶ãŒåˆ©ç”¨ã™ã‚‹å¤–éƒ¨ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã£ãŸè²¡å‹™å ±å‘Šã®è©•ä¾¡ã®ãŸã‚ã®æ­£å¼ãªçµ±è¨ˆãƒ¢ãƒ‡ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã®ã§ã‚ã‚Œã°ã€ãã†ã§ã‚ã‚‹å¿…è¦ã¯ãªã„ã€‚ --></p></li>
</ul>
</section>
<section class="slide level2">

<ul>
<li>The most influential of these is the <strong>efficient markets hypothesis</strong> (EMH) which states that asset prices reflected in these markets fully reflect all available information, and provides a strong motivation for reliance on asset markets for decision-making. <!-- ãã®ä¸­ã§æœ€ã‚‚å½±éŸ¿åŠ›ãŒã‚ã‚‹ã®ã¯ã€åŠ¹çŽ‡çš„å¸‚å ´ä»®èª¬ï¼ˆefficient markets hypothesisï¼šä»¥ä¸‹ã€EMHï¼‰ã§ã‚ã‚‹ã€‚ --> <!-- EMHã¯ã€å¸‚å ´ã«åæ˜ ã•ã‚Œã‚‹è³‡ç”£ä¾¡æ ¼ã¯åˆ©ç”¨å¯èƒ½ãªã™ã¹ã¦ã®æƒ…å ±ã‚’å®Œå…¨ã«åæ˜ ã—ã¦ã„ã‚‹ã¨ã—ã€æ„æ€æ±ºå®šã‚’è¨¼åˆ¸å¸‚å ´ã«ä¾å­˜ã™ã‚‹å¼·ã„å‹•æ©Ÿä»˜ã‘ã¨ãªã£ã¦ã„ã‚‹ã€‚ --></li>
<li>The distribution of abnormal returns in US asset markets provides complete and unbiased information about corporate performance. <!-- ç±³å›½ã®è¨¼åˆ¸å¸‚å ´ã«ãŠã‘ã‚‹ç•°å¸¸ãƒªã‚¿ãƒ¼ãƒ³ã®åˆ†å¸ƒã¯ã€ä¼æ¥­æ¥­ç¸¾ã«é–¢ã™ã‚‹å®Œå…¨ã‹ã¤åã‚Šã®ãªã„æƒ…å ±ã‚’æä¾›ã—ã¦ã„ã‚‹ã€‚ --></li>
<li>From the auditorâ€™s perspective, in acquiring plausible financial and non-financial evidence prior to and during actual fieldwork, inexpensive evidence that can fully reflect all available information about a firm and the industry in which it operations should be extremely attractive. <!-- ç›£æŸ»äººã®è¦³ç‚¹ã‹ã‚‰ã¯ã€å®Ÿéš›ã®ç›£æŸ»å®Ÿæ–½ã«å…ˆç«‹ã¡ã€ã¾ãŸç›£æŸ»å®Ÿæ–½ä¸­ã«ã€ã‚‚ã£ã¨ã‚‚ã‚‰ã—ã„è²¡å‹™çš„ãªç›£æŸ»è¨¼æ‹ åŠã³éžè²¡å‹™çš„ãªç›£æŸ»è¨¼æ‹ ã‚’å…¥æ‰‹ã™ã‚‹ä¸Šã§ã€ä¼æ¥­åŠã³ãã®ä¼æ¥­ãŒäº‹æ¥­ã‚’è¡Œã£ã¦ã„ã‚‹æ¥­ç•Œã«é–¢ã™ã‚‹å…¥æ‰‹å¯èƒ½ãªå…¨ã¦ã®æƒ…å ±ã‚’å®Œå…¨ã«åæ˜ ã™ã‚‹ã“ã¨ãŒã§ãã‚‹å®‰ä¾¡ãªå®Ÿè¨¼çš„ãªè¨¼æ‹ ã¯ã€æ¥µã‚ã¦é­…åŠ›çš„ã§ã‚ã‚‹ã¯ãšã§ã‚ã‚‹ã€‚ --></li>
</ul>
</section>
<section class="slide level2">

<ul>
<li>Analytical procedures incorporating information-rich asset market statistics hold the potential to substitute for increased audit scope or risk without incurring additional fieldwork. <!-- æƒ…å ±ãŒè±Šå¯Œãªè¨¼åˆ¸å¸‚å ´ã®çµ±è¨ˆã‚’çµ„ã¿è¾¼ã‚“ã åˆ†æžçš„æ‰‹ç¶šã¯ã€è¿½åŠ çš„ãªç›£æŸ»ã®å®Ÿæ–½ã‚’è¡Œã†ã“ã¨ãªãã€ç›£æŸ»ç¯„å›²ã®æ‹¡å¤§ã‚„ãƒªã‚¹ã‚¯ã®å¢—åŠ ã«ä»£ã‚ã‚‹å¯èƒ½æ€§ã‚’ç§˜ã‚ã¦ã„ã‚‹ã€‚ --></li>
<li>Tests of market efficiency have typically been carried out jointly with the <strong>Capital Asset Pricing Model</strong> (CAPM). <!-- å¸‚å ´åŠ¹çŽ‡æ€§ã®ãƒ†ã‚¹ãƒˆã¯é€šå¸¸ã€è³‡æœ¬è³‡ç”£ä¾¡æ ¼ãƒ¢ãƒ‡ãƒ«ï¼ˆCapital Asset Pricing Modelï¼šä»¥ä¸‹ã€CAPMï¼‰ã¨å…±åŒã§è¡Œã‚ã‚Œã¦ããŸã€‚ --></li>
<li>Both market efficiency and audit models in practice favor an assumption that transaction time series are Gaussian distributed. <!-- å¸‚å ´åŠ¹çŽ‡æ€§ã¨ç›£æŸ»ãƒ¢ãƒ‡ãƒ«ã®ä¸¡æ–¹ãŒã€å®Ÿéš›ã«ã¯ã€å–å¼•æ™‚ç³»åˆ—ãŒæ­£è¦åˆ†å¸ƒï¼ˆã‚¬ã‚¦ã‚¹åˆ†å¸ƒï¼‰ã—ã¦ã„ã‚‹ã¨ã„ã†ä»®å®šã‚’æ”¯æŒã—ã¦ã„ã‚‹ã€‚ --></li>
<li>Decision makers understand that this is only an approximation of reality, but it is often considered â€œ<em>good enough</em>â€ with the Central Limit Theorem (CLT) commonly invoked as justification. <!-- æ„æ€æ±ºå®šè€…ã¯ã€ã“ã‚ŒãŒç¾å®Ÿã®è¿‘ä¼¼ã«éŽãŽãªã„ã“ã¨ã‚’ç†è§£ã—ã¦ã„ã‚‹ãŒã€ä¸€èˆ¬çš„ã«ä¸­å¿ƒæ¥µé™å®šç†ï¼ˆCLTï¼‰ãŒæ­£å½“åŒ–ã¨ã—ã¦å¼•ãåˆã„ã«å‡ºã•ã‚Œã‚‹ãŸã‚ã€ã—ã°ã—ã°ã€Œã“ã‚Œã§ååˆ†ã€ã¨è€ƒãˆã‚‰ã‚Œã¦ã„ã‚‹ã€‚ --> <!-- But as was argued earlier, CLT convergence is most appropriate when trying to generate unbiased estimates for accounts, rather than for assessing extreme value situations such as material errors in financial statements. --> <!-- ã—ã‹ã—ã€å…ˆã«è«–ã˜ãŸã‚ˆã†ã«ã€CLTã®åŽæŸãŒæœ€ã‚‚é©åˆ‡ãªã®ã¯ã€è²¡å‹™è«¸è¡¨ã®é‡è¦ãªè™šå½è¡¨ç¤ºã®ã‚ˆã†ãªæ¥µå€¤ã®çŠ¶æ³ã‚’è©•ä¾¡ã™ã‚‹ãŸã‚ã§ã¯ãªãã€è²¡å‹™è«¸è¡¨ã«å¯¾ã—ã¦ä¸åã®è¦‹ç©ã‚Šã‚’ç”Ÿæˆã—ã‚ˆã†ã¨ã™ã‚‹å ´åˆã§ã‚ã‚‹ã€‚ --></li>
</ul>
</section>
<section id="transaction-samples-and-populations" class="slide level2">
<h2>Transaction Samples and Populations</h2>
<p>Auditing depends heavily on sampling to control the cost of auditing. <!-- ç›£æŸ»ã¯ã€ç›£æŸ»ã‚³ã‚¹ãƒˆã«é‡å¤§ãªå½±éŸ¿ã‚’ä¸Žãˆã‚‹ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã«å¤§ããä¾å­˜ã—ã¦ã„ã‚‹ã€‚ --></p>
<ul>
<li>A statistical sample is a subset of the population. <!-- çµ±è¨ˆçš„ã‚µãƒ³ãƒ—ãƒ«ã¯æ¯é›†å›£ã®éƒ¨åˆ†é›†åˆã§ã‚ã‚‹ã€‚ --></li>
<li>The population is all of the transactions relevant to a particular audit or procedure. <!-- æ¯é›†å›£ã¨ã¯ã€ç‰¹å®šã®ç›£æŸ»ã‚„æ‰‹ç¶šã«é–¢é€£ã™ã‚‹ã™ã¹ã¦ã®å–å¼•ã®ã“ã¨ã§ã‚ã‚‹ã€‚ --> <!-- For example, in confirmation of accounts receivable (A/R) the population is all of the accounts receivable from customers buying on credit for the year (assuming an annual audit). --> <!-- ä¾‹ãˆã°ã€å£²æŽ›é‡‘ï¼ˆaccounts receivableï¼šA/Rï¼‰ã®ç¢ºèªã§ã¯ã€æ¯é›†å›£ã¯ã€ï¼ˆå¹´æ¬¡ç›£æŸ»ã‚’æƒ³å®šã™ã‚‹ã¨ï¼‰ä¼šè¨ˆå¹´åº¦ã«ä¸Žä¿¡å–å¼•ã‚’è¡Œã£ãŸå¾—æ„å…ˆã‹ã‚‰ã®å£²æŽ›é‡‘ã™ã¹ã¦ã§ã‚ã‚‹ã€‚ --></li>
<li>Audit samples are usually several orders of magnitude smaller than the population. <!-- ç›£æŸ»ã‚µãƒ³ãƒ—ãƒ«ã¯é€šå¸¸ã€æ¯é›†å›£ã‚ˆã‚Šæ•°æ¡å°ã•ã„ã€‚ --> <!-- For example, auditors might take a sample of 100 units (transactions or dollars) from a population of 1 million accounts receivable or 0.01% of the items in the population. --> <!-- ä¾‹ãˆã°ã€ç›£æŸ»äººã¯100ä¸‡å˜ä½ã®å‹˜å®šã®æ¯é›†å›£ã‹ã‚‰100å˜ä½ï¼ˆå–å¼•å˜ä½ã¾ãŸã¯é‡‘é¡å˜ä½ï¼‰ã®ã‚µãƒ³ãƒ—ãƒ«ï¼ˆã¾ãŸã¯æ¯é›†å›£ã®0.01%ï¼‰ã‚’æŠ½å‡ºã™ã‚‹ã€‚ --></li>
</ul>
</section>
<section id="sampling-bases" class="slide level2">
<h2>Sampling Bases</h2>
<ul>
<li>The sampling base or metric is the unit used to draw the sample. <!-- ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°å˜ä½ï¼ˆsampling unit, base, or metricï¼‰ã¯ã€ã‚µãƒ³ãƒ—ãƒ«ã‚’æŠ½å‡ºã™ã‚‹ãŸã‚ã«åˆ©ç”¨ã•ã‚Œã‚‹å˜ä½ã§ã‚ã‚‹ã€‚ --></li>
<li>Monetary unit sampling (one dollar is a sample item) is applied at year end for substantive testingâ€”determining whether the financial statement account balances contain material errors. <!-- ï¼ˆãƒ‰ãƒ«å˜ä½ã§ã¯1ãƒ‰ãƒ«ãŒã‚µãƒ³ãƒ—ãƒ«å˜ä½ã¨ãªã‚‹ï¼‰é‡‘é¡å˜ä½ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼ˆMonetary unit samplingï¼‰ã¯ã€è²¡å‹™è«¸è¡¨ã®å‹˜å®šæ®‹é«˜ã«é‡è¦ãªè™šå½è¡¨ç¤ºãŒã‚ã‚‹ã‹ã‚’åˆ¤å®šã™ã‚‹å®Ÿè¨¼æ‰‹ç¶šã«é©ç”¨ã•ã‚Œã‚‹ã€‚ --></li>
<li>Transaction or Record sampling (one accounting transaction is a sample item) is applied prior to year-end for <em>internal control testing</em> - determining whether the inherent level of transaction processing error risk that exists in each accounting cycle. <!-- å–å¼•ã¾ãŸã¯è¨˜éŒ²ã®ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼ˆä¼šè¨ˆå–å¼•1ä»¶ãŒã‚µãƒ³ãƒ—ãƒ«é …ç›®ã¨ãªã‚‹ï¼‰ã¯ã€å¹´æœ«å‰ã«å†…éƒ¨çµ±åˆ¶ã®ãƒ†ã‚¹ãƒˆã«é©ç”¨ã•ã‚Œã€å„ä¼šè¨ˆã‚µã‚¤ã‚¯ãƒ«ã«å­˜åœ¨ã™ã‚‹å–å¼•å‡¦ç†ã‚¨ãƒ©ãƒ¼ãƒªã‚¹ã‚¯ã®å›ºæœ‰ãƒ¬ãƒ™ãƒ«ã‚’åˆ¤å®šã™ã‚‹ã€‚ (æ–‡ç« ãŒæŠœã‘ã¦ã‚‹)--></li>
</ul>
</section>
<section id="sampling-guidelines" class="slide level2">
<h2>Sampling Guidelines</h2>
<p>The AICPA provides guidelines on sampling in several standards: <!-- AICPAã¯ã€ã„ãã¤ã‹ã®ç›£æŸ»åŸºæº–ã«ãŠã„ã¦ä»¥ä¸‹ã®ã‚ˆã†ãªã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã«é–¢ã™ã‚‹ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’æä¾›ã—ã¦ã„ã‚‹ã€‚ --></p>
<ul>
<li>Risk assessment standards (SAS Nos. 104-111).</li>
<li>Defining Professional Requirements Standard (SAS No.&nbsp;102).</li>
<li>Guidance on audit documentation (SAS 103).</li>
<li>Communicating internal control related matters (SAS 112 and SAS 115).</li>
<li>Audit Risk Alerts such as Communicating Internal Control Related Matters in an Auditâ€”Understanding SAS No.&nbsp;115 These discuss several approaches to the audit sampling process.</li>
<li>Statistical audit sampling in tests of controls and for substantive tests of details.</li>
<li>Non-statistical audit sampling in tests of controls and for substantive tests of details.</li>
<li>Monetary unit sampling.</li>
<li>Attribute sampling.</li>
<li>Multi-location sampling considerations.</li>
</ul>
<!--
- ãƒªã‚¹ã‚¯è©•ä¾¡åŸºæº–ï¼ˆSASç¬¬104-111å·ï¼‰ã€‚
- å°‚é–€çš„è¦æ±‚äº‹é …ã‚’å®šç¾©ã™ã‚‹åŸºæº–ï¼ˆSASç¬¬102å·ï¼‰ã€‚
- ç›£æŸ»èª¿æ›¸ã«é–¢ã™ã‚‹å®Ÿå‹™æŒ‡é‡ï¼ˆSASç¬¬103å·ï¼‰ã€‚
- å†…éƒ¨çµ±åˆ¶ã«é–¢é€£ã™ã‚‹äº‹é …ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆSASç¬¬112å·åŠã³SASç¬¬115å·ï¼‰ã€‚
- ç›£æŸ»ã«é–¢ã™ã‚‹ãƒªã‚¹ã‚¯æ–‡æ›¸ï¼šç›£æŸ»ã«ãŠã‘ã‚‹å†…éƒ¨çµ±åˆ¶ã«é–¢é€£ã™ã‚‹äº‹é …ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¼SASç¬¬115å·ã®ç†è§£ãƒ¼ã€€
ã€€ã“ã‚Œã‚‰ã®æ–‡æ›¸ã¯ã€ç›£æŸ»ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°æ‰‹ç¶šã«å¯¾ã—ã¦ã€ä»¥ä¸‹ã®ã‚ˆã†ãªæ‰‹æ³•ã«ã¤ã„ã¦è­°è«–ã—ã¦ã„ã‚‹ã€‚
- é‹ç”¨è©•ä¾¡æ‰‹ç¶šãŠã‚ˆã³å®Ÿè¨¼æ‰‹ç¶šï¼ˆè©³ç´°ãƒ†ã‚¹ãƒˆï¼‰ã«ãŠã‘ã‚‹çµ±è¨ˆçš„ãªç›£æŸ»ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã€‚
- é‹ç”¨è©•ä¾¡æ‰‹ç¶šãŠã‚ˆã³å®Ÿè¨¼æ‰‹ç¶šï¼ˆè©³ç´°ãƒ†ã‚¹ãƒˆï¼‰ã«ãŠã‘ã‚‹éžçµ±è¨ˆçš„ãªç›£æŸ»ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã€‚
- é‡‘é¡å˜ä½ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°
- å±žæ€§ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°
- å…¨ç¤¾è³ªå•çŠ¶ã®ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼ˆMulti-location samplingï¼‰ã®éš›ã®è€ƒæ…®äº‹é …
 -->
</section>
<section id="audit-and-accounting-manual-for-smes" class="slide level2">
<h2>Audit and Accounting Manual for SMEs</h2>
<ul>
<li><p>Additionally, the <em>AICPA Audit and Accounting Manual</em> addresses problems in small- and medium size CPA practices.</p></li>
<li><p>It explains engagement steps from planning, to performing procedures, to issuing reports: <!-- ã•ã‚‰ã«ã€AICPAã«ã‚ˆã‚‹ç›£æŸ»ä¼šè¨ˆãƒžãƒ‹ãƒ¥ã‚¢ãƒ«ï¼ˆAudit and Accounting Manualï¼‰ã¯ã€ä¸­å°è¦æ¨¡ã®å…¬èªä¼šè¨ˆå£«ã®å®Ÿå‹™ã«ãŠã‘ã‚‹å•é¡Œã«å–ã‚Šçµ„ã‚“ã§ã„ã‚‹ã€‚ã¾ãŸã€åŒãƒžãƒ‹ãƒ¥ã‚¢ãƒ«ã¯ã€ç›£æŸ»å¥‘ç´„ã®æ®µéšŽã‹ã‚‰ç›£æŸ»å¥‘ç´„ã€ç›£æŸ»æ‰‹ç¶šã®å®Ÿæ–½ã‚„ç›£æŸ»å ±å‘Šæ›¸ã®å ±å‘Šã«è‡³ã‚‹ã¾ã§ä»¥ä¸‹ã®ã‚ˆã†ã«èª¬æ˜Žã—ã¦ã„ã‚‹ã€‚ --></p></li>
<li><p>Guidance on internal controls.</p></li>
<li><p>Audit documentation guidelines.</p></li>
<li><p>Illustrative confirmation letters.</p></li>
<li><p>Illustrative engagement and representation letters.</p></li>
<li><p>Illustrative auditorâ€™s reports.</p></li>
</ul>
<!--
- å†…éƒ¨çµ±åˆ¶ã«é–¢ã™ã‚‹å®Ÿå‹™æŒ‡é‡
- ç›£æŸ»èª¿æ›¸ã«é–¢ã™ã‚‹å®Ÿå‹™æŒ‡é‡
- ç¢ºèªæ›¸ã®ã²ãªå½¢
- ç›£æŸ»å¥‘ç´„æ›¸ãŠã‚ˆã³çµŒå–¶è€…ç¢ºèªæ›¸ã®ã²ãªå½¢
- ç›£æŸ»äººå ±å‘Šæ›¸ã®ã²ãªå½¢
 -->
</section>
<section id="types-of-sampling" class="slide level2">
<h2>Types of Sampling</h2>
<p>The AICPA discusses the following types of sampling in drawing conclusions from audit evidence.</p>
<!-- , which are discussed in depth later in the chapter on Design of Audit Programs: -->
<!-- AICPAã¯ã€ï¼ˆç›£æŸ»äººãŒï¼‰ç›£æŸ»è¨¼æ‹ ã‹ã‚‰çµè«–ã‚’å°Žãå‡ºã™éš›ã®å„ç¨®ã®ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã«ã¤ã„ã¦ã€ä»¥ä¸‹ã®ã‚ˆã†ã«èª¬æ˜Žã—ã¦ã„ã‚‹ï¼ˆã“ã‚Œã‚‰ã®ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã«ã¤ã„ã¦ã¯ç›£æŸ»è¨ˆç”»ã®ç­–å®šã®ç« ã§è©³ç´°ã«èª¬æ˜Žã™ã‚‹ï¼‰ã€‚ -->
<ol type="1">
<li><strong>Judgmental sampling</strong> : Items are audited based on personal hunches and convenience involving a subjective selection of items for testing and a subjective evaluation of the results.</li>
<li><strong>Random sampling</strong> : Applies random number generators to assure that each population unit or item has an equal probability of being selected for the sample.</li>
<li><strong>Fixed-interval sampling</strong> : Specify an interval and a random starting point which must be greater than zero and less than or equal to the selection interval.</li>
<li><strong>Random-interval sampling</strong> :Specify an interval and a random seed which is the basis for a series of pseudo-random numbers.</li>
</ol>
</section>
<section class="slide level2">

<ol start="5" type="1">
<li><p><strong>Conditional sampling</strong> : Apply a condition to subject only a portion of the population to selection.</p></li>
<li><p><strong>Stratified sampling</strong> : A process of dividing a population in subgroups each of which is a set of sampling units with similar characteristics. <!-- Stratified sampling may be considered a particular form of conditional sampling â€” conditioned on item size (in dollars, etc.). --></p></li>
<li><p><strong>Transaction or Record sampling</strong> : Treat seach recorded transaction equivalently.</p></li>
<li><p><strong>Monetary Unit Sampling</strong> : Treats each recorded dollar equivalently.</p></li>
<li><p><strong>Estimation sampling</strong> : Sampling with an objective to estimate the proportion of errors to see if it is less than some acceptable level.</p></li>
<li><p><strong>Acceptance sampling</strong> : Sampling with an objective to reject or accept the population under certain conditions.</p></li>
<li><p><strong>Discovery sampling</strong> : Sampling with an objective to determine if the population is error free.</p></li>
</ol>
<!--
1. åˆ¤æ–­ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼ˆjudgmental samplingï¼‰ï¼šã‚µãƒ³ãƒ—ãƒ«é …ç›®ã¯å€‹äººçš„ãªç›´æ„Ÿã‚„ç°¡ä¾¿ãªæ–¹æ³•ã«åŸºã¥ã„ã¦é …ç›®ã®ç›£æŸ»ã‚’è¡Œã†æ–¹æ³•ã€‚ä¸»è¦³çš„ã«ç›£æŸ»æ‰‹ç¶šã‚’è¡Œã†é …ç›®ã‚’é¸æŠžã—ã€ãã®çµæžœã‚’ä¸»è¦³çš„ã«è©•ä¾¡ã™ã‚‹ã€‚
2. ãƒ©ãƒ³ãƒ€ãƒ ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼ˆrandom samplingï¼‰ï¼š å„æ¯é›†å›£ã«ãŠã‘ã‚‹å˜ä½ã¾ãŸã¯é …ç›®ãŒã‚µãƒ³ãƒ—ãƒ«ã¨ã—ã¦é¸æŠžã•ã‚Œã‚‹ç¢ºçŽ‡ãŒç­‰ã—ã„ã“ã¨ã‚’ä¿è¨¼ã™ã‚‹ãŸã‚ã«ã€ä¹±æ•°ç™ºç”Ÿå™¨ã‚’é©ç”¨ã™ã‚‹æ–¹æ³•ã€‚
3. å›ºå®šé–“éš”ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼ˆfixed-interval samplingï¼‰ï¼š ãƒ©ãƒ³ãƒ€ãƒ ãªé–‹å§‹ç‚¹ã¨é–“éš”ã‚’æŒ‡å®šã™ã‚‹æ–¹æ³•ã€‚é–‹å§‹ç‚¹ã¯0ã‚ˆã‚Šå¤§ããã€é¸æŠžã—ãŸé–“éš”ä»¥ä¸‹ã§ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚
4. ã‚»ãƒ«ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã¾ãŸã¯ä¹±æ•°é–“éš”ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼ˆCell or random-interval samplingï¼‰ï¼š é–“éš”ã¨æ“¬ä¼¼ä¹±æ•°ï¼ˆpseudo-random numbersï¼‰ã®åŸºç¤Žã¨ãªã‚‹ä¹±æ•°ç¨®ï¼ˆrandom seedï¼‰ã‚’æŒ‡å®šã™ã‚‹æ–¹æ³•ã€‚
5. æ¡ä»¶ä»˜ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼ˆconditional samplingï¼‰ï¼š æ¯é›†å›£ã®ä¸€éƒ¨ã ã‘ã‚’é¸æŠžã®å¯¾è±¡ã¨ã™ã‚‹æ¡ä»¶ä»˜ã‘ã‚’è¡Œã†æ–¹æ³•ã€‚
6. å±¤åŒ–ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼ˆï¼‰ï¼š æ¯é›†å›£ã‚’å°é›†å›£ã«åˆ†ã‘ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã§ã€å„å°é›†å›£ã¯é¡žä¼¼ã—ãŸç‰¹å¾´ã‚’æŒã¤ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°å˜ä½ã®é›†åˆã§ã‚ã‚‹ã€‚å±¤åŒ–ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã¯ã€æ¡ä»¶ä»˜ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã®ç‰¹æ®Šãªå½¢æ…‹ã¨è€ƒãˆã‚‰ã‚Œã‚‹ã€‚
7. å–å¼•ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã¾ãŸã¯è¨˜éŒ²ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼š è¨˜éŒ²ã•ã‚ŒãŸå„å–å¼•ã‚’åŒç­‰ã«æ‰±ã†ã€‚
8. é‡‘é¡å˜ä½ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼š è¨˜éŒ²ã•ã‚ŒãŸé‡‘é¡å˜ä½ï¼ˆãƒ‰ãƒ«ï¼‰ã‚’åŒç­‰ã«æ‰±ã†ã€‚
9. è¦‹ç©ã‚Šã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼š è™šå½è¡¨ç¤ºã‚„é€¸è„±ã®å‰²åˆã‚’è¦‹ç©ã‚‚ã‚Šã€ãã‚ŒãŒã‚ã‚‹è¨±å®¹æ°´æº–ã‚ˆã‚Šå°ã•ã„ã‹ã©ã†ã‹ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ãŸã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã€‚
10. æŽ¡æŠžã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼š ã‚ã‚‹æ¡ä»¶ä¸‹ã§æ¯é›†å›£ã®å—å…¥ã‚Œã®å¯å¦ã‚’åˆ¤æ–­ã™ã‚‹ã“ã¨ã‚’ ç›®çš„ã¨ãŸã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã€‚
11. ç™ºè¦‹ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼š æ¯é›†å›£ã«è™šå½è¡¨ç¤ºã¾ãŸã¯é€¸è„±ãŒãªã„ã‹ã©ã†ã‹ã‚’åˆ¤æ–­ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ãŸã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã€‚
  -->
</section>
<section id="accounting-cycles" class="slide level2">
<h2>Accounting Cycles</h2>
<p>An accounting cycle begins when accounting personnel create a transaction from a source document and ends with the completion of the financial reports and closing of temporary accounts in preparation for a new cycle. <!-- ä¼šè¨ˆã‚µã‚¤ã‚¯ãƒ«ã¯ã€çµŒç†æ‹…å½“è€…ãŒåŽŸå§‹æ–‡æ›¸ã«å–å¼•ã‚’è¨˜éŒ²ã™ã‚‹éš›ã«å§‹ã¾ã‚Šã€è²¡å‹™å ±å‘Šã®å®Œäº†ã¨æ–°ã—ã„ã‚µã‚¤ã‚¯ãƒ«ã«å‚™ãˆãŸä»®å‹˜å®šã®ç· åˆ‡ã§çµ‚ã‚ã‚‹ã€‚ï¼ˆä¸»ãªæ©Ÿèƒ½ã‚’æŒã¤ï¼‰ä¸‹è¨˜ã®5ã¤ã®ä¼šè¨ˆã‚µã‚¤ã‚¯ãƒ«ãŒã‚ã‚‹ã€‚ --> The five accounting cycles are:</p>
<ol type="1">
<li><strong>Revenue cycle</strong>.
<ol type="1">
<li>Sales orders,</li>
<li>Cash receipts.</li>
</ol></li>
<li><strong>Expenditure cycle</strong>. This cycle focuses on two separate resources; <em>inventory</em> and <em>human resources</em>. <!-- 3.  and is often considered two separate cycles; purchasing and payroll/HR. -->
<ol type="1">
<li>Inventory / purchasing;</li>
<li>Accounts payable;</li>
<li>Payroll;</li>
<li>Cash payments.</li>
</ol></li>
</ol>
</section>
<section class="slide level2">

<ol start="3" type="1">
<li><strong>Conversion cycle</strong> (Production cycle).
<ol type="1">
<li>Production;</li>
<li>Cost accounting.</li>
</ol></li>
<li><strong>Financing</strong> (Capital Acquisition and repayment).
<ol type="1">
<li>Borrowing/repayment;</li>
<li>Issuing stock;</li>
<li>Dividends;</li>
<li>Cash management.</li>
</ol></li>
<li><strong>Fixed assets.</strong></li>
</ol>
<!--
1. åŽç›Šã‚µã‚¤ã‚¯ãƒ«
    1. è²©å£²ç®¡ç†
    2. å£²æŽ›é‡‘ã®å›žåŽ
2. è²»ç”¨ã‚µã‚¤ã‚¯ãƒ«ï¼ˆã“ã®ã‚µã‚¤ã‚¯ãƒ«ã¯ã€å•†å“ã¨äººæã¨ã„ã†2ã¤ã®åˆ¥ã€…ã®è³‡æºã«ç„¦ç‚¹ã‚’å½“ã¦ãŠã‚Šã€è³¼è²·ã¨çµ¦ä¸Žãƒ»HRã¨ã„ã†2ã¤ã®åˆ¥ã€…ã®ã‚µã‚¤ã‚¯ãƒ«ã¨ã•ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã€‚ï¼‰
    1. æ£šå¸ç®¡ç†ãƒ»è³¼è²·ç®¡ç†
    2. è²·æŽ›é‡‘ã®æ”¯æ‰•ã„
    3. çµ¦ä¸Žè¨ˆç®—
    4. çµ¦ä¸Žã®æ”¯æ‰•ã„
3. ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆè£½é€ ï¼‰ã‚µã‚¤ã‚¯ãƒ«
    1. è£½é€ 
    2. åŽŸä¾¡è¨ˆç®—
4. è²¡å‹™ï¼ˆè³‡é‡‘ã®èª¿é”ãƒ»è¿”æ¸ˆï¼‰
    1. å€Ÿå…¥ã‚Œã¨è¿”æ¸ˆ
    2. æ ªå¼ã®ç™ºè¡Œ
    3. é…å½“
    4. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒžãƒã‚¸ãƒ¡ãƒ³ãƒˆ
5. å›ºå®šè³‡ç”£ -->
<!-- ## å®Ÿè¨¼æ‰‹ç¶š -->
</section>
<section id="substantive-test" class="slide level2">
<h2>Substantive Test</h2>
<ul>
<li>The purpose of substantive procedures is <strong>to provide audit evidence</strong> as to the <em>completeness</em>, <em>accuracy</em>, and <em>validity</em> of the information contained in the accounting records or in the financial statements. <!-- å®Ÿè¨¼æ‰‹ç¶šã®ç›®çš„ã¯ã€ä¼šè¨ˆè¨˜éŒ²ã¾ãŸã¯è²¡å‹™è«¸è¡¨ã«å«ã¾ã‚Œã‚‹æƒ…å ±ã®ç¶²ç¾…æ€§ã€æ­£ç¢ºæ€§ã€ãŠã‚ˆã³å¦¥å½“æ€§ã«é–¢ã™ã‚‹ç›£æŸ»è¨¼æ‹ ã‚’æä¾›ã™ã‚‹ã“ã¨ã§ã‚ã‚‹ã€‚ --></li>
<li>Substantive testing involves detailed examination of the monetary value of the account balances to determine their accuracy and to draw conclusions about the materiality of the error amounts in the accounts. <!-- å®Ÿè¨¼æ‰‹ç¶šã¯ã€å‹˜å®šæ®‹é«˜ã®æ­£ç¢ºæ€§ã‚’åˆ¤æ–­ã—ã€è²¡å‹™è«¸è¡¨ã«ãŠã‘ã‚‹è™šå½è¡¨ç¤ºé¡ã®é‡è¦æ€§ã«ã¤ã„ã¦çµè«–ã‚’å°Žãå‡ºã™ãŸã‚ã«ã€å‹˜å®šæ®‹é«˜ã®ä¾¡å€¤ã‚’è©³ç´°ã«æ¤œè¨Žã™ã‚‹ã“ã¨ã‚’å«ã‚€ã€‚ --></li>
<li>The extent and nature of substantive testing depends upon the decision taken about the effectiveness of the systems of internal control. <!-- å®Ÿè¨¼æ‰‹ç¶šã®ç¯„å›²ã¨ç¨®é¡žã¯ã€å†…éƒ¨çµ±åˆ¶ã‚·ã‚¹ãƒ†ãƒ ã®æœ‰åŠ¹æ€§ã«é–¢ã™ã‚‹ï¼ˆç›£æŸ»äººã®ï¼‰åˆ¤æ–­ã«ã‚ˆã£ã¦æ±ºã¾ã‚‹ã€‚ --></li>
<li>In substantive testing, statistical sampling is used to obtain monetary estimates of the total error amount or confidence limits for the total error amount in a particular account. <!-- å®Ÿè¨¼æ‰‹ç¶šã«ãŠã„ã¦ã€çµ±è¨ˆçš„ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã¯ã€ç‰¹å®šã®å‹˜å®šã«ãŠã‘ã‚‹ç·è™šå½è¡¨ç¤ºã®é‡‘é¡ã®è¦‹ç©ã‚Šã¾ãŸã¯ç·ã®ä¿¡é ¼åŒºé–“ã‚’å¾—ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã‚‹ã€‚ --></li>
<li>The objective is to obtain <strong>reliable confidence limits</strong>. <!-- ãã®ç›®çš„ã¯ã€ç›£æŸ»ã§åˆ©ç”¨å¯èƒ½ãªä¿¡é ¼åŒºé–“ã‚’å¾—ã‚‹ã“ã¨ã§ã‚ã‚‹ã€‚ --></li>
</ul>
</section>
<section id="metrics-and-estimates" class="slide level2">
<h2>Metrics and Estimates</h2>
<ul>
<li>Statisticians estimate; business analysts measure. <!-- çµ±è¨ˆå­¦è€…ã¯æŽ¨å®šã‚’è¡Œã†ã®ã«å¯¾ã—ã€ãƒ“ã‚¸ãƒã‚¹ã‚¢ãƒŠãƒªã‚¹ãƒˆã¯æ¸¬å®šã™ã‚‹ã€‚ --></li>
<li>Statisticians often use the terms <em>statistic</em> and <em>estimate</em> for values calculated from the data, to draw a distinction between interpretations of the data, and the â€œtrueâ€ state of affairs. <!-- çµ±è¨ˆå­¦è€…ã¯ã€ãƒ‡ãƒ¼ã‚¿ã®è§£é‡ˆã¨ã€ŒçœŸã®ã€çŠ¶æ…‹ã‚’åŒºåˆ¥ã™ã‚‹ãŸã‚ã«ã€ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰è¨ˆç®—ã•ã‚ŒãŸå€¤ã«å¯¾ã—ã¦çµ±è¨ˆé‡ã‚„æŽ¨å®šå€¤ã¨ã„ã†è¨€è‘‰ã‚’ã‚ˆãä½¿ã†ã€‚ --></li>
<li>Data scientists and business analysts are more likely to refer to such values as a <em>metric</em>. <!-- ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ãƒ†ã‚£ã‚¹ãƒˆã‚„ãƒ“ã‚¸ãƒã‚¹ã‚¢ãƒŠãƒªã‚¹ãƒˆã¯ã€ã“ã®ã‚ˆã†ãªå€¤ã‚’ã€Œæ¸¬å®šå€¤ã€(metric)ã¨å‘¼ã¶ã“ã¨ãŒå¤šã„ã€‚ --></li>
<li>The difference reflects the approach of statistics versus data science: accounting for uncertainty lies at the heart of the discipline of statistics. <!-- ã“ã®é•ã„ã¯ã€çµ±è¨ˆå­¦ã¨ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’åæ˜ ã—ã¦ã„ã‚‹ã€‚ --> <!-- ä¸ç¢ºå®Ÿæ€§ã‚’è€ƒæ…®ã™ã‚‹ã“ã¨ãŒçµ±è¨ˆå­¦ã®ä¸­å¿ƒã§ã‚ã‚‹ã€‚ --> <!-- Business or organizational objectives are the focus of data science. --> <!-- ãƒ“ã‚¸ãƒã‚¹ã‚„ä¼æ¥­çµ„ç¹”ã®ç›®æ¨™ã¯ã€ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹ã®ç„¦ç‚¹ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ã€‚ --></li>
</ul>
</section>
<section id="audit-and-statistics" class="slide level2">
<h2>Audit and Statistics</h2>
<p>In the past, the auditors initial step when confronted with a new database is to â€œfootâ€ the dataset (i.e., compute a total) and â€œagreeâ€ that total to the clientâ€™s records (i.e., see whether clientâ€™s records agree with the computed total). <!-- å¾“æ¥ã€ç›£æŸ»äººãŒæ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ‰±ã†ã¨ãã®æœ€åˆã®ã‚¹ãƒ†ãƒƒãƒ—ã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã€Œé›†è¨ˆï¼ˆfootï¼‰ï¼ˆã™ãªã‚ã¡ã€åˆè¨ˆã‚’è¨ˆç®—ã™ã‚‹ã“ã¨ï¼‰ã€ã¨ã€ãã®åˆè¨ˆãŒè¢«ç›£æŸ»ä¼šç¤¾ã®è¨˜éŒ²ã¨ã€Œä¸€è‡´ï¼ˆagreeï¼‰ã€ã—ã¦ã„ã‚‹ã‹ç¢ºèªã™ã‚‹ã“ã¨ã§ã‚ã£ãŸã€‚ --> This is done with the â€œsumâ€ command in R. <!-- Rã§ã¯`sum`ã‚³ãƒžãƒ³ãƒ‰ã§è¨ˆç®—ã§ãã‚‹ã€‚ --></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="" aria-hidden="true" tabindex="-1"></a>disburse <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">system.file</span>( <span class="co"># csvãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿</span></span>
<span id="cb78-2"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="st">"extdata"</span>,  <span class="st">"ch_2_AP_disbursements_journal.csv"</span>, <span class="co"># ãƒ•ã‚¡ã‚¤ãƒ«å</span></span>
<span id="cb78-3"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">package =</span> <span class="st">"auditanalytics"</span>, <span class="at">mustWork =</span> <span class="cn">TRUE</span>)</span>
<span id="cb78-4"><a href="" aria-hidden="true" tabindex="-1"></a>    ) <span class="co"># ãƒ•ã‚¡ã‚¤ãƒ«ãŒãªã„å ´åˆã¯ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(disburse) <span class="co"># descriptive statistics</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> disbursement_no        date            amount_paid  
 Length:50          Length:50          Min.   :2417  
 Class :character   Class :character   1st Qu.:2537  
 Mode  :character   Mode  :character   Median :2618  
                                       Mean   :2686  
                                       3rd Qu.:2800  
                                       Max.   :3190  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># output the total amount paid</span></span>
<span id="cb81-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">'</span><span class="sc">\n\n</span><span class="st"> æ”¯æ‰•å¸³ã®åˆè¨ˆé‡‘é¡ = '</span>, <span class="fu">sum</span>(disburse<span class="sc">$</span>amount_paid))</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

 æ”¯æ‰•å¸³ã®åˆè¨ˆé‡‘é¡ =  134313.5</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<p><em>R</em> has a number of packages that generate basic statistics fromt the data, beyond that of the built-in <em>summary</em> command Here are three of the most useful, applied to our banking industry dataset. <!--
Rã«ã¯ã€æ¨™æº–ã®summaryã‚³ãƒžãƒ³ãƒ‰ä»¥å¤–ã«ã€ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰åŸºæœ¬çš„ãªçµ±è¨ˆé‡ã‚’è¨ˆç®—ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒæ•°å¤šãã‚ã‚‹ã€‚
ã“ã“ã§ã¯ã€æœ¬æ›¸ã§ç´¹ä»‹ã™ã‚‹éŠ€è¡Œæ¥­ç•Œã®ãƒ‡ãƒ¼ã‚¿ã«é©ç”¨ã§ãã‚‹ã€æœ€ã‚‚æœ‰ç”¨ãª3ã¤ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ç´¹ä»‹ã™ã‚‹ã€‚
--></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Hmisc) <span class="co"># è¨˜è¿°çµ±è¨ˆé‡ã®è¨ˆç®—</span></span>
<span id="cb83-2"><a href="" aria-hidden="true" tabindex="-1"></a>bank_fin <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">system.file</span>(</span>
<span id="cb83-3"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="st">"extdata"</span>, <span class="st">"ch_2_yahoo_fin.csv"</span>,</span>
<span id="cb83-4"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">package =</span> <span class="st">"auditanalytics"</span>, <span class="at">mustWork =</span> <span class="cn">TRUE</span>)</span>
<span id="cb83-5"><a href="" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb83-6"><a href="" aria-hidden="true" tabindex="-1"></a>Hmisc<span class="sc">::</span><span class="fu">describe</span>(bank_fin) <span class="co"># Show summary statistics</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>bank_fin 

 9  Variables      38  Observations
--------------------------------------------------------------------------------
ticker 
       n  missing distinct 
      25       13       25 

lowest : BAC-PC BAC-PE BAC-PK BAC-PL BAC-PY, highest: WFC-PR WFC-PV WFC-PW WFC-PX WFC-PY
--------------------------------------------------------------------------------
name 
       n  missing distinct 
      25       13        7 

lowest : Banco Santander, S.A. GTD PFD SECS 6 Bank of America Corporation          Berkshire Hathaway Inc.              HSBC Holdings plc ADR A 1/40PF A     JPMorgan Chase &amp; Co.                
highest: Berkshire Hathaway Inc.              HSBC Holdings plc ADR A 1/40PF A     JPMorgan Chase &amp; Co.                 Visa Inc.                            Wells Fargo &amp; Company               
--------------------------------------------------------------------------------
price 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
      25       13       25        1    12231    24374    22.38    22.93 
     .25      .50      .75      .90      .95 
   25.70    26.45    28.66   935.15  1437.69 
                      
Value      0e+00 3e+05
Frequency     24     1
Proportion  0.96  0.04

For the frequency table, variable is rounded to the nearest 5000
--------------------------------------------------------------------------------
change 
       n  missing distinct 
      26       12       22 

lowest : -0.01   -0.03   -0.04   -0.06   -0.07  
highest: 0.14    1.10    1.92    2631.00 ticker 
--------------------------------------------------------------------------------
percent_change 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
      25       13       23    0.999   0.2016   0.4513   -0.268   -0.252 
     .25      .50      .75      .90      .95 
  -0.110    0.180    0.410    0.740    0.952 

lowest : -0.48 -0.27 -0.26 -0.24 -0.19, highest: 0.44  0.53  0.88  0.97  1.02 
--------------------------------------------------------------------------------
volume 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
      25       13       25        1   520349   939507     4340     5020 
     .25      .50      .75      .90      .95 
   20982    34142    80933  1267169  3278800 

lowest :     243    4284    4566    5700   11997
highest:   89764  140922 2018000 3594000 6506000
--------------------------------------------------------------------------------
vol_ave 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
      25       13       25        1   935629  1706024     6093     7569 
     .25      .50      .75      .90      .95 
   29831    44849    85711  2347830  6281000 
                                                       
Value             0   100000  3700000  6900000 11400000
Frequency        19        3        1        1        1
Proportion     0.76     0.12     0.04     0.04     0.04

For the frequency table, variable is rounded to the nearest 100000
--------------------------------------------------------------------------------
capitalization 
       n  missing distinct 
      25       13       25 

lowest : 211.288B 212.921B 214.807B 215.543B 216.366B
highest: 368.674B 403.496B 492.962B 493.498B 541.154B
--------------------------------------------------------------------------------
pe_ratio 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
      25       13       25        1     43.2     71.1    2.846    3.834 
     .25      .50      .75      .90      .95 
   5.440    7.430   11.120   53.596  249.240 
                                                       
Value         0    5   10   15   30   45   55  295  505
Frequency     3   15    1    1    1    1    1    1    1
Proportion 0.12 0.60 0.04 0.04 0.04 0.04 0.04 0.04 0.04

For the frequency table, variable is rounded to the nearest 5
--------------------------------------------------------------------------------</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<h3 id="bank-financial-data">Bank Financial Data</h3>
<p>The <em>describe</em> and <em>describeBy</em> functions of the <em>psych</em> package offer rich reporting of summary statistics, though much of this may be superfluous in auditing. <!-- `psych`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®`describe`é–¢æ•°ã¨`describeBy`é–¢æ•°ã¯ã€è¦ç´„çµ±è¨ˆé‡ã®è±Šå¯Œãªãƒ¬ãƒãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’æä¾›ã™ã‚‹ãŒã€ãã®å¤šãã¯ç›£æŸ»ã«ã¯ä¸å¿…è¦ã‹ã‚‚ã—ã‚Œãªã„ã€‚ --></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psych) <span class="co"># å¿ƒç†çµ±è¨ˆå­¦ã®ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸</span></span>
<span id="cb85-2"><a href="" aria-hidden="true" tabindex="-1"></a>psych<span class="sc">::</span><span class="fu">describe</span>(bank_fin) <span class="co"># è¨˜è¿°çµ±è¨ˆé‡ã®å‡ºåŠ›</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                vars  n      mean         sd   median   trimmed      mad    min
ticker*            1 38      9.55       8.61     7.50      8.91     9.64   1.00
name*              2 38      4.05       2.89     3.00      3.97     2.97   1.00
price              3 25  12231.23   60356.40    26.45    112.41     1.93  20.88
change*            4 38      8.84       7.52     7.50      8.34     9.64   1.00
percent_change     5 25      0.20       0.39     0.18      0.18     0.37  -0.48
volume             6 25 520348.92 1480580.79 34142.00 138295.05 32832.18 243.00
vol_ave            7 25 935628.64 2678595.35 44849.00 237653.14 45797.51 245.00
capitalization*    8 38      9.55       8.61     7.50      8.91     9.64   1.00
pe_ratio           9 25     43.20     113.07     7.43     12.99     3.16   0.01
                        max       range skew kurtosis        se
ticker*               26.00       25.00 0.47    -1.30      1.40
name*                  8.00        7.00 0.30    -1.61      0.47
price             301936.00   301915.12 4.42    18.23  12071.28
change*               23.00       22.00 0.37    -1.40      1.22
percent_change         1.02        1.50 0.41    -0.63      0.08
volume           6506000.00  6505757.00 3.01     8.48 296116.16
vol_ave         11488000.00 11487755.00 2.90     7.68 535719.07
capitalization*       26.00       25.00 0.47    -1.30      1.40
pe_ratio             506.93      506.92 3.19     9.35     22.61</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<h3 id="bank-financial-data-by-group">Bank Financial Data by Group</h3>
<!-- ### ç‰¹å®šã®ã‚°ãƒ«ãƒ¼ãƒ—ã”ã¨ã®è¦ç´„çµ±è¨ˆé‡ã‚’describeByã§æŒ‡å®šå¯èƒ½ -->
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="" aria-hidden="true" tabindex="-1"></a>psych<span class="sc">::</span><span class="fu">describeBy</span>(bank_fin, bank_fin<span class="sc">$</span>name)</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Descriptive statistics by group 
group: 
               vars  n mean  sd median trimmed mad min  max range skew kurtosis
ticker            1 13 1.00 0.0      1       1   0   1    1     0  NaN      NaN
name              2 13 1.00 0.0      1       1   0   1    1     0  NaN      NaN
price             3  0  NaN  NA     NA     NaN  NA Inf -Inf  -Inf   NA       NA
change            4 13 2.69 6.1      1       1   0   1   23    22 2.82     6.44
percent_change    5  0  NaN  NA     NA     NaN  NA Inf -Inf  -Inf   NA       NA
volume            6  0  NaN  NA     NA     NaN  NA Inf -Inf  -Inf   NA       NA
vol_ave           7  0  NaN  NA     NA     NaN  NA Inf -Inf  -Inf   NA       NA
capitalization    8 13 1.00 0.0      1       1   0   1    1     0  NaN      NaN
pe_ratio          9  0  NaN  NA     NA     NaN  NA Inf -Inf  -Inf   NA       NA
                 se
ticker         0.00
name           0.00
price            NA
change         1.69
percent_change   NA
volume           NA
vol_ave          NA
capitalization 0.00
pe_ratio         NA
------------------------------------------------------------ 
group: Banco Santander, S.A. GTD PFD SECS 6
               vars n     mean sd   median  trimmed mad      min      max range
ticker            1 1    15.00 NA    15.00    15.00   0    15.00    15.00     0
name              2 1     2.00 NA     2.00     2.00   0     2.00     2.00     0
price             3 1    22.72 NA    22.72    22.72   0    22.72    22.72     0
change            4 1    12.00 NA    12.00    12.00   0    12.00    12.00     0
percent_change    5 1     0.18 NA     0.18     0.18   0     0.18     0.18     0
volume            6 1 11997.00 NA 11997.00 11997.00   0 11997.00 11997.00     0
vol_ave           7 1 19388.00 NA 19388.00 19388.00   0 19388.00 19388.00     0
capitalization    8 1    20.00 NA    20.00    20.00   0    20.00    20.00     0
pe_ratio          9 1    49.93 NA    49.93    49.93   0    49.93    49.93     0
               skew kurtosis se
ticker           NA       NA NA
name             NA       NA NA
price            NA       NA NA
change           NA       NA NA
percent_change   NA       NA NA
volume           NA       NA NA
vol_ave          NA       NA NA
capitalization   NA       NA NA
pe_ratio         NA       NA NA
------------------------------------------------------------ 
group: Bank of America Corporation
               vars n     mean       sd   median  trimmed      mad     min
ticker            1 7     5.00     2.16     5.00     5.00     2.97    2.00
name              2 7     3.00     0.00     3.00     3.00     0.00    3.00
price             3 7   224.31   529.23    25.78   224.31     3.77   20.88
change            4 7     6.43     4.31     5.00     6.43     2.97    3.00
percent_change    5 7    -0.11     0.24    -0.19    -0.11     0.12   -0.27
volume            6 7 33409.00 29580.81 32345.00 33409.00 32341.44 4566.00
vol_ave           7 7 41777.29 34055.28 29831.00 41777.29 35695.08 5755.00
capitalization    8 7    15.00     2.16    15.00    15.00     2.97   12.00
pe_ratio          9 7    79.83   188.34     9.17    79.83     1.33    7.43
                    max    range skew kurtosis       se
ticker             8.00     6.00 0.00    -1.71     0.82
name               3.00     0.00  NaN      NaN     0.00
price           1424.47  1403.59 1.62     0.80   200.03
change            15.00    12.00 0.98    -0.63     1.63
percent_change     0.41     0.68 1.37     0.28     0.09
volume         86124.00 81558.00 0.56    -1.25 11180.50
vol_ave        85711.00 79956.00 0.18    -2.02 12871.69
capitalization    18.00     6.00 0.00    -1.71     0.82
pe_ratio         506.93   499.50 1.62     0.80    71.18
------------------------------------------------------------ 
group: Berkshire Hathaway Inc.
               vars n       mean         sd     median    trimmed        mad
ticker            1 2       9.50       0.71       9.50       9.50       0.74
name              2 2       4.00       0.00       4.00       4.00       0.00
price             3 2  151068.58  213358.75  151068.58  151068.58  223676.04
change            4 2      21.50       0.71      21.50      21.50       0.74
percent_change    5 2       0.92       0.06       0.92       0.92       0.07
volume            6 2 1009121.50 1426769.66 1009121.50 1009121.50 1495763.26
vol_ave           7 2 1890622.50 2673397.50 1890622.50 1890622.50 2802673.68
capitalization    8 2      24.50       0.71      24.50      24.50       0.74
pe_ratio          9 2       8.57      12.11       8.57       8.57      12.70
                  min        max      range skew kurtosis         se
ticker           9.00      10.00       1.00    0    -2.75       0.50
name             4.00       4.00       0.00  NaN      NaN       0.00
price          201.16  301936.00  301734.84    0    -2.75  150867.42
change          21.00      22.00       1.00    0    -2.75       0.50
percent_change   0.88       0.97       0.09    0    -2.75       0.04
volume         243.00 2018000.00 2017757.00    0    -2.75 1008878.50
vol_ave        245.00 3781000.00 3780755.00    0    -2.75 1890377.50
capitalization  24.00      25.00       1.00    0    -2.75       0.50
pe_ratio         0.01      17.14      17.13    0    -2.75       8.56
------------------------------------------------------------ 
group: HSBC Holdings plc ADR A 1/40PF A
               vars n     mean sd   median  trimmed mad      min      max range
ticker            1 1    11.00 NA    11.00    11.00   0    11.00    11.00     0
name              2 1     5.00 NA     5.00     5.00   0     5.00     5.00     0
price             3 1    26.45 NA    26.45    26.45   0    26.45    26.45     0
change            4 1    10.00 NA    10.00    10.00   0    10.00    10.00     0
percent_change    5 1     0.00 NA     0.00     0.00   0     0.00     0.00     0
volume            6 1 26376.00 NA 26376.00 26376.00   0 26376.00 26376.00     0
vol_ave           7 1 61496.00 NA 61496.00 61496.00   0 61496.00 61496.00     0
capitalization    8 1    26.00 NA    26.00    26.00   0    26.00    26.00     0
pe_ratio          9 1    56.04 NA    56.04    56.04   0    56.04    56.04     0
               skew kurtosis se
ticker           NA       NA NA
name             NA       NA NA
price            NA       NA NA
change           NA       NA NA
percent_change   NA       NA NA
volume           NA       NA NA
vol_ave          NA       NA NA
capitalization   NA       NA NA
pe_ratio         NA       NA NA
------------------------------------------------------------ 
group: JPMorgan Chase &amp; Co.
               vars n       mean         sd    median    trimmed      mad
ticker            1 3      13.00       1.00     13.00      13.00     1.48
name              2 3       6.00       0.00      6.00       6.00     0.00
price             3 3      54.84      46.66     28.05      54.84     0.44
change            4 3      12.67       9.45     16.00      12.67     5.93
percent_change    5 3       0.45       0.54      0.36       0.45     0.59
volume            6 3 2225376.33 3707131.82  89764.00 2225376.33 13934.96
vol_ave           7 3 3941765.67 6535296.89 198076.00 3941765.67 87258.42
capitalization    8 3      20.67       1.53     21.00      20.67     1.48
pe_ratio          9 3       5.61       4.77      2.87       5.61     0.04
                     min        max       range  skew kurtosis         se
ticker             12.00 1.4000e+01        2.00  0.00    -2.33       0.58
name                6.00 6.0000e+00        0.00   NaN      NaN       0.00
price              27.75 1.0871e+02       80.96  0.38    -2.33      26.94
change              2.00 2.0000e+01       18.00 -0.31    -2.33       5.46
percent_change     -0.04 1.0200e+00        1.06  0.16    -2.33       0.31
volume          80365.00 6.5060e+06  6425635.00  0.38    -2.33 2140313.55
vol_ave        139221.00 1.1488e+07 11348779.00  0.38    -2.33 3773155.42
capitalization     19.00 2.2000e+01        3.00 -0.21    -2.33       0.88
pe_ratio            2.84 1.1120e+01        8.28  0.38    -2.33       2.76
------------------------------------------------------------ 
group: Visa Inc.
               vars n       mean sd     median    trimmed mad        min
ticker            1 1      16.00 NA      16.00      16.00   0      16.00
name              2 1       7.00 NA       7.00       7.00   0       7.00
price             3 1     180.07 NA     180.07     180.07   0     180.07
change            4 1       7.00 NA       7.00       7.00   0       7.00
percent_change    5 1      -0.48 NA      -0.48      -0.48   0      -0.48
volume            6 1 3594000.00 NA 3594000.00 3594000.00   0 3594000.00
vol_ave           7 1 6906000.00 NA 6906000.00 6906000.00   0 6906000.00
capitalization    8 1      23.00 NA      23.00      23.00   0      23.00
pe_ratio          9 1      34.58 NA      34.58      34.58   0      34.58
                      max range skew kurtosis se
ticker              16.00     0   NA       NA NA
name                 7.00     0   NA       NA NA
price              180.07     0   NA       NA NA
change               7.00     0   NA       NA NA
percent_change      -0.48     0   NA       NA NA
volume         3594000.00     0   NA       NA NA
vol_ave        6906000.00     0   NA       NA NA
capitalization      23.00     0   NA       NA NA
pe_ratio            34.58     0   NA       NA NA
------------------------------------------------------------ 
group: Wells Fargo &amp; Company
               vars  n     mean       sd   median  trimmed      mad     min
ticker            1 10    21.50     3.03    21.50    21.50     3.71   17.00
name              2 10     8.00     0.00     8.00     8.00     0.00    8.00
price             3 10   167.96   447.30    26.42    26.63     0.90   25.58
change            4 10    14.60     3.57    15.50    14.88     3.71    8.00
percent_change    5 10     0.29     0.19     0.36     0.31     0.15   -0.07
volume            6 10 44811.50 39786.63 32546.00 37863.62 16703.71 4284.00
vol_ave           7 10 50484.90 35897.76 39847.00 44781.88 14567.29 7758.00
capitalization    8 10     6.50     3.03     6.50     6.50     3.71    2.00
pe_ratio          9 10    34.68    92.36     5.46     5.50     0.19    5.28
                     max     range  skew kurtosis       se
ticker             26.00      9.00  0.00    -1.56     0.96
name                8.00      0.00   NaN      NaN     0.00
price            1441.00   1415.42  2.28     3.57   141.45
change             19.00     11.00 -0.42    -1.31     1.13
percent_change      0.53      0.60 -0.56    -1.13     0.06
volume         140922.00 136638.00  1.31     0.62 12581.64
vol_ave        138836.00 131078.00  1.31     0.92 11351.87
capitalization     11.00      9.00  0.00    -1.56     0.96
pe_ratio          297.54    292.26  2.28     3.57    29.21</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<p>If the auditor wishes to use summary statistics for further processing, these can be formatted into data frames using the <em>tidy</em> function in <em>broom</em>; alternatively, the data frames can be used to print formatted tables, which may be included in audit papers.</p>
<!-- ç›£æŸ»äººãŒã•ã‚‰ãªã‚‹å‡¦ç†ã«è¦ç´„çµ±è¨ˆé‡ã‚’ä½¿ç”¨ã—ãŸã„å ´åˆã¯ã€broom ã® tidy é–¢æ•°ã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã«ãƒ•ã‚©ãƒ¼ãƒžãƒƒãƒˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ã‚ã‚‹ã„ã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’åˆ©ç”¨ã—ã¦ãƒ•ã‚©ãƒ¼ãƒžãƒƒãƒˆã•ã‚ŒãŸè¡¨ã‚’å°åˆ·ã—ã€ç›£æŸ»èª¿æ›¸ã«å«ã‚ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã€‚ -->
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(kableExtra, broom, pastecs) <span class="co"># ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®èª­ã¿è¾¼ã¿</span></span>
<span id="cb89-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="do">## Tidy these up and write them as a formated table, using kableExtra</span></span>
<span id="cb89-3"><a href="" aria-hidden="true" tabindex="-1"></a>pastecs<span class="sc">::</span><span class="fu">stat.desc</span>(bank_fin) <span class="sc">|&gt;</span></span>
<span id="cb89-4"><a href="" aria-hidden="true" tabindex="-1"></a>  broom<span class="sc">::</span><span class="fu">tidy</span>() <span class="sc">|&gt;</span></span>
<span id="cb89-5"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">longtable =</span> T, <span class="at">caption =</span> <span class="st">"Summary Statistics"</span>) <span class="sc">|&gt;</span></span>
<span id="cb89-6"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> F, <span class="at">font_size =</span> <span class="dv">18</span>)</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 18px; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Summary Statistics</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">column</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">n</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">mean</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">sd</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">median</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">trimmed</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">mad</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">min</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">max</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">range</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">skew</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">kurtosis</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">se</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ticker</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">NaN</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NaN</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">Inf</td>
<td style="text-align: right;">-Inf</td>
<td style="text-align: right;">-Inf</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">name</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">NaN</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NaN</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">Inf</td>
<td style="text-align: right;">-Inf</td>
<td style="text-align: right;">-Inf</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">price</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">2.602796e+08</td>
<td style="text-align: right;">9.735837e+08</td>
<td style="text-align: right;">1.215125e+04</td>
<td style="text-align: right;">8.494124e+04</td>
<td style="text-align: right;">1.214879e+04</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">3.642895e+09</td>
<td style="text-align: right;">3.642895e+09</td>
<td style="text-align: right;">3.328201</td>
<td style="text-align: right;">12.076923</td>
<td style="text-align: right;">2.602012e+08</td>
</tr>
<tr class="even">
<td style="text-align: left;">change</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">NaN</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NaN</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">Inf</td>
<td style="text-align: right;">-Inf</td>
<td style="text-align: right;">-Inf</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">percent_change</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">3.515023e+00</td>
<td style="text-align: right;">7.098547e+00</td>
<td style="text-align: right;">6.972503e-01</td>
<td style="text-align: right;">2.057527e+00</td>
<td style="text-align: right;">5.799849e-01</td>
<td style="text-align: right;">-0.48</td>
<td style="text-align: right;">2.500000e+01</td>
<td style="text-align: right;">2.548000e+01</td>
<td style="text-align: right;">2.331536</td>
<td style="text-align: right;">7.251627</td>
<td style="text-align: right;">1.897167e+00</td>
</tr>
<tr class="even">
<td style="text-align: left;">volume</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">1.565820e+11</td>
<td style="text-align: right;">5.858680e+11</td>
<td style="text-align: right;">4.082325e+05</td>
<td style="text-align: right;">2.413592e+06</td>
<td style="text-align: right;">4.082246e+05</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">2.192119e+12</td>
<td style="text-align: right;">2.192119e+12</td>
<td style="text-align: right;">3.328201</td>
<td style="text-align: right;">12.076923</td>
<td style="text-align: right;">1.565798e+11</td>
</tr>
<tr class="odd">
<td style="text-align: left;">vol_ave</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">5.124946e+11</td>
<td style="text-align: right;">1.917564e+12</td>
<td style="text-align: right;">7.356739e+05</td>
<td style="text-align: right;">4.305602e+06</td>
<td style="text-align: right;">7.356659e+05</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">7.174873e+12</td>
<td style="text-align: right;">7.174873e+12</td>
<td style="text-align: right;">3.328201</td>
<td style="text-align: right;">12.076923</td>
<td style="text-align: right;">5.124906e+11</td>
</tr>
<tr class="even">
<td style="text-align: left;">capitalization</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">NaN</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NaN</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">Inf</td>
<td style="text-align: right;">-Inf</td>
<td style="text-align: right;">-Inf</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">pe_ratio</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">1.082288e+03</td>
<td style="text-align: right;">3.382558e+03</td>
<td style="text-align: right;">3.410240e+01</td>
<td style="text-align: right;">1.972988e+02</td>
<td style="text-align: right;">3.278888e+01</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.278445e+04</td>
<td style="text-align: right;">1.278445e+04</td>
<td style="text-align: right;">3.280235</td>
<td style="text-align: right;">11.874574</td>
<td style="text-align: right;">9.040266e+02</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section class="slide level2">

<ul>
<li>However the auditor chooses to summarize a dataset, there are certain common statistics that will be generated. <!-- ç›£æŸ»äººãŒãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’ã©ã®ã‚ˆã†ã«è¦ç´„ã™ã‚‹ã‹ã«ã‹ã‹ã‚ã‚‰ãšã€ç”Ÿæˆã•ã‚Œã‚‹å…±é€šã®çµ±è¨ˆé‡ãŒã‚ã‚‹ã€‚ --></li>
</ul>
<ol type="1">
<li><strong>Count</strong> : How many transactions (or rows) does the dataset contain. <!-- 1. ä»¶æ•°ï¼ˆcountï¼‰ï¼š ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã«å«ã¾ã‚Œã‚‹å–å¼•ï¼ˆã¾ãŸã¯è¡Œï¼‰ã®æ•° --></li>
<li><strong>Information</strong> : Potentially the maximum amount that the data can tell you about is the variability of a particular construct. <!-- 1. 2.  ï¼ˆãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã«å«ã¾ã‚Œã‚‹ï¼‰æƒ…å ±ï¼ˆinformationï¼‰ï¼š ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ã‚ã‹ã‚‹æœ€å¤§é™ã®ã“ã¨ã¯ã€ç‰¹å®šã®æ§‹æˆè¦ç´ ã«å¯¾ã™ã‚‹å¤‰å‹•æ€§ã§ã‚ã‚‹ã€‚ --> <!-- Information is context specific (you cannot use a weather database to predict poker outcomes) and there is no absolute measure.  --> <!-- æƒ…å ±ã¯æ–‡è„ˆã«å›ºæœ‰ã§ã‚ã‚Šï¼ˆãƒãƒ¼ã‚«ãƒ¼ã®çµæžœã‚’äºˆæ¸¬ã™ã‚‹ã®ã«å¤©æ°—ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½¿ã†ã“ã¨ã¯ã§ããªã„ï¼‰ã€çµ¶å¯¾çš„ãªå°ºåº¦ã¯ãªã„ã€‚ --> In accounting transactions, the count of data is often not a good measure of information content. <!-- ä¼šè¨ˆå–å¼•ã§ã¯ã€ãƒ‡ãƒ¼ã‚¿ã®æ•°ã¯æƒ…å ±é‡ã®è‰¯ã„å°ºåº¦ã«ã¯ãªã‚‰ãªã„ã“ã¨ãŒå¤šã„ã€‚ --> Accounting data is highly multicollinear - the same economic event (e.g., a sale) is repeatedly recorded in the data (e.g., as an account receivable of the same amount, as an inventory reduction of a related amount, as a collection, and so forth)</li>
</ol>
</section>
<section class="slide level2">

<!-- ä¼šè¨ˆãƒ‡ãƒ¼ã‚¿ã¯éžå¸¸ã«å¤šé‡å…±ç·šçš„ã§ã‚ã‚Šã€åŒã˜çµŒæ¸ˆäº‹è±¡ãŒç¹°ã‚Šè¿”ã—ãƒ‡ãƒ¼ã‚¿ã«è¨˜éŒ²ã•ã‚Œã‚‹ï¼ˆä¾‹ãˆã°å£²ä¸Šã®è¨˜éŒ²ã«å¯¾ã—ã¦ã€åŒé¡ã®å£²æŽ›é‡‘ã®è¨˜éŒ²ã€é–¢é€£ã™ã‚‹é‡‘é¡ã®åœ¨åº«ã®å‰Šæ¸›ã®è¨˜éŒ²ã€å£²æŽ›é‡‘ã®å›žåŽã®è¨˜éŒ²ãªã©ï¼‰ã€‚ -->
<ol start="3" type="1">
<li><strong>Mean</strong> : The basic estimate of location. The arithmetic mean (or just mean) is the sum of all the values divided by the number of values. <!-- 1. å¹³å‡å€¤ï¼ˆmeanï¼‰ï¼š åŸºç¤Žçš„ãªï¼ˆä¸­å¿ƒï¼‰ä½ç½®ã®è¦‹ç©ã‚Šã€‚ç®—è¡“å¹³å‡ï¼ˆã¾ãŸã¯å˜ã«å¹³å‡ã¨å‘¼ã¶ï¼‰ã¯ã€ã™ã¹ã¦ã®å€¤ã®åˆè¨ˆã‚’å€¤ã®æ•°ã§å‰²ã£ãŸã‚‚ã®ã§ã‚ã‚‹ã€‚ --></li>
<li><strong>Trimmed mean</strong> : An arithmetic mean that removes a small designated percentage of the largest and smallest values before calculating the mean. <!-- 1. åˆˆè¾¼ã¿å¹³å‡ï¼ˆtrimmed meanï¼‰ï¼š å¹³å‡ã‚’è¨ˆç®—ã™ã‚‹å‰ã«ã€æœ€å¤§å€¤ã¨æœ€å°å€¤ã‹ã‚‰ä¸€å®šã®å‰²åˆã‚’é™¤åŽ»ã—ãŸç®—è¡“å¹³å‡ã€‚ --> <!-- After removing the specified outlier observations, the trimmed mean is found using a standard arithmetic averaging formula.  --> <!-- å¤–ã‚Œå€¤ã¨ãªã‚‹ç‰¹å®šã®è¦³æ¸¬å€¤ã‚’é™¤åŽ»ã—ãŸå¾Œã€æ¨™æº–çš„ãªç®—è¡“å¹³å‡å¼ã‚’ç”¨ã„ã¦åˆˆè¾¼ã¿å¹³å‡ãŒæ±‚ã‚ã‚‰ã‚Œã‚‹ã€‚ --></li>
<li><strong>Outlier</strong> : An outlier is any value that is very distant from the other values in a dataset. The exact definition of an outlier is somewhat subjective. <!--
Outliers are exceptions that should be further investigated.
Being an outlier in itself does not make a data value invalid or erroneous.
Nonetheless, outliers are often the result of data errors.
When outliers are the result of bad data, the mean will result in a poor estimate of location, while the median will still be valid.
Outliers are sometimes informative and sometimes a nuisance, in anomaly detection the points of interest are the outliers, and the greater mass of data serves primarily to define the â€œnormalâ€ against which anomalies are measured. --> <!-- 1. å¤–ã‚Œå€¤ï¼ˆoutlierï¼‰ï¼š å¤–ã‚Œå€¤ã¨ã¯ã€ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆå†…ã®ä»–ã®å€¤ã‹ã‚‰å¤§ããå¤–ã‚ŒãŸå€¤ã®ã“ã¨ã§ã‚ã‚‹ã€‚å¤–ã‚Œå€¤ã‚’æ­£ç¢ºã«å®šç¾©ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã‚„ã‚„ä¸»è¦³çš„ã«ãªã£ã¦ã—ã¾ã†ãŒã€ãƒ‡ãƒ¼ã‚¿ã®è¦ç´„ã‚„ãƒ—ãƒ­ãƒƒãƒˆã«ãŠã„ã¦ç‰¹å®šã®ï¼ˆå¤–ã‚Œå€¤ã‚’æ¤œå‡ºã™ã‚‹æ–¹æ³•ãŒï¼‰æ…£ä¾‹ã¨ã—ã¦ä½¿ã‚ã‚Œã¦ã„ã‚‹ã€‚å¤–ã‚Œå€¤ã¯ã€ã•ã‚‰ã«è©³ç´°ã«èª¿æŸ»ã•ã‚Œã‚‹ã¹ãä¾‹å¤–ã§ã‚ã‚‹ã€‚å¤–ã‚Œå€¤ã ã‹ã‚‰ã¨ã„ã£ã¦ãã®ãƒ‡ãƒ¼ã‚¿å€¤ãŒç„¡åŠ¹ã§ã‚ã£ãŸã‚Šã€èª¤ã‚Šã§ã‚ã£ãŸã‚Šã™ã‚‹ã‚ã‘ã§ã¯ãªã„ãŒã€ãƒ‡ãƒ¼ã‚¿ã®èª¤ã‚Šã®çµæžœã¨ã—ã¦å¤–ã‚Œå€¤ãŒç”Ÿã˜ã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã€‚æ‚ªã„ãƒ‡ãƒ¼ã‚¿ã®çµæžœã¨ã—ã¦å¤–ã‚Œå€¤ãŒç”Ÿã˜ã¦ã„ã‚‹å ´åˆã€å¹³å‡å€¤ã¯ï¼ˆä¸­å¿ƒï¼‰ä½ç½®ã®æŽ¨å®šã«å•é¡ŒãŒèµ·ãã‚‹ãŒã€ä¸­å¤®å€¤ã«ã¤ã„ã¦ã¯æœ‰åŠ¹ã®ã¾ã¾ã§ã‚ã‚‹ã€‚å¤–ã‚Œå€¤ã¯æƒ…å ±ä¾¡å€¤ãŒã‚ã‚‹å ´åˆã‚‚ã‚ã‚Œã°ã€åŽ„ä»‹ãªå ´åˆã‚‚ã‚ã‚‹ã€‚ç•°å¸¸å€¤æ¤œå‡ºï¼ˆanomaly detectionï¼‰ã§ã¯æ³¨ç›®ã™ã¹ãç‚¹ã¯å¤–ã‚Œå€¤ã§ã‚ã‚Šã€ã‚ˆã‚Šå¤šãã®ï¼ˆä»–ã®ï¼‰ãƒ‡ãƒ¼ã‚¿ã¯ã€ç•°å¸¸ã‚’æ¸¬å®šã™ã‚‹åŸºæº–ã¨ãªã‚‹ã€Œæ­£å¸¸ï¼ˆnormalï¼‰ã€ã‚’å®šç¾©ã™ã‚‹å½¹å‰²ã‚’ä¸»ã«æžœãŸã™ã€‚ --></li>
<li><strong>Median</strong> : The median is the middle number on a sorted list of the data. <!--
It provides a robust estimate of location since it is not influenced by outliers (extreme cases) that could skew the results.
An outlier is any value that is very distant from the other values in a dataset.
The exact definition of an outlier is somewhat subjective, although certain conventions are used in various data summaries and plots.
Being an outlier in itself does not make a data value invalid or erroneous.
Still, outliers are often the result of data errors such as mixing data of different units (kilometers versus meters) or bad readings from a sensor.
When outliers are the result of bad data, the mean will result in a poor estimate of location, while the median will be still valid.
In any case, outliers should be identified and are usually worthy of further investigation.
--> <!-- 6. ä¸­å¤®å€¤ï¼ˆmedianï¼‰ï¼š ä¸­å¤®å€¤ã¯ã€ãƒ‡ãƒ¼ã‚¿ã‚’ä¸¦ã³æ›¿ãˆãŸãƒªã‚¹ãƒˆã®çœŸã‚“ä¸­ã«ä½ç½®ã™ã‚‹æ•°å­—ã§ã‚ã‚‹ã€‚çµæžœã‚’æ­ªã‚ã‚‹å¯èƒ½æ€§ã®ã‚ã‚‹å¤–ã‚Œå€¤ã®å½±éŸ¿ã‚’å—ã‘ãªã„ã®ã§ã€ä¸­å¤®å€¤ã¯ï¼ˆä¸­å¿ƒï¼‰ä½ç½®ã«ã¤ã„ã¦é ‘å¼·ãªæŽ¨å®šå€¤ã‚’æä¾›ã™ã‚‹ã€‚å¤–ã‚Œå€¤ã¯ã€ç•°ãªã‚‹å˜ä½ï¼ˆã‚­ãƒ­ãƒ¡ãƒ¼ãƒˆãƒ«ã¨ãƒ¡ãƒ¼ãƒˆãƒ«ï¼‰ã®ãƒ‡ãƒ¼ã‚¿ãŒæ··åœ¨ã—ã¦ã„ãŸã‚Šã€ã‚»ãƒ³ã‚µãƒ¼ãŒèª­ã¿å–ã‚Šã«å¤±æ•—ã—ãŸã€ã¨ã„ã£ãŸãƒ‡ãƒ¼ã‚¿ã®èª¤ã‚Šã®çµæžœã§ã‚ã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚å¤–ã‚Œå€¤ãŒãƒ‡ãƒ¼ã‚¿ã®èª¤ã‚Šã®çµæžœã§ã‚ã‚‹å ´åˆã€å¹³å‡å€¤ã¯ä½ç½®ã®æŽ¨å®šã«å¤±æ•—ã™ã‚‹ãŒã€ä¸­å¤®å€¤ã¯ã¾ã æœ‰åŠ¹ã§ã‚ã‚‹ï¼ˆã„ãšã‚Œã«ã›ã‚ˆã€å¤–ã‚Œå€¤ã¯ï¼ˆãã®åŽŸå› ãŒï¼‰ç‰¹å®šã•ã‚Œã‚‹ã¹ãã§ã‚ã‚Šã€é€šå¸¸ã¯ã•ã‚‰ã«èª¿æŸ»ã™ã‚‹ä¾¡å€¤ãŒã‚ã‚‹ï¼‰ã€‚ --></li>
<li><strong>Variance</strong> : The primary variability statistic (though less commonly used than standard deviation). It is the sum of squared deviations from the mean divided by <span class="math inline">n âˆ’ 1</span> where <span class="math inline">n</span> is the count. <!-- Location is just one dimension in summarizing a feature. A second dimension, variability, also referred to as dispersion, measures whether the data values are tightly clustered or spread out. At the heart of statistics lies variability: measuring it, reducing it, distinguishing random from real variability, identifying the various sources of real variability, and making decisions in the presence of it. --> <!-- 7. åˆ†æ•£ï¼ˆvarianceï¼‰ï¼š ï¼ˆæ¨™æº–åå·®ã®æ–¹ãŒè‰¯ãåˆ©ç”¨ã•ã‚Œã‚‹ãŒï¼‰ä¸»è¦ãªãƒãƒ©ãƒ„ã‚­ã‚’æ¸¬ã‚‹çµ±è¨ˆé‡ã€‚å¹³å‡ã‹ã‚‰ã®åå·®ã®2ä¹—å’Œã‚’n-1ã§å‰²ã£ãŸã‚‚ã®ã§ã€nã¯ä»¶æ•°ã§ã‚ã‚‹ã€‚ï¼ˆä¸­å¿ƒï¼‰ä½ç½®ã¯ç‰¹å¾´ã‚’è¦ç´„ã™ã‚‹1æ¬¡ã®ãƒ¢ãƒ¼ãƒ¡ãƒ³ãƒˆã«ã™ãŽãªã„ã€‚2æ¬¡ã®ãƒ¢ãƒ¼ãƒ¡ãƒ³ãƒˆã§ã‚ã‚‹ãƒãƒ©ãƒ„ã‚­ã¯ã€åˆ†æ•£ã¨ã‚‚å‘¼ã°ã‚Œã€æ¸¬å®šå€¤ãŒå¯†é›†ã—ã¦ã„ã‚‹ã‹æ•£è²¡ã—ã¦ã„ã‚‹ã‹ã‚’æ¸¬å®šã™ã‚‹ã€‚çµ±è¨ˆå­¦ã®æœ¬è³ªã¯ã€ãƒãƒ©ãƒ„ã‚­ã«ã‚ã‚‹ã€‚ã™ãªã‚ã¡ã€ãƒãƒ©ãƒ„ã‚­ã‚’æ¸¬å®šã—ã€ãƒãƒ©ãƒ„ã‚­ã‚’å°ã•ãã—ã€ãƒ©ãƒ³ãƒ€ãƒ ãªãƒãƒ©ãƒ„ã‚­ã¨å®Ÿéš›ã®ãƒãƒ©ãƒ„ã‚­ã‚’åŒºåˆ¥ã™ã‚‹ã“ã¨ã€æœ¬å½“ã®ãƒãƒ©ãƒ„ã‚­ã®ã•ã¾ã–ã¾ãªåŽŸå› ã‚’ç‰¹å®šã™ã‚‹ã“ã¨ã€ãã—ã¦ï¼ˆçµæžœã«ï¼‰ãƒãƒ©ãƒ„ã‚­ãŒã‚ã‚‹çŠ¶æ³ä¸‹ã§æ„æ€æ±ºå®šã‚’ã™ã‚‹ã“ã¨ã§ã‚ã‚‹ã€‚ --></li>
</ol>
</section>
<section class="slide level2">

<ol start="8" type="1">
<li><strong>Deviations</strong> : (errors, residuals): The difference between the observed values and the estimate of location. <!-- 8. åå·®ï¼ˆdeviationsï¼‰ï¼š è¦³æ¸¬å€¤ã¨æŽ¨å®šå€¤ã¨ã®å·®ã€‚èª¤å·®ï¼ˆerrorsï¼‰ã‚„æ®‹å·®ï¼ˆresidualsï¼‰ã¨ã‚‚ã„ã†ã€‚ --></li>
<li><strong>Standard deviation</strong> : The square root of the variance. Standard deviation (sd) is more commonly used than variance, because its values are easy to compare to linear estimators such as the mean. <!-- Measures of variability are borrowed from the field of mechanics, where a moment is an expression involving the product of a distance and another physical quantity. In statistics, the first moment of a distribution is the mean, the second moment the variance, and third and fourth moments describe skewness and kurtosis. Higher moments are not particularly robust, so tend not to be used. --> <!-- 9. æ¨™æº–åå·®ï¼ˆstandard deviationï¼šSDï¼‰ï¼š åˆ†æ•£ã®å¹³æ–¹æ ¹ã€‚æ¨™æº–åå·®ã¯å¹³å‡ãªã©ã®ç·šå½¢æŽ¨å®šé‡ã¨æ¯”è¼ƒã—ã‚„ã™ã„ã®ã§ã€åˆ†æ•£ã‚ˆã‚Šã‚‚ã‚ˆãä½¿ã‚ã‚Œã‚‹ã€‚ãƒãƒ©ãƒ„ã‚­ã®æ¸¬å®šå€¤ã¯åŠ›å­¦ã®åˆ†é‡Žã«ç”±æ¥ã—ã¦ãŠã‚Šã€åŒåˆ†é‡Žã§ã¯ãƒ¢ãƒ¼ãƒ¡ãƒ³ãƒˆãŒè·é›¢ã¨åˆ¥ã®ç‰©ç†é‡ï¼ˆåŠ›ã¾ãŸã¯è³ªé‡ï¼‰ã®ç©ã‚’å«ã‚€å¼ã§ã‚ã‚‹ã€‚ --></li>
<li><strong>Degrees of freedom</strong> (df): Another concept borrowed mechanics. <!-- Where a mechanism is made of several parts, it is the number of possible independent relative motions between the parts of the mechanism. --> <!-- In statistics, the number of degrees of freedom is the number of values in the final calculation of a statistic that are free to vary. It is a rough way to determine whether a dataset is large enough to render a decision based on a particular hypothesis or statistic. Degrees of freedom considerations are important in computing sample statistics, as adjustments are required to assure the statistic is not biased. --> <!-- 10.    è‡ªç”±åº¦ï¼ˆdegrees of freedomï¼šdfï¼‰ï¼š åŠ›å­¦ã«ç”±æ¥ã™ã‚‹ã‚‚ã†ä¸€ã¤ã®æ¦‚å¿µã€‚ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ãŒã„ãã¤ã‹ã®éƒ¨åˆ†ã‹ã‚‰æ§‹æˆã•ã‚Œã¦ã„ã‚‹å ´åˆã€ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã®éƒ¨åˆ†é–“ã®ç‹¬ç«‹ã—ãŸç›¸å¯¾é‹å‹•ã®å¯èƒ½æ€§ã®æ•°ã§ã‚ã‚‹ã€‚çµ±è¨ˆå­¦ã§ã¯ã€è‡ªç”±åº¦ã¨ã¯ã€ã‚ã‚‹çµ±è¨ˆé‡ã®æœ€çµ‚çš„ãªè¨ˆç®—ã«ãŠã„ã¦ã€è‡ªç”±ã«å¤‰åŒ–ã™ã‚‹å€¤ã®æ•°ã§ã‚ã‚‹ã€‚ã“ã‚Œã¯ã€ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆãŒç‰¹å®šã®ä»®èª¬ã‚„çµ±è¨ˆé‡ã«åŸºã¥ã„ã¦æ±ºå®šã‚’ä¸‹ã™ã®ã«ååˆ†ãªå¤§ãã•ã‹ã©ã†ã‹ã‚’åˆ¤æ–­ã™ã‚‹ãŸã‚ã®å¤§ã¾ã‹ãªæ‰‹æ³•ã§ã‚ã‚‹ã€‚è‡ªç”±åº¦ã®æ¤œè¨Žã¯ã€çµ±è¨ˆé‡ãŒåã‚‰ãªã„ã‚ˆã†ã«èª¿æ•´ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€æ¨™æœ¬çµ±è¨ˆé‡ã‚’è¨ˆç®—ã™ã‚‹ä¸Šã§é‡è¦ã§ã‚ã‚‹ã€‚ --></li>
<li><strong>Mean absolute deviation</strong> (mad, l1-norm, Manhattan norm): The mean of the absolute value of the deviations from the mean. <!-- 11.    å¹³å‡åå·®ã®çµ¶å¯¾å€¤ (mean absolute deviationï¼šmad, L1-norm, Manhattan norm)ï¼š å¹³å‡ã‹ã‚‰ã®åå·®ã«ã¤ã„ã¦çµ¶å¯¾å€¤ã‚’ã¨ã£ãŸå€¤ã®å¹³å‡ã€‚ --></li>
<li><strong>Range</strong> : The difference between the largest (max) and the smallest (min) value in a dataset. <!-- 12.    ç¯„å›²ï¼ˆrangeï¼‰ï¼šãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆå†…ã®æœ€å¤§å€¤ã¨æœ€å°å€¤ã®å·® --></li>
<li><strong>Skew and Kurtosis</strong> : In statistics, <!-- the first moment of a distribution is the mean, the second moment the variance, and  --> <em>third</em> and <em>fourth moments</em> describe skewness and kurtosis. <!-- Higher moments are not particularly robust, so tend not to be used. Typically central moments are reported, which means that the distance is computed from the mean of the distribution of transactions, rather than from zero. --> <!-- 13.    æ­ªåº¦ï¼ˆSkewï¼‰ãƒ»å°–åº¦ï¼ˆKurtosisï¼‰ï¼šçµ±è¨ˆå­¦ã§ã¯ã€åˆ†å¸ƒã®1æ¬¡ã®ãƒ¢ãƒ¼ãƒ¡ãƒ³ãƒˆãŒå¹³å‡ã€2æ¬¡ã®ãƒ¢ãƒ¼ãƒ¡ãƒ³ãƒˆãŒåˆ†æ•£ã€3æ¬¡ã®ãƒ¢ãƒ¼ãƒ¡ãƒ³ãƒˆã¨4æ¬¡ã®ãƒ¢ãƒ¼ãƒ¡ãƒ³ãƒˆãŒæ­ªåº¦ã¨å°–åº¦ã‚’è¡¨ã™ã€‚ãã‚Œä»¥ä¸Šã®é«˜æ¬¡ã®ãƒ¢ãƒ¼ãƒ¡ãƒ³ãƒˆã¯ç‰¹ã«é ‘å¼·ã§ãªã„ã®ã§ã€ã‚ã¾ã‚Šä½¿ç”¨ã•ã‚Œãªã„ã€‚ï¼ˆç‰¹å®šã®å–å¼•ã®åˆ†å¸ƒã«èˆˆå‘³ãŒã‚ã‚‹å ´åˆï¼‰é€šå¸¸ã€ä¸­å¿ƒãƒ¢ãƒ¼ãƒ¡ãƒ³ãƒˆï¼ˆã¤ã¾ã‚Šå¹³å‡ï¼‰ãŒç¤ºã•ã‚Œã‚‹ãŒã€ã“ã‚Œã¯è·é›¢ãŒã‚¼ãƒ­ã‹ã‚‰ã§ã¯ãªãã€å–å¼•ã®åˆ†å¸ƒã®å¹³å‡ã‹ã‚‰è¨ˆç®—ã•ã‚Œã‚‹ã“ã¨ã‚’è¡¨ã—ã¦ã„ã‚‹ã€‚ --></li>
</ol>
</section>
<section class="slide level2">

<ol start="14" type="1">
<li><p><strong>Order statistics</strong> : Metrics based on the data values sorted from smallest to biggest. <!-- 14.    é †åºçµ±è¨ˆé‡ï¼ˆorder statisticsï¼‰ï¼š å°ã•ã„ã‚‚ã®ã‹ã‚‰å¤§ãã„ã‚‚ã®ã¸ã¨ä¸¦ã¹ãŸãƒ‡ãƒ¼ã‚¿ã®æŒ‡æ¨™ --></p></li>
<li><p><strong>Percentile (quantile)</strong> : The value such that p% of the values take on this value or less and (100 âˆ’ p)% take on more than this value. The difference between the 75th percentile and the 25th percentile is called the interquartile range (IQR). <!-- 15.    ãƒ‘ãƒ¼ã‚»ãƒ³ã‚¿ã‚¤ãƒ«ï¼ˆpercentileï¼‰ãƒ»åˆ†ä½æ•°ï¼ˆquantileï¼‰ï¼š å€¤ã®pï¼…ãŒã“ã®å€¤ä»¥ä¸‹ã§ã€(100 - p)ï¼…ãŒã“ã®å€¤ä»¥ä¸Šã§ã‚ã‚‹ã‚ˆã†ãªå€¤ã€‚ç‰¹ã«ã€75ãƒ‘ãƒ¼ã‚»ãƒ³ã‚¿ã‚¤ãƒ«ã¨25ãƒ‘ãƒ¼ã‚»ãƒ³ã‚¿ã‚¤ãƒ«ã®å·®ã‚’å››åˆ†ä½ç¯„å›²ï¼ˆinterquartile rangeï¼šIQRï¼‰ã¨ã„ã† --></p></li>
<li><p><strong>Correlation coefficient</strong> : A metric that measures the extent to which numeric variables are associated with one another (ranges from âˆ’1 to +1). <!-- 16.    ç›¸é–¢ä¿‚æ•°ï¼š é‡çš„å¤‰æ•°ãŒäº’ã„ã«ã©ã®ç¨‹åº¦é–¢é€£ã—ã¦ã„ã‚‹ã‹ã‚’æ¸¬å®šã™ã‚‹æŒ‡æ¨™ï¼ˆç¯„å›²ã¯-1ã‹ã‚‰+1ï¼‰ --></p></li>
<li><p><strong>Scatterplot</strong> : A plot in which the x-axis is the value of one variable, and the y-axis the value of another. <!-- 17.    æ•£å¸ƒå›³ï¼ˆScatterplotï¼‰ï¼šXè»¸ã‚’ã‚ã‚‹å¤‰æ•°ã®å€¤ã€Yè»¸ã‚’åˆ¥ã®å¤‰æ•°ã®å€¤ã¨ã™ã‚‹å›³ã€‚ --></p></li>
</ol>
</section>
<section id="important-concepts-in-probability-and-statistics" class="slide level2">
<h2>Important Concepts in Probability and Statistics</h2>
<ul>
<li><em>Probability distributions</em> are models describing the variability of data or the underlying population from which the data is drawn. <!-- ç¢ºçŽ‡åˆ†å¸ƒã¯ã€ãƒ‡ãƒ¼ã‚¿ã®ãƒãƒ©ãƒ„ã‚­ã‚„ãƒ‡ãƒ¼ã‚¿ã®å…ƒã¨ãªã‚‹æ¯é›†å›£ã‚’è¨˜è¿°ã™ã‚‹ãƒ¢ãƒ‡ãƒ«ã§ã‚ã‚‹ã€‚ --></li>
<li>There are perhaps <em>50 or 60 different distributions</em> that are used in characterizing population statistics, but only <em>half a dozen are commonly used</em>. <!-- æ¯é›†å›£ã‚’ç‰¹å¾´ã¥ã‘ã‚‹åˆ†å¸ƒã¯ã€50ï½ž60ç¨®é¡žç¨‹åº¦ã‚ã‚‹ãŒã€ä¸€èˆ¬çš„ã«ä½¿ã‚ã‚Œã‚‹ã®ã¯ãã®ã†ã¡ã®6ã¤ã ã‘ã§ã‚ã‚‹ã€‚ --></li>
<li>Quite often when we refer to parametric statistics, we are making an assumption of <strong>Normal</strong> (Gaussian) distributions for the data. <!-- ãƒ‘ãƒ©ãƒ¡ãƒˆãƒªãƒƒã‚¯çµ±è¨ˆã«ã‚ˆã‚Šåˆ†æžã™ã‚‹ã¨ãã€åˆ†æžè€…ã¯ãƒ‡ãƒ¼ã‚¿ã«ã¤ã„ã¦æ­£è¦åˆ†å¸ƒï¼ˆã‚¬ã‚¦ã‚¹åˆ†å¸ƒï¼‰ã‚’ä»®å®šã—ã¦ã„ã‚‹ã“ã¨ãŒå¤šã„ã€‚   --></li>
<li>We will see later that this assumption may not be warranted for accounting and financial transactions. <!-- ã“ã®ä»®å®šãŒä¼šè¨ˆå–å¼•ã‚„è²¡å‹™å–å¼•ã§ã¯æ­£å½“åŒ–ã•ã‚Œãªã„å ´åˆãŒã‚ã‚‹ã“ã¨ã«ã¤ã„ã¦ã¯ã€å¾Œè¿°ã™ã‚‹ã€‚ --></li>
</ul>
</section>
<section class="slide level2">

<ol type="1">
<li><strong>Normal (Gaussian) distribution</strong> : The <em>bell-shaped</em> normal distribution is iconic in traditional statistics. Related terms are: <!-- 1. æ­£è¦åˆ†å¸ƒã¾ãŸã¯ã‚¬ã‚¦ã‚¹åˆ†å¸ƒï¼š ãƒ™ãƒ«åž‹ã®æ­£è¦åˆ†å¸ƒã¯ã€ä¼çµ±çš„ãªçµ±è¨ˆå­¦ã®è±¡å¾´ã§ã‚ã‚‹ã€‚é–¢é€£ç”¨èªžã¨ã—ã¦ä»¥ä¸‹ã‚’ã‚ã’ã‚‹ã€‚ -->
<ul>
<li><em>Standardization</em> : Subtract the mean and divide by the standard deviation.</li>
<li><em>z-score</em> : The result of standardizing an individual data point.</li>
<li><em>Standard normal</em> : A normal distribution with <code>mean = 0</code> and standard deviation = 1.</li>
<li><em>QQ-Plot</em> : A quantile (of the sample) by quantile (of a Normal distribution) plot to visualize how close a sample distribution is to a Normal distribution. <!-- - For the disbursement data, an example of a QQ-plot follows --> <!-- - æ¨™æº–åŒ–ï¼ˆstandardizationï¼‰ï¼š å¹³å‡ã‚’å¼•ãã€æ¨™æº–åå·®ã§å‰²ã‚‹ã€‚
 - zã‚¹ã‚³ã‚¢ï¼ˆz-scoreï¼‰ï¼š å€‹ã€…ã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã‚’æ¨™æº–åŒ–ã—ãŸçµæžœã€‚
 - æ¨™æº–æ­£è¦åˆ†å¸ƒï¼ˆstandard normal distributionï¼‰ï¼š å¹³å‡=0ã€æ¨™æº–åå·®=1ã®æ­£è¦åˆ†å¸ƒã€‚
 - QQãƒ—ãƒ­ãƒƒãƒˆï¼ˆQQ-Plotï¼‰ï¼šæ¨™æœ¬åˆ†å¸ƒãŒæ­£è¦åˆ†å¸ƒã«ã©ã‚Œã ã‘è¿‘ã„ã‹ã‚’è¦–è¦šåŒ–ã™ã‚‹ãŸã‚ã®ã€ï¼ˆæ­£è¦åˆ†å¸ƒã®ï¼‰åˆ†ä½æ•°ã«ã‚ˆã‚‹ï¼ˆæ¨™æœ¬ã®ï¼‰åˆ†ä½æ•°ã®ãƒ—ãƒ­ãƒƒãƒˆã€‚ä»¥ä¸‹ã®QQãƒ—ãƒ­ãƒƒãƒˆã¯ã€æ”¯å‡ºãƒ‡ãƒ¼ã‚¿ã«ã¤ã„ã¦ã®å…·ä½“ä¾‹ã§ã‚ã‚‹ã€‚ --></li>
</ul></li>
</ol>
</section>
<section id="qq-plot" class="slide level2">
<h2>QQ-Plot</h2>
<p>Read the disbursement data <code>ch_2_AP_disbursements_journal.csv</code> and create a QQ-plot.</p>
<div class="cell">
<details class="code-fold">
<summary>ã‚³ãƒ¼ãƒ‰</summary>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="" aria-hidden="true" tabindex="-1"></a>disburse <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">system.file</span>(</span>
<span id="cb90-2"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="st">"extdata"</span>, <span class="st">"ch_2_AP_disbursements_journal.csv"</span>, <span class="co"># csv file</span></span>
<span id="cb90-3"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">package =</span> <span class="st">"auditanalytics"</span>, <span class="at">mustWork =</span> <span class="cn">TRUE</span>))</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(disburse[,<span class="st">"amount_paid"</span>]))</span>
<span id="cb91-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">qqnorm</span>(d,</span>
<span id="cb91-3"><a href="" aria-hidden="true" tabindex="-1"></a>        <span class="at">main =</span> <span class="st">"Normal Q-Q Plot"</span>, <span class="co"># QQãƒ—ãƒ­ãƒƒãƒˆã‚’ä½œæˆ</span></span>
<span id="cb91-4"><a href="" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">"Theoretical Quantiles"</span>, <span class="co"># xè»¸ã®ãƒ©ãƒ™ãƒ«</span></span>
<span id="cb91-5"><a href="" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">"Sample Quantiles"</span>, <span class="co"># yè»¸ã®ãƒ©ãƒ™ãƒ«</span></span>
<span id="cb91-6"><a href="" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.it =</span> <span class="cn">TRUE</span>) <span class="co"># ãƒ—ãƒ­ãƒƒãƒˆã™ã‚‹ã‹ã©ã†ã‹</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="gaisho_2024_03_files/figure-revealjs/qqplot_disburse-1.png" width="960" class="r-stretch"></section>
<section class="slide level2">

<h3 id="various-distributions">various distributions</h3>
<ol start="2" type="1">
<li><strong>Binomial Distribution</strong> : A binomial distribution with parameters <span class="math inline">n</span> and <span class="math inline">p</span> is the discrete probability distribution of the number of successes in a sequence of n independent experiments <!-- , each asking a yesâ€“no question, and each with its own Boolean-valued outcome: success/yes/true/one (with probability p) or failure/no/false/zero (with probability q = 1 p). --> A single success/failure experiment is also called a <strong>Bernoulli trial</strong> and a sequence of outcomes is called a <strong>Bernoulli process</strong>; for a single trial, the binomial distribution is a <strong>Bernoulli distribution</strong>. <!-- The binomial distribution is the basis for the popular binomial test of statistical significance.  --> <!-- 2. äºŒé …åˆ†å¸ƒï¼š nã¨pã‚’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã™ã‚‹äºŒé …åˆ†å¸ƒã¯ã€nå€‹ã®ç‹¬ç«‹ã—ãŸãƒ™ãƒ«ãƒŒãƒ¼ã‚¤è©¦è¡Œï¼ˆæˆåŠŸã‹å¤±æ•—ã®2å€¤ã®çµæžœã‚’æŒã¤è©¦è¡Œã§ã€æˆåŠŸç¢ºçŽ‡pãƒ»å¤±æ•—ç¢ºçŽ‡1-pã¨è¡¨ã™ï¼‰ã«ãŠã‘ã‚‹æˆåŠŸå›žæ•°ã®é›¢æ•£ç¢ºçŽ‡åˆ†å¸ƒã€‚ãƒ™ãƒ«ãƒŒãƒ¼ã‚¤è©¦è¡Œã®çµæžœã®åˆ—ã¯ãƒ™ãƒ«ãƒŒãƒ¼ã‚¤éŽç¨‹ï¼ˆBernoulli processï¼‰ã¨å‘¼ã°ã‚Œã€ãƒ™ãƒ«ãƒŒãƒ¼ã‚¤è©¦è¡Œã‚’ä¸€åº¦ã ã‘è¡Œã†ï¼ˆn=1ï¼‰ã®å ´åˆã®ç¢ºçŽ‡åˆ†å¸ƒã¯ãƒ™ãƒ«ãƒŒãƒ¼ã‚¤åˆ†å¸ƒã¨å‘¼ã°ã‚Œã‚‹ã€‚äºŒé …åˆ†å¸ƒã¯ã€ã‚ˆãåˆ©ç”¨ã•ã‚Œã‚‹çµ±è¨ˆçš„æœ‰æ„ã«ã¤ã„ã¦ã®äºŒé …æ¤œå®šã®åŸºç¤Žã¨ãªã‚‹ã€‚ --></li>
<li><strong>Bernoulli distribution</strong> : A Bernoulli distribution is the <em>discrete probability distribution</em> of a random variable which takes the value 1 with probability <span class="math inline">p</span> and the value <span class="math inline">0</span> with probability <span class="math inline">q = 1 âˆ’ p</span>. <!-- In other words, the probability distribution of any single experiment that asks a yesâ€“no question; the question results in a Boolean-valued outcome, a single bit whose value is success/yes/true/one with probability p and failure/no/false/zero with probability q. --> <!-- 3. ãƒ™ãƒ«ãƒŒãƒ¼ã‚¤åˆ†å¸ƒï¼š ãƒ™ãƒ«ãƒŒãƒ¼ã‚¤åˆ†å¸ƒã¨ã¯ã€ç¢ºçŽ‡pã§å€¤1ã‚’ã¨ã‚Šã€ç¢ºçŽ‡q = 1 - pã§å€¤0ã‚’ã¨ã‚‹ç¢ºçŽ‡å¤‰æ•°ã®é›¢æ•£ç¢ºçŽ‡åˆ†å¸ƒã§ã‚ã‚‹ã€‚è¨€ã„æ›ãˆã‚Œã°ã€YESãƒ»NOã®è³ªå•ã‚’è¡Œã†ã‚ˆã†ãªã€ã‚ã‚‰ã‚†ã‚‹å˜ä½“ã®è©¦è¡Œã®ç¢ºçŽ‡åˆ†å¸ƒã§ã‚ã‚‹ã€‚è³ªå•ã®çµæžœã¯ãƒ–ãƒ¼ãƒ«å€¤ã®çµæžœã§ã‚ã‚Šã€ãã®å€¤ã¯ç¢ºçŽ‡pã§1ï¼ˆæˆåŠŸ/YES/çœŸï¼‰ã€ç¢ºçŽ‡qã§0ï¼ˆå¤±æ•—/NO/å½ï¼‰ã§ã‚ã‚‹å˜ä½“ã®äºŒå€¤ã®å€¤ã§ã‚ã‚‹ã€‚ --></li>
</ol>
</section>
<section class="slide level2">

<ol start="4" type="1">
<li><p><strong>Poisson distribution</strong> : the Poisson distribution is a discrete probability distribution that expresses the probability of a <em>given number of events occurring in a fixed interval</em> of time or space if these events occur with a known constant rate and independently of the time since the last event. <!-- The waiting time between Poisson events follows an Exponential distribution. --> <!-- 4. ãƒã‚¢ã‚½ãƒ³åˆ†å¸ƒï¼ˆPoisson distributionï¼‰ï¼šãƒã‚¢ã‚½ãƒ³åˆ†å¸ƒã¯ã‚ã‚‹æ™‚é–“ã¾ãŸã¯ç©ºé–“ã®ä¸€å®šåŒºé–“ã«ãŠã„ã¦ã€ã‚ã‚‹äº‹è±¡ãŒä¸€å®šã®å‰²åˆã§ï¼ˆæœ€å¾Œã®äº‹è±¡ã‹ã‚‰ã®æ™‚é–“ã¨ã¯ç‹¬ç«‹ã«ï¼‰ç™ºç”Ÿã™ã‚‹ç¢ºçŽ‡ã‚’è¡¨ã™é›¢æ•£ç¢ºçŽ‡åˆ†å¸ƒã§ã‚ã‚‹ã€‚ãƒã‚¢ã‚½ãƒ³äº‹è±¡é–“ã®å¾…ã¡æ™‚é–“ã¯ã€æŒ‡æ•°åˆ†å¸ƒã«å¾“ã†ã€‚ --></p></li>
<li><p><strong>Density and Cumulative Distribution</strong> : Probabilities have densities (in continuous distributions such as the Normal) or mass functions (in the case of discrete distributions such as the Poisson) that describe the probability of a given outcome. Cumulative distribution functions describe the probability up to a given value. <!-- An extension of summary statistics computes estimates of density and cumulative distribution functions for data, as the following example using our disbursements data will show. --></p></li>
</ol>
<!-- 5. ï¼ˆç¢ºçŽ‡ï¼‰å¯†åº¦ã¨ç´¯ç©åˆ†å¸ƒï¼ˆDensity and Cumulative Distributionï¼‰ï¼š ç¢ºçŽ‡ã«ã¯æ‰€ä¸Žã®çµæžœã®ç¢ºçŽ‡ã‚’è¡¨ã™ã€å¯†åº¦é–¢æ•°ï¼ˆæ­£è¦åˆ†å¸ƒãªã©ã®é€£ç¶šåˆ†å¸ƒã®å ´åˆï¼‰ã¾ãŸã¯è³ªé‡é–¢æ•°ï¼ˆãƒã‚¢ã‚½ãƒ³åˆ†å¸ƒãªã©ã®é›¢æ•£åˆ†å¸ƒã®å ´åˆï¼‰ãŒã‚ã‚‹ã€‚ç´¯ç©åˆ†å¸ƒé–¢æ•°ã¯ã€ä¸Žãˆã‚‰ã‚ŒãŸå€¤ã¾ã§ã®ç¢ºçŽ‡ã‚’è¨˜è¿°ã™ã‚‹ã€‚è¦ç´„çµ±è¨ˆé‡ï¼ˆã‚’æ‹¡å¼µã—ãŸdensityé–¢æ•°ã‚„ecdfé–¢æ•°ï¼‰ã¯ã€å‡ºé‡‘ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã£ãŸä¸‹è¨˜ã®ä¾‹ãŒç¤ºã™ã‚ˆã†ã«ã€ãƒ‡ãƒ¼ã‚¿ã®å¯†åº¦åˆ†å¸ƒé–¢æ•°ã¨ç´¯ç©åˆ†å¸ƒé–¢æ•°ã®æŽ¨å®šå€¤ã‚’è¨ˆç®—ã™ã‚‹ã€‚ -->
</section>
<section class="slide level2">

<h3 id="density-and-cumulative-distribution">Density and Cumulative Distribution</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">density</span>(disburse[,<span class="st">"amount_paid"</span>]) <span class="co"># density</span></span>
<span id="cb92-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(d, <span class="at">main =</span> <span class="st">"Density of Amount Paid"</span>)  <span class="co"># plot density</span></span>
<span id="cb92-3"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">polygon</span>(d, <span class="at">col=</span><span class="st">"violet"</span>, <span class="at">border=</span><span class="st">"black"</span>) <span class="co"># add color</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="gaisho_2024_03_files/figure-revealjs/density-1.png" width="960" class="r-stretch"></section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb93-2"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ecdf</span>(disburse[,<span class="st">"amount_paid"</span>]), <span class="co"># ç´¯ç©åˆ†å¸ƒé–¢æ•°ã‚’è¨ˆç®—</span></span>
<span id="cb93-3"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">main =</span> <span class="st">"Cumulative Density of Amount Paid"</span> <span class="co"># å›³ã®ã‚¿ã‚¤ãƒˆãƒ«</span></span>
<span id="cb93-4"><a href="" aria-hidden="true" tabindex="-1"></a>    ) <span class="co"># èª¤æ¤ ~ã„ã‚‰ãªã„</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="gaisho_2024_03_files/figure-revealjs/CDF-1.png" width="960" class="r-stretch"><p><code>ecdf()</code> is a function that computes the empirical cumulative distribution function of a dataset.</p>
</section>
<section class="slide level2">

<ol start="6" type="1">
<li><strong>Random Sampling and Sample Bias</strong> : A sample is a subset of data from a larger dataset; statisticians call this larger dataset the population â€” a large, defined but sometimes theoretical or imaginary set of data. â€“&gt;</li>
</ol>
<!-- 2. ãƒ©ãƒ³ãƒ€ãƒ ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼ˆRandom Samplingï¼‰ã¨æ¨™æœ¬ãƒã‚¤ã‚¢ã‚¹ï¼ˆSample Biasï¼‰ï¼šæ¨™æœ¬ã¨ã¯ã€ å¤§ããªãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‹ã‚‰æŠ½å‡ºã—ãŸãƒ‡ãƒ¼ã‚¿ã®éƒ¨åˆ†é›†åˆã§ã‚ã‚‹ã€‚çµ±è¨ˆå­¦è€…ã¯ã€ã“ã®å¤§ããªãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’æ¯é›†å›£ï¼ˆpopulationï¼‰ã¨ã„ã†ã€‚æ¯é›†å›£ã¯ã€ï¼ˆå®Ÿéš›ã«å­˜åœ¨ã™ã‚‹ï¼‰æ˜Žç¢ºãªãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’æŒ‡ã™ã“ã¨ã‚‚ã‚ã‚‹ãŒã€ç†è«–ä¸Šã¾ãŸã¯æƒ³åƒä¸Šã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’æŒ‡ã™ã“ã¨ã‚‚ã‚ã‚‹ã€‚ -->
<ol start="7" type="1">
<li><p><strong>Central Limit Theorem</strong> : Proves that sums of independent variables asymptotically approach a Normal distribution as <em>sample size goes to infinity</em>. <!-- 7. ä¸­å¿ƒæ¥µé™å®šç†ï¼ˆCentral Limit Theoremï¼šCLTï¼‰ï¼š ç„¡ä½œç‚ºã«æŠ½å‡ºã—ãŸæ¨™æœ¬ã®å¹³å‡ãŒã€æ¨™æœ¬ã‚µã‚¤ã‚ºãŒå¤§ãããªã‚‹ã«ã¤ã‚Œã¦æ¼¸è¿‘çš„ã«æ­£è¦åˆ†å¸ƒã«è¿‘ã¥ãã“ã¨ã‚’è¨¼æ˜Žã™ã‚‹å®šç†ã§ã‚ã‚‹ã€‚ --></p></li>
<li><p><strong>Standard Error</strong> : This is roughly the standard deviation of the sample data. Standard deviation (which measures the variability of individual data points) is distinct from standard error (which measures the variability of a sample metric).</p></li>
</ol>
<!-- 8. æ¨™æº–èª¤å·®ï¼ˆStandard Errorï¼‰ï¼š ã‚ã‹ã‚Šã‚„ã™ãã„ã†ã¨ã‚µãƒ³ãƒ—ãƒ«ã‹ã‚‰å¾—ã‚‰ã‚ŒãŸæŽ¨å®šé‡ã®æ¨™æº–åå·®ï¼ˆstandard deviationï¼‰ã§ã‚ã‚‹ã€‚ï¼ˆãƒ‡ãƒ¼ã‚¿ã®ãƒãƒ©ãƒ„ã‚­ã‚’æ¸¬å®šã™ã‚‹ï¼‰æ¨™æº–åå·®ã¯ã€ï¼ˆæ¨™æœ¬ã®æŽ¨å®šé‡ã®ãƒãƒ©ãƒ„ã‚­ã‚’æ¸¬å®šã™ã‚‹ï¼‰æ¨™æº–èª¤å·®ã¨ã¯ç•°ãªã‚‹ã€‚ -->
<ol start="9" type="1">
<li><strong>Bootstrap and resampling</strong> : A bootstrap sample is taken with replacement from an observed dataset. Resampling takes repeated samples from observed data; includes both bootstrap and permutation (shuffling) procedures.</li>
</ol>
<!-- 1. ãƒªã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼ˆresamplingï¼‰ã¨ãƒ–ãƒ¼ãƒˆã‚¹ãƒˆãƒ©ãƒƒãƒ—ï¼ˆbootstrapï¼‰ï¼š ãƒªã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã¯ã€è¦³æ¸¬ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ç¹°ã‚Šè¿”ã—æ¨™æœ¬ã‚’æŠ½å‡ºã™ã‚‹æ–¹æ³•ã§ã‚ã‚‹ã€‚ãƒ–ãƒ¼ãƒˆã‚¹ãƒˆãƒ©ãƒƒãƒ—ã¨é †åˆ—ï¼ˆã‚·ãƒ£ãƒƒãƒ•ãƒªãƒ³ã‚°ï¼‰æ‰‹é †ã®ä¸¡æ–¹ãŒå«ã¾ã‚Œã‚‹ã€‚è¦³å¯Ÿã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‹ã‚‰å¾©å…ƒã‚’ä¼´ã†ï¼ˆå†ï¼‰ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã‹ã‚‰å¾—ã‚‰ã‚ŒãŸæ¨™æœ¬ã‚’ãƒ–ãƒ¼ãƒˆã‚¹ãƒ©ãƒƒãƒ—æ¨™æœ¬ã¨å‘¼ã¶ã€‚å†ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã¯ï¼Œè¦³å¯Ÿã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ç¹°ã‚Šè¿”ã—æ¨™æœ¬ã‚’å–ã‚‹ï¼Žãƒ–ãƒ¼ãƒˆã‚¹ãƒˆãƒ©ãƒƒãƒ—æ³•ã¨ä¸¦ã¹æ›¿ãˆï¼ˆã‚·ãƒ£ãƒƒãƒ•ãƒªãƒ³ã‚°ï¼‰æ³•ã®ä¸¡æ–¹ãŒå«ã¾ã‚Œã‚‹ã€‚ -->
</section>
<section class="slide level2">

<ol start="10" type="1">
<li><strong>Hypothesis Tests</strong> (significance tests): Hypotheses are ways of turning complex problems into yes/no questions. <!-- They are another way of defining an A/B test.  --> <!-- The method grew commonplace after Neyman and Pearson (1933) provided an efficient hypothesis test.  --> Most audit procedures can be couched as hypothesis tests. Here are some key concepts in hypothesis testing: <!--
1.  ä»®èª¬æ¤œå®šï¼ˆhypothesis testsï¼‰ãƒ»æœ‰æ„æ€§æ¤œå®šï¼ˆsignificance testsï¼‰ï¼š ä»®èª¬ã¯ã€è¤‡é›‘ãªå•é¡Œã‚’YES/NOã®å•é¡Œã«å¤‰ãˆã‚‹æ–¹æ³•ã§ã‚ã‚‹ã€‚A/Bãƒ†ã‚¹ãƒˆã‚’å®šç¾©ã™ã‚‹ã‚‚ã†1ã¤ã®æ–¹æ³•ã§ã‚ã‚‹ã€‚Neyman and Pearson (1933)ãŒåŠ¹çŽ‡çš„ãªä»®èª¬æ¤œå®šã‚’æä¾›ã—ãŸå¾Œã€ã“ã®æ–¹æ³•ãŒæ™®åŠã™ã‚‹ã“ã¨ã¨ãªã£ãŸã€‚ã»ã¨ã‚“ã©ã®ç›£æŸ»æ‰‹ç¶šã¯ã€ä»®èª¬æ¤œå®šã¨è¨€ã„æ›ãˆã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ä»¥ä¸‹ã¯ã€ä»®èª¬æ¤œå®šã«ãŠã‘ã‚‹é‡è¦ãªæ¦‚å¿µã§ã‚ã‚‹ã€‚
--></li>
</ol>
<ul>
<li><em>p-value</em> : In statistical hypothesis testing, the p-value or probability value is, for a given hypothesis test, the probability that, when the null hypothesis is true, the statistical summary (such as the sample mean difference between two groups) would be equal to, or more extreme than, the actual observed results. The use and misuse of p-values in statistical hypothesis testing has become a controversial topic. <!-- - på€¤ï¼ˆp-valueï¼‰ï¼š çµ±è¨ˆçš„ä»®èª¬æ¤œå®šã§ã¯ã€på€¤ã¾ãŸã¯ç¢ºçŽ‡å€¤ï¼ˆprobability valueï¼‰ã¨ã¯ã€ã‚ã‚‹ä»®èª¬æ¤œå®šã«ãŠã„ã¦ã€å¸°ç„¡ä»®èª¬ãŒçœŸã§ã‚ã‚‹å ´åˆã«ã€ãã®è¦ç´„çµ±è¨ˆé‡ï¼ˆ2ç¾¤é–“ã®æ¨™æœ¬å¹³å‡ã®å·®ãªã©ï¼‰ãŒå®Ÿéš›ã®è¦³å¯Ÿçµæžœã¨ç­‰ã—ã„ã‹ã€ã¾ãŸã¯ãã‚Œã‚ˆã‚Šã‚‚æ¥µç«¯ãªå€¤ã«ãªã‚‹ç¢ºçŽ‡ã§ã‚ã‚‹ã€‚çµ±è¨ˆçš„ä»®èª¬æ¤œå®šã«ãŠã‘ã‚‹på€¤ã®ä½¿ã„æ–¹ã¨èª¤ç”¨ã¯ã€è«–äº‰ã®çš„ã¨ãªã£ã¦ã„ã‚‹ã€‚ --></li>
<li><em>Confidence Intervals</em> : Sampling leads to uncertain results, and that uncertainty is reduced through larger, higher quality samples. Confidence intervals are one way of describing the uncertainty of an estimate or prediction based on a sample. <!-- Confidence intervals are the only remaining tool from the old fiducial statistical inference. --> <!-- - ä¿¡é ¼åŒºé–“ï¼ˆconfidence intervalï¼‰ï¼š ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã‹ã‚‰å¾—ã‚‰ã‚Œã‚‹ï¼ˆæ¯é›†å›£ã«ã¤ã„ã¦ã®ï¼‰çµè«–ã¯ä¸ç¢ºå®Ÿã§ã‚ã‚‹ãŒã€ãã®ä¸ç¢ºå®Ÿæ€§ã¯ã€ã‚ˆã‚Šå¤§ããªã€ã‚ˆã‚Šè³ªã®é«˜ã„æ¨™æœ¬ï¼ˆã‚’ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã™ã‚‹ã“ã¨ï¼‰ã«ã‚ˆã£ã¦æ¸›å°‘ã™ã‚‹ã€‚
    ä¿¡é ¼åŒºé–“ã¯ã€æ¨™æœ¬ã«åŸºã¥ãæŽ¨å®šå€¤ã¾ãŸã¯äºˆæ¸¬å€¤ã®ä¸ç¢ºå®Ÿæ€§ã‚’è¨˜è¿°ã™ã‚‹1ã¤ã®æ–¹æ³•ã§ã‚ã‚‹ã€‚
    ä¿¡é ¼åŒºé–“ã¯ã€ï¼ˆé »åº¦ä¸»ç¾©ã«åŸºã¥ãï¼‰å¤å…¸çš„ãªçµ±è¨ˆçš„æŽ¨è«–ã«ãŠã‘ã‚‹é‡è¦ãªãƒ„ãƒ¼ãƒ«ã§ã‚ã‚‹ã€‚ --></li>
</ul>
</section>
<section class="slide level2">

<ul>
<li><em>Null and Alternative hypotheses</em> : Ways of dividing the decision space into two parts. <!-- å¸°ç„¡ä»®èª¬ï¼ˆnull hypothesesï¼‰ã¨å¯¾ç«‹ä»®èª¬ï¼ˆalternative hypothesesï¼‰ï¼šï¼ˆçµ±è¨ˆçš„æ±ºå®šç†è«–ã«ãŠã„ã¦ï¼‰æ±ºå®šç©ºé–“ï¼ˆdecision spaceï¼‰ã‚’ï¼ˆå—å®¹ã¨æ£„å´ã®ï¼‰2ã¤ã®éƒ¨åˆ†é›†åˆã«åˆ†å‰²ã™ã‚‹æ–¹æ³•ã¨å®šç¾©ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ --></li>
<li><em>One-way and two-way tests</em> : Hypothesis test that considers one tail or two of the distribution. <!-- - ç‰‡å´æ¤œå®šï¼ˆone-way testï¼‰ã¨ä¸¡å´æ¤œå®šï¼ˆtwo-way testï¼‰ï¼šåˆ†å¸ƒã®ç‰‡è£¾ã‚’æ£„å´åŸŸã¨ã™ã‚‹æ¤œå®šã‚’ç‰‡å´æ¤œå®šã¨å‘¼ã³ã€ä¸¡è£¾ã‚’æ£„å´åŸŸã¨ã™ã‚‹æ¤œå®šã‚’ä¸¡å´æ¤œå®šã¨å‘¼ã¶ã€‚ --></li>
<li><em>significance</em> (alpha): Critical value for selecting one or the other hypothesis. This is the probability that you will make a type I error. <!-- - æœ‰æ„æ°´æº–ï¼ˆsignificance levelï¼‰ã¾ãŸã¯Î±ï¼ˆalphaï¼‰ï¼š ã©ã¡ã‚‰ã‹ã®ä»®èª¬ã‚’é¸æŠžã™ã‚‹ãŸã‚ã®é–¾å€¤ã€‚ã“ã‚Œã¯ç¬¬ä¸€ç¨®ã®éŽèª¤ï¼ˆtype â…  errorï¼‰ã‚’çŠ¯ã™ç¢ºçŽ‡ã§ã‚ã‚‹ã€‚ --></li>
<li><em>power</em> (1-beta): Critical value for selecting one or the other hypothesis. This is the probability that you will not make a type II error. <!-- - æ¤œå‡ºåŠ›ï¼ˆpowerï¼‰ã¾ãŸã¯1-Î²ï¼š ã©ã¡ã‚‰ã‹ã®ä»®èª¬ã‚’é¸æŠžã™ã‚‹ãŸã‚ã®é–¾å€¤ã€‚ã“ã‚Œã¯ç¬¬äºŒç¨®ã®éŽèª¤ï¼ˆtypeâ…¡ errorï¼‰ã‚’çŠ¯ã•ãªã„ç¢ºçŽ‡ã§ã‚ã‚‹ã€‚ --></li>
<li><em>t-test</em> : An inferential statistic used to assess whether there is a significant difference between the means of two groups. <!-- -  tæ¤œå®š(t-test)ï¼š2ç¾¤ã®å¹³å‡ã®é–“ã«æœ‰æ„å·®ãŒã‚ã‚‹ã‹ã©ã†ã‹ã‚’è©•ä¾¡ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã‚‹ï¼ˆæŽ¨æ¸¬ã‚’ä¼´ã†ï¼‰çµ±è¨ˆæ‰‹æ³•ã€‚ --></li>
</ul>
</section>
<section class="slide level2">

<ol start="11" type="1">
<li><p><strong>Overfitting</strong> : Most measurements, and all samples misrepresent, in some way, the population. There is always danger of fitting models to these misrepresentations, thus generating incorrect decisions. This is controlled by <em>better sample size</em> and <em>quality</em>, and also by <em>resampling</em> to ensure robustness of estimation. <!-- 11.  éŽå‰°é©åˆï¼ˆoverfittingï¼‰ï¼š ã»ã¨ã‚“ã©ã®æ¸¬å®šã¨ã™ã¹ã¦ã®æ¨™æœ¬ã¯ã€ä½•ã‚‰ã‹ã®å½¢ã§ï¼ˆçœŸã®ï¼‰æ¯é›†å›£ã‹ã‚‰èª¤å·®ã‚’ä¼´ã£ã¦è¦³å¯Ÿã•ã‚Œã‚‹ã€‚ã“ã®ã‚ˆã†ãªèª¤å·®ã‚’ä¼´ã£ãŸè¦³å¯Ÿã«ãƒ¢ãƒ‡ãƒ«ã‚’å½“ã¦ã¯ã‚ã¦ã—ã¾ã†ã“ã¨ã§ã€èª¤ã£ãŸæ±ºå®šã‚’ç”Ÿã¿å‡ºã—ã¦ã—ã¾ã†å±é™ºæ€§ãŒå¸¸ã«å­˜åœ¨ã™ã‚‹ã€‚ã“ã®ã‚ˆã†ãªå±é™ºæ€§ã¯ã€ã‚ˆã‚Šè‰¯ã„ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚ºã¨ã‚µãƒ³ãƒ—ãƒ«ã®è³ªã€ã¾ãŸæŽ¨å®šã®é ‘å¥æ€§ã‚’ç¢ºä¿ã™ã‚‹ãŸã‚ã«ãƒªã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã‚’è¡Œã†ã“ã¨ã«ã‚ˆã£ã¦ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã§ãã‚‹ã€‚ --></p></li>
<li><p><strong>Linear Regression</strong> : Fits a model of the relationship between a scalar <strong>response</strong> (or <strong>dependent variable</strong>) and one or more <strong>explanatory variables</strong> (or <strong>independent variables</strong>). The following example builds a linear regression model to test the occurrence of insider breaches with audit fees and auditor decisions on section 404 audits, using the Sarbanesâ€“Oxley data. <!-- 12.  ç·šå½¢å›žå¸°ï¼ˆlinear regressionï¼‰ï¼š1ã¤ã®è¢«èª¬æ˜Žå¤‰æ•°ï¼ˆã¾ãŸã¯å¾“å±žå¤‰æ•°ï¼‰ã¨1ã¤ä»¥ä¸Šã®èª¬æ˜Žå¤‰æ•°ï¼ˆã¾ãŸã¯ç‹¬ç«‹å¤‰æ•°ï¼‰ã®é–“ã®é–¢ä¿‚ã®ãƒ¢ãƒ‡ãƒ«ã‚’ã‚ã¦ã¯ã‚ã‚‹æ‰‹æ³•ã€‚ä¸‹è¨˜ã®ä¾‹ã§ã¯ã€SOXæ³•ã«åŸºã¥ãå†…éƒ¨çµ±åˆ¶ç›£æŸ»ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç”¨ã„ã¦ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³404ã«åŸºã¥ãå†…éƒ¨çµ±åˆ¶ç›£æŸ»ã«é–¢ã™ã‚‹ç›£æŸ»å ±é…¬ã¨ç›£æŸ»äººã®æ„è¦‹ã‚’èª¬æ˜Žå¤‰æ•°ã¨ã—ã€ã‚¤ãƒ³ã‚µã‚¤ãƒ€ãƒ¼é•åã®ç™ºç”Ÿã‚’è¢«èª¬æ˜Žå¤‰æ•°ã¨ã—ã¦æ¤œè¨¼ã™ã‚‹ç·šå½¢å›žå¸°ãƒ¢ãƒ‡ãƒ«ã‚’ç”¨ã„ã¦æ¤œè¨¼ã‚’è¡Œã†ã€‚ --></p></li>
</ol>
</section>
<section class="slide level2">

<p>Exploratory data analysis (EDA) using Râ€™s <code>plotluck</code> package and <code>ch_2_data_types.csv</code> data file.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">system.file</span>(</span>
<span id="cb94-2"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="st">"extdata"</span>, <span class="st">"ch_2_data_types.csv"</span>, <span class="co"># csv file</span></span>
<span id="cb94-3"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">package =</span> <span class="st">"auditanalytics"</span>, <span class="at">mustWork =</span> <span class="cn">TRUE</span>))</span>
<span id="cb94-4"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># regression model OLS</span></span>
<span id="cb94-5"><a href="" aria-hidden="true" tabindex="-1"></a>lr <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">formula =</span> insd <span class="sc">~</span> audit_fee <span class="sc">+</span> effective_404, <span class="at">data =</span> df)</span>
<span id="cb94-6"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lr) <span class="co"># çµæžœã®è¡¨ç¤º</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = insd ~ audit_fee + effective_404, data = df)

Residuals:
    Min      1Q  Median      3Q     Max 
-0.1590 -0.1475 -0.1411 -0.1229  0.9292 

Coefficients:
                Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)    1.486e-01  1.325e-02  11.217   &lt;2e-16 ***
audit_fee     -9.521e-10  4.449e-10  -2.140   0.0325 *  
effective_404  1.066e-02  1.816e-02   0.587   0.5574    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.3449 on 1509 degrees of freedom
  (2 å€‹ã®è¦³æ¸¬å€¤ãŒæ¬ æã®ãŸã‚å‰Šé™¤ã•ã‚Œã¾ã—ãŸ)
Multiple R-squared:  0.003242,  Adjusted R-squared:  0.001921 
F-statistic: 2.454 on 2 and 1509 DF,  p-value: 0.08627</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<ul>
<li>Since <em>the dependent variable is dichotomous</em> (binary), results can be improved by using a <strong>logit model</strong> (from the built-in <em>glm</em> function). <!-- è¢«èª¬æ˜Žå¤‰æ•°ãŒäºŒå€¤å¤‰æ•°ãªã®ã§ã€çµæžœã¯ï¼ˆglmé–¢æ•°ã‹ã‚‰ï¼‰ãƒ­ã‚¸ãƒƒãƒˆãƒ»ãƒ¢ãƒ‡ãƒ«ï¼ˆlogit modelï¼‰ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§æ”¹å–„ã§ãã‚‹ã€‚ --></li>
<li>The following example also showcases <em>R</em>â€™s analysis of the residual errors (differences between the dependent variable values, and the estimated model on the right-hand side). <!-- ä»¥ä¸‹ã®ä¾‹ã§ã¯ã€R ã«ã‚ˆã‚‹æ®‹å·®ï¼ˆè¢«èª¬æ˜Žå¤‰æ•°ã®å®Ÿéš›ã®å€¤ã¨ãƒ¢ãƒ‡ãƒ«ã‹ã‚‰ã®æŽ¨å®šå€¤ã¨ã®å·®ï¼‰ã®åˆ†æžï¼ˆâ‘ äºˆæ¸¬å€¤ã¨æ®‹å·®ã®æ•£å¸ƒå›³ã€â‘¡æ­£è¦QQãƒ—ãƒ­ãƒƒãƒˆã€â‘¢äºˆæ¸¬å€¤ã¨æ¨™æº–åŒ–æ®‹å·®ã®çµ¶å¯¾å€¤ã®æ•£å¸ƒå›³ã€â‘£æ¨™æº–åŒ–æ®‹å·®ã¨ã¦ã“æ¯”ã®æ•£å¸ƒå›³ï¼‰ã‚‚ç´¹ä»‹ã—ã¦ã„ã‚‹ã€‚--></li>
<li>Leverage and distance provide measures of how particular transactions influence the estimation, and are important in identifying outliers. <!-- ã¦ã“æ¯”ï¼ˆleverageï¼‰ã¨cookã®è·é›¢ï¼ˆdistanceï¼‰ã¯ã€ç‰¹å®šã®å–å¼•ãŒæŽ¨å®šä¸Žãˆã‚‹å½±éŸ¿ã«ã¤ã„ã¦ã®æ¸¬å®šå€¤ã‚’æä¾›ã—ã€ç•°å¸¸å€¤ã‚’è­˜åˆ¥ã™ã‚‹ä¸Šã§é‡è¦ã§ã‚ã‚‹ã€‚  --></li>
</ul>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="" aria-hidden="true" tabindex="-1"></a>lgt <span class="ot">&lt;-</span> <span class="fu">glm</span>( <span class="co"># general linear method</span></span>
<span id="cb96-2"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">formula =</span> insd <span class="sc">~</span> audit_fee <span class="sc">+</span> effective_404, <span class="co"># å›žå¸°ãƒ¢ãƒ‡ãƒ«</span></span>
<span id="cb96-3"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="co"># link function</span></span>
<span id="cb96-4"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> df) <span class="co"># data frame</span></span>
<span id="cb96-5"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lgt) <span class="co"># çµæžœã®è¡¨ç¤º</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = insd ~ audit_fee + effective_404, family = "binomial", 
    data = df)

Coefficients:
                Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)   -1.732e+00  1.128e-01 -15.354   &lt;2e-16 ***
audit_fee     -9.530e-09  4.496e-09  -2.120    0.034 *  
effective_404  8.928e-02  1.518e-01   0.588    0.557    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 1214.8  on 1511  degrees of freedom
Residual deviance: 1209.4  on 1509  degrees of freedom
  (2 å€‹ã®è¦³æ¸¬å€¤ãŒæ¬ æã®ãŸã‚å‰Šé™¤ã•ã‚Œã¾ã—ãŸ)
AIC: 1215.4

Number of Fisher Scoring iterations: 4</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<h3 id="graph-of-the-logit-model">Graph of the Logit Model</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lgt) <span class="co"># å›³ã®ä½œæˆ</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="gaisho_2024_03_files/figure-revealjs/unnamed-chunk-21-1.png" width="960"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="gaisho_2024_03_files/figure-revealjs/unnamed-chunk-21-2.png" width="960"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="gaisho_2024_03_files/figure-revealjs/unnamed-chunk-21-3.png" width="960"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="gaisho_2024_03_files/figure-revealjs/unnamed-chunk-21-4.png" width="960"></p>
</figure>
</div>
</div>
</div>
</section></section>
<section>
<section id="machine-learning-methods" class="title-slide slide level1 center">
<h1>Machine Learning Methods</h1>
<!-- ## æ©Ÿæ¢°å­¦ç¿’ -->
<p>Over the past decade, very useful extensions to twentieth century statistical models have been provided by advances in machine learning, and in particular deep-learning. <!-- ã“ã®10å¹´é–“ã§ã€20ä¸–ç´€ã®çµ±è¨ˆãƒ¢ãƒ‡ãƒ«ã«éžå¸¸ã«æœ‰ç”¨ãªæ‹¡å¼µæ©Ÿèƒ½ãŒæ©Ÿæ¢°å­¦ç¿’ã®é€²æ­©ã€ã¨ã‚Šã‚ã‘æ·±å±¤å­¦ç¿’ã«ã‚ˆã£ã¦æä¾›ã•ã‚Œã¦ã„ã‚‹ã€‚ --> Deep learning is a branch of artificial intelligence that is computationally intensive, but highly flexible for inference from data. <!-- æ·±å±¤å­¦ç¿’ã¯ã€è¨ˆç®—é‡ãŒå¤šã„ãŒã€ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ã®æŽ¨è«–ã«éžå¸¸ã«æŸ”è»Ÿãªäººå·¥çŸ¥èƒ½ã®åˆ†é‡Žã§ã™ã€‚ --> Inference is a decision $$ (estimation, prediction) based on data <span class="math inline">x \in X</span> that hopefully contains information about a particular set of constructs. <!-- æŽ¨è«–ã¯ã€ãƒ‡ãƒ¼ã‚¿$x \in X$ã«åŸºã¥ã„ã¦ã€ç‰¹å®šã®æ§‹é€ ã«é–¢ã™ã‚‹æƒ…å ±ã‚’å«ã‚“ã§ã„ã‚‹ã“ã¨ã‚’æœŸå¾…ã—ã¦ã€æ±ºå®š$\delta$ï¼ˆæŽ¨å®šã€äºˆæ¸¬ï¼‰ã‚’è¡Œã†ã€‚ --> Inference may be about: <!-- æŽ¨è«–ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªã‚‚ã®ã«ã¤ã„ã¦è¡Œã‚ã‚Œã‚‹ã€‚ --></p>
<ol type="1">
<li>Classification â€” e.g., identifying faces, threats. <!-- 1. åˆ†é¡ž : ãŸã¨ãˆã°ã€é¡”ã€è„…å¨ã®è­˜åˆ¥ --></li>
<li>Estimation â€” e.g., a vector <span class="math inline">\theta = \{\theta_1, \dots , \theta_n\}</span>. <!-- 2. æŽ¨å®š : ãŸã¨ãˆã°ã€ãƒ™ã‚¯ãƒˆãƒ«$\theta = \{\theta_1, \dots , \theta_n\}$ã€‚ --></li>
<li>Other decisions that may or may not be carried out in real time; e.g., driving a car. <!-- 3. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§è¡Œã‚ã‚Œã‚‹ã‹ã©ã†ã‹ã¯ã‚ã‹ã‚‰ãªã„ãã®ä»–ã®æ±ºå®š: ãŸã¨ãˆã°ã€è»Šã®é‹è»¢ã€‚ --></li>
</ol>
</section>
<section id="goals-of-machine-learning" class="slide level2">
<h2>Goals of Machine Learning</h2>
<ul>
<li>The implicit goal of machine learning is construction of decision strategies that minimize risk. <!-- æ©Ÿæ¢°å­¦ç¿’ã®æš—é»™ã®ç›®æ¨™ã¯ã€ãƒªã‚¹ã‚¯ã‚’æœ€å°åŒ–ã™ã‚‹æ±ºå®šæˆ¦ç•¥ã®æ§‹ç¯‰ã§ã‚ã‚‹ã€‚ --></li>
<li>Risk is an informal concept inherited from gambling, and roughly implies the expected loss from using a given decision strategy Î´. <!-- ãƒªã‚¹ã‚¯ã¯ã€ã‚®ãƒ£ãƒ³ãƒ–ãƒ«ã‹ã‚‰å—ã‘ç¶™ãŒã‚ŒãŸã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒžãƒ«ãªæ¦‚å¿µã§ã‚ã‚Šã€ãŠãŠã‚ˆãä¸Žãˆã‚‰ã‚ŒãŸæ±ºå®šæˆ¦ç•¥$\delta$ã‚’ä½¿ç”¨ã—ãŸå ´åˆã®æœŸå¾…æå¤±ã‚’æ„å‘³ã™ã‚‹ã€‚ --></li>
<li>Frequentist and Bayesian statisticians both base their decision strategies on real-world data, but sharply divided on the actual implementation and interpretation of decision risk. <!-- é »åº¦è«–çš„çµ±è¨ˆå­¦è€…ã¨ãƒ™ã‚¤ã‚ºçµ±è¨ˆå­¦è€…ã¯ã€ã¨ã‚‚ã«ç¾å®Ÿä¸–ç•Œã®ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ã¦æ±ºå®šæˆ¦ç•¥ã‚’ç«‹ã¦ã‚‹ãŒã€æ±ºå®šãƒªã‚¹ã‚¯ã®å®Ÿéš›ã®å®Ÿè£…ã¨è§£é‡ˆã«ã¤ã„ã¦ã¯ã€ã¯ã£ãã‚Šã¨åˆ†ã‹ã‚Œã¦ã„ã‚‹ã€‚ --></li>
</ul>
</section>
<section class="slide level2">

<ul>
<li>In practice, risk presents deep learning (and AI in general) with its greatest challenges. <!-- å®Ÿéš›ã€ãƒªã‚¹ã‚¯ã¯æ·±å±¤å­¦ç¿’ï¼ˆãŠã‚ˆã³AIå…¨èˆ¬ï¼‰ã«ã¨ã£ã¦æœ€å¤§ã®èª²é¡Œã§ã‚ã‚‹ã€‚ --></li>
<li>For example, self-driving cars are trained on massive datasets extracted from many other cars; that knowledge of how to drive is encapsulated in weights in a network model that is firm-wired into a computer unit in a car. <!-- ãŸã¨ãˆã°ã€è‡ªå‹•é‹è»¢è»Šã¯ã€å¤šãã®ä»–ã®è»Šã‹ã‚‰æŠ½å‡ºã•ã‚ŒãŸå¤§è¦æ¨¡ãªãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã§è¨“ç·´ã•ã‚Œã‚‹ã€‚ --> <!-- ãã®é‹è»¢æ–¹æ³•ã®çŸ¥è­˜ã¯ã€è»Šã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¦ãƒ‹ãƒƒãƒˆã«å›ºå®šã•ã‚ŒãŸãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ¢ãƒ‡ãƒ«ã®é‡ã¿ã«ã‚«ãƒ—ã‚»ãƒ«åŒ–ã•ã‚Œã¦ã„ã‚‹ã€‚ --></li>
<li>It matters whether that unit was trained to save pedestrians, or to save property, or to save the driverâ€”each implies a different decision risk. <!-- ãã®ãƒ¦ãƒ‹ãƒƒãƒˆãŒæ­©è¡Œè€…ã‚’æ•‘ã†ãŸã‚ã«è¨“ç·´ã•ã‚ŒãŸã‹ã€è²¡ç”£ã‚’æ•‘ã†ãŸã‚ã«è¨“ç·´ã•ã‚ŒãŸã‹ã€é‹è»¢æ‰‹ã‚’æ•‘ã†ãŸã‚ã«è¨“ç·´ã•ã‚ŒãŸã‹ã¯é‡è¦ãªå•é¡Œã§ã‚ã‚‹ã€‚ --></li>
</ul>
</section>
<section class="slide level2">

<ul>
<li>Traditionally, statistics have used a <strong>squared-error loss function</strong> <span class="math inline">l(\theta, \delta (X)) = \mathrm{E}_{\delta} [\delta (X) - \theta )^2]</span> where <span class="math inline">\delta(X) = \hat{\theta}</span> in the case of estimation. <!-- å¾“æ¥ã€çµ±è¨ˆå­¦ã§ã¯ã€æŽ¨å®šã®å ´åˆã¯$\delta(X) = \hat{\theta}$ã¨ãªã‚‹æå¤±é–¢æ•°$l(\theta, \delta (X)) = \mathrm{E}_{\del/ta} [\delta (X) - \theta )^2]$ã‚’ä½¿ç”¨ã—ã¦ããŸã€‚ --></li>
<li>This is easy to compute using pencil and paper, particularly when optimization relied on <em>first-order conditions</em> from calculus. <!-- ã“ã‚Œã¯ã€æœ€é©åŒ–ãŒå¾®ç©åˆ†ã®ä¸€æ¬¡æ¡ä»¶ã«ä¾å­˜ã—ã¦ã„ãŸã¨ãã«ã€é‰›ç­†ã¨ç´™ã‚’ä½¿ã£ã¦ç°¡å˜ã«è¨ˆç®—ã™ã‚‹ã“ã¨ãŒã§ããŸã€‚ --></li>
<li>But most real-world decisions are not optimally made with squared-error loss functions. <!-- ã—ã‹ã—ã€ã»ã¨ã‚“ã©ã®ç¾å®Ÿä¸–ç•Œã®æ±ºå®šã¯ã€äºŒä¹—èª¤å·®æå¤±é–¢æ•°ã‚’ç”¨ã„ã¦æœ€é©ã«è¡Œã‚ã‚Œã‚‹ã‚‚ã®ã§ã¯ãªã„ã€‚ --></li>
<li>Although squared-error loss is still widely used, machine learning practitioners will also use more complex, sometimes asymmetric loss functions that more closely fit the real-world problems. <!-- äºŒä¹—èª¤å·®æå¤±ã¯ä»Šã§ã‚‚åºƒãä½¿ã‚ã‚Œã¦ã„ã‚‹ãŒã€æ©Ÿæ¢°å­¦ç¿’ã‚’ç”¨ã„ã‚‹å®Ÿå‹™å®¶ã¯ã€ã‚ˆã‚Šè¤‡é›‘ã§ã€æ™‚ã«ã¯éžå¯¾ç§°ãªæå¤±é–¢æ•°ã‚’ä½¿ã†ã“ã¨ã‚‚ã‚ã‚‹ã€‚ --> <!-- In particular for classification problems such as image recognition, squared-error loss makes little sense, and practitioners will tend to use cross-entropy, drawn from information theory, where the Kraftâ€“McMillan theorem establishes the rationale for its application.  --> <!-- ç‰¹ã«ç”»åƒèªè­˜ãªã©ã®åˆ†é¡žå•é¡Œã§ã¯ã€äºŒä¹—èª¤å·®æå¤±ã¯ã‚ã¾ã‚Šæ„å‘³ãŒãªãã€å®Ÿå‹™å®¶ã¯æƒ…å ±ç†è«–ã‹ã‚‰å¼•ãå‡ºã•ã‚ŒãŸäº¤å·®ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼ã‚’ä½¿ã†å‚¾å‘ãŒã‚ã‚‹ã€‚ã‚¯ãƒ©ãƒ•ãƒˆãƒ»ãƒžã‚¯ãƒŸãƒ©ãƒ³ã®å®šç†ã¯ã€ãã®é©ç”¨æ ¹æ‹ ã‚’ç¢ºç«‹ã—ã¦ã„ã‚‹ã€‚ --></li>
<li>Business situations prefer asymmetric loss that penalizes costs and rewards revenues. <!-- ãƒ“ã‚¸ãƒã‚¹ã®ç¾å ´ã§ã¯ã€ã‚³ã‚¹ãƒˆã‚’ãƒšãƒŠãƒ«ãƒ†ã‚£ã€åŽç›Šã‚’å ±é…¬ã¨ã™ã‚‹éžå¯¾ç§°æå¤±ãŒå¥½ã¾ã‚Œã¦ã„ã‚‹ã€‚ --></li>
</ul>
</section>
<section class="slide level2">

<ul>
<li><p>Whereas traditional statistics relies heavily on first-order conditions from calculus, <em>deep learning uses compute-intensive search algorithms</em> that explore the response surface of the risk function. <!-- å¾“æ¥ã®çµ±è¨ˆå­¦ã¯ã€å¾®ç©åˆ†ã®ä¸€éšŽæ¡ä»¶ã«å¤§ããä¾å­˜ã—ã¦ã„ãŸã®ã«å¯¾ã—ã€æ·±å±¤å­¦ç¿’ã¯ã€ãƒªã‚¹ã‚¯é–¢æ•°ã®å¿œç­”æ›²é¢ã‚’æŽ¢ç´¢ã™ã‚‹è¨ˆç®—é‡ã®å¤šã„æŽ¢ç´¢ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ç”¨ã„ã¦ã„ã‚‹ã€‚ --></p></li>
<li><p>The following example presents the â€œHello Worldâ€ of machine learning: recognizing handwritten numbers on the National Institute of Standards dataset. <!-- ä»¥ä¸‹ã®ä¾‹ã¯ã€æ©Ÿæ¢°å­¦ç¿’ã®ã€ŒHello Worldã€ã‚’ç¤ºã—ã¦ã„ã‚‹: å›½ç«‹æ¨™æº–æŠ€è¡“ç ”ç©¶æ‰€(National Institute of Standards)ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã«æ›¸ã‹ã‚ŒãŸæ•°å€¤ã‚’èªè­˜ã™ã‚‹ã€‚ --></p></li>
</ul>
</section>
<section id="keras" class="slide level2">
<h2><code>keras</code></h2>
<p>Examples below assume that Tensorflow is installed. See <a href="https://www.tensorflow.org/install/">https://www.tensorflow.org/install/</a>ã€‚ <!-- ä»¥ä¸‹ã®ä¾‹ã¯ã€TensorflowãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’å‰æã¨ã—ã¦ã„ã‚‹ --></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("keras") # install keras packages</span></span>
<span id="cb99-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(keras)</span>
<span id="cb99-3"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># install_keras() # Run this only once. Installation takes time.</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- ã“ã‚Œã§æº–å‚™ãŒæ•´ã£ãŸã€‚ -->
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="" aria-hidden="true" tabindex="-1"></a>mnist <span class="ot">&lt;-</span> <span class="fu">dataset_mnist</span>() <span class="co"># MNISTãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚€</span></span>
<span id="cb100-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(mnist)   <span class="co"># List class</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "list"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(mnist) <span class="co"># See the structure of the data</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 2
 $ train:List of 2
  ..$ x: int [1:60000, 1:28, 1:28] 0 0 0 0 0 0 0 0 0 0 ...
  ..$ y: int [1:60000(1d)] 5 0 4 1 9 2 1 3 1 4 ...
 $ test :List of 2
  ..$ x: int [1:10000, 1:28, 1:28] 0 0 0 0 0 0 0 0 0 0 ...
  ..$ y: int [1:10000(1d)] 7 2 1 0 4 1 4 9 5 9 ...</code></pre>
</div>
</div>
<p>The MNIST database was constructed from NISTâ€™s Special Database 3 and Special Database 1 which contain <em>binary images of handwritten digits</em>.</p>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="" aria-hidden="true" tabindex="-1"></a>train_images <span class="ot">&lt;-</span> mnist<span class="sc">$</span>train<span class="sc">$</span>x <span class="co"># image data for training</span></span>
<span id="cb104-2"><a href="" aria-hidden="true" tabindex="-1"></a>train_labels <span class="ot">&lt;-</span> mnist<span class="sc">$</span>train<span class="sc">$</span>y <span class="co"># label data for training</span></span>
<span id="cb104-3"><a href="" aria-hidden="true" tabindex="-1"></a>test_images <span class="ot">&lt;-</span> mnist<span class="sc">$</span>test<span class="sc">$</span>x   <span class="co"># test image data</span></span>
<span id="cb104-4"><a href="" aria-hidden="true" tabindex="-1"></a>test_labels <span class="ot">&lt;-</span> mnist<span class="sc">$</span>test<span class="sc">$</span>y   <span class="co"># test label data</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">

<p>Construct a neural network model. Keras Model composed of a linear stack of layers.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="" aria-hidden="true" tabindex="-1"></a>network <span class="ot">&lt;-</span> <span class="fu">keras_model_sequential</span>() <span class="co"># null model</span></span>
<span id="cb105-2"><a href="" aria-hidden="true" tabindex="-1"></a>network <span class="sc">|&gt;</span></span>
<span id="cb105-3"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 28*28 pixel images are flattened into 784 pixel vectors</span></span>
<span id="cb105-4"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layer_dense</span>(<span class="at">units =</span> <span class="dv">512</span>, <span class="at">input_shape =</span> <span class="fu">c</span>(<span class="dv">28</span> <span class="sc">*</span> <span class="dv">28</span>)) <span class="sc">|&gt;</span></span>
<span id="cb105-5"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ReLU activation function converts negative values to zero</span></span>
<span id="cb105-6"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layer_activation</span>(<span class="st">'relu'</span>) <span class="sc">|&gt;</span> <span class="co"># ReLU activation function</span></span>
<span id="cb105-7"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layer_dense</span>(<span class="at">units =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span>  <span class="co"># 10 output layers 1:10</span></span>
<span id="cb105-8"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="co"># softmax activation function convert the output to a probability distribution</span></span>
<span id="cb105-9"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layer_activation</span>(<span class="st">"softmax"</span>) <span class="co"># softmax activation function</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">

<p>Specify the algorithm and function series.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="" aria-hidden="true" tabindex="-1"></a>network <span class="sc">|&gt;</span> <span class="fu">compile</span>(       <span class="co"># ãƒ¢ãƒ‡ãƒ«ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«</span></span>
<span id="cb106-2"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="at">optimizer =</span> <span class="st">"rmsprop"</span>,  <span class="co"># æœ€é©åŒ–ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ </span></span>
<span id="cb106-3"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="at">loss =</span> <span class="st">"categorical_crossentropy"</span>, <span class="co"># æå¤±é–¢æ•°</span></span>
<span id="cb106-4"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="at">metrics =</span> <span class="fu">c</span>(<span class="st">"accuracy"</span>) <span class="co"># è©•ä¾¡é–¢æ•°</span></span>
<span id="cb106-5"><a href="" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">

<h3 id="training-and-test-data">Training and Test Data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># Training data</span></span>
<span id="cb107-2"><a href="" aria-hidden="true" tabindex="-1"></a>train_images <span class="ot">&lt;-</span> <span class="fu">array_reshape</span>( <span class="co"># è¡Œåˆ—ã«å¤‰æ›</span></span>
<span id="cb107-3"><a href="" aria-hidden="true" tabindex="-1"></a>    train_images,              <span class="co"># è¨“ç·´ç”¨ç”»åƒãƒ‡ãƒ¼ã‚¿</span></span>
<span id="cb107-4"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="dv">60000</span>, <span class="dv">28</span> <span class="sc">*</span> <span class="dv">28</span>)          <span class="co"># ç”»åƒã®å½¢çŠ¶</span></span>
<span id="cb107-5"><a href="" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb107-6"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># Test data</span></span>
<span id="cb107-7"><a href="" aria-hidden="true" tabindex="-1"></a>test_images <span class="ot">&lt;-</span> <span class="fu">array_reshape</span>( <span class="co"># è¡Œåˆ—ã«å¤‰æ›</span></span>
<span id="cb107-8"><a href="" aria-hidden="true" tabindex="-1"></a>    test_images,              <span class="co"># ãƒ†ã‚¹ãƒˆç”¨ç”»åƒãƒ‡ãƒ¼ã‚¿</span></span>
<span id="cb107-9"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="dv">10000</span>, <span class="dv">28</span> <span class="sc">*</span> <span class="dv">28</span>)         <span class="co"># ç”»åƒã®å½¢çŠ¶</span></span>
<span id="cb107-10"><a href="" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb107-11"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># 0ãŒé»’ï¼Œ255ãŒç™½ã®ãƒ‡ãƒ¼ã‚¿ã‚’0-1ã®ç¯„å›²ã«æ­£è¦åŒ–</span></span>
<span id="cb107-12"><a href="" aria-hidden="true" tabindex="-1"></a>train_images <span class="ot">&lt;-</span> train_images <span class="sc">/</span> <span class="dv">255</span></span>
<span id="cb107-13"><a href="" aria-hidden="true" tabindex="-1"></a>test_images  <span class="ot">&lt;-</span> test_images  <span class="sc">/</span> <span class="dv">255</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="" aria-hidden="true" tabindex="-1"></a>train_labels <span class="ot">&lt;-</span> <span class="fu">to_categorical</span>(train_labels) <span class="co">#</span></span>
<span id="cb108-2"><a href="" aria-hidden="true" tabindex="-1"></a>test_labels <span class="ot">&lt;-</span> <span class="fu">to_categorical</span>(test_labels)   <span class="co">#</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>Label data is one hot encoded. <!-- ãƒ©ãƒ™ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’one-hotã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° --></p></li>
<li><p><code>to_categolical()</code> takes a vector or 1 column matrix of class labels and converts it into a matrix with <span class="math inline">p</span> columns, one for each category.</p></li>
<li><p>(è£œè¶³) 0ã€œ9ã®æ‰‹æ›¸ãæ–‡å­—ã®å¤§å°é–¢ä¿‚ã¯ä»Šå›žé–¢ä¿‚ãªã„ãŸã‚ï¼Œ10å€‹ã®ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚’æ„å‘³ã™ã‚‹10åˆ—ã®è¡Œåˆ—ã«å¤‰æ›ã—ã¦ã¾ã™ã€‚</p></li>
</ul>
</section>
<section class="slide level2">

<h3 id="training-the-model">Training the Model</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="" aria-hidden="true" tabindex="-1"></a>history <span class="ot">&lt;-</span> network <span class="sc">|&gt;</span></span>
<span id="cb109-2"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">fit</span>( <span class="co"># training the model</span></span>
<span id="cb109-3"><a href="" aria-hidden="true" tabindex="-1"></a>        train_images, <span class="co"># training image data</span></span>
<span id="cb109-4"><a href="" aria-hidden="true" tabindex="-1"></a>        train_labels, <span class="co"># training label data</span></span>
<span id="cb109-5"><a href="" aria-hidden="true" tabindex="-1"></a>        <span class="at">epochs =</span> <span class="dv">10</span>,  <span class="co"># the number of times the model will be trained</span></span>
<span id="cb109-6"><a href="" aria-hidden="true" tabindex="-1"></a>        <span class="at">batch_size =</span> <span class="dv">128</span> <span class="co"># the number of samples per gradient update</span></span>
<span id="cb109-7"><a href="" aria-hidden="true" tabindex="-1"></a>        )</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Epoch 1/10
469/469 - 1s - loss: 0.2602 - accuracy: 0.9245 - 1s/epoch - 3ms/step
Epoch 2/10
469/469 - 2s - loss: 0.1051 - accuracy: 0.9690 - 2s/epoch - 3ms/step
Epoch 3/10
469/469 - 2s - loss: 0.0690 - accuracy: 0.9790 - 2s/epoch - 5ms/step
Epoch 4/10
469/469 - 2s - loss: 0.0500 - accuracy: 0.9850 - 2s/epoch - 5ms/step
Epoch 5/10
469/469 - 3s - loss: 0.0377 - accuracy: 0.9889 - 3s/epoch - 6ms/step
Epoch 6/10
469/469 - 2s - loss: 0.0288 - accuracy: 0.9912 - 2s/epoch - 4ms/step
Epoch 7/10
469/469 - 2s - loss: 0.0224 - accuracy: 0.9936 - 2s/epoch - 4ms/step
Epoch 8/10
469/469 - 2s - loss: 0.0177 - accuracy: 0.9947 - 2s/epoch - 5ms/step
Epoch 9/10
469/469 - 3s - loss: 0.0133 - accuracy: 0.9961 - 3s/epoch - 6ms/step
Epoch 10/10
469/469 - 2s - loss: 0.0107 - accuracy: 0.9967 - 2s/epoch - 3ms/step</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<h3 id="plot">Plot</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(history) <span class="co"># è¨“ç·´ã®å±¥æ­´ã‚’ãƒ—ãƒ­ãƒƒãƒˆ</span></span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="gaisho_2024_03_files/figure-revealjs/plot_keras-1.png" width="960" class="r-stretch"></section>
<section class="slide level2">

<p>model evaluation <!-- # ãƒ¢ãƒ‡ãƒ«ã‚’è©•ä¾¡ --></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="" aria-hidden="true" tabindex="-1"></a>metrics <span class="ot">&lt;-</span> network <span class="sc">|&gt;</span></span>
<span id="cb112-2"><a href="" aria-hidden="true" tabindex="-1"></a>    <span class="fu">evaluate</span>(test_images, test_labels, <span class="at">verbose =</span> <span class="dv">0</span>)</span>
<span id="cb112-3"><a href="" aria-hidden="true" tabindex="-1"></a>metrics <span class="sc">|&gt;</span> <span class="fu">kable</span>()</span></code><button title="ã‚³ãƒ”ãƒ¼" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">loss</td>
<td style="text-align: right;">0.0765595</td>
</tr>
<tr class="even">
<td style="text-align: left;">accuracy</td>
<td style="text-align: right;">0.9817000</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="keras-model" class="slide level2">
<h2><code>keras</code> model</h2>
<ul>
<li>This particular Keras model overfits the MNIST data, with a final accuracy of 98% and loss of 7%. <!-- ã“ã®ç‰¹å®šã®Kerasãƒ¢ãƒ‡ãƒ«ã¯ã€MNISTãƒ‡ãƒ¼ã‚¿ã«éŽå­¦ç¿’ã—ã¦ãŠã‚Šã€æœ€çµ‚çš„ãªç²¾åº¦ã¯98%ã€æå¤±ã¯7%ã§ã‚ã‚‹ã€‚ --></li>
</ul>
<p>Machine learning is a vast and rapidly evolving field. <!-- æ©Ÿæ¢°å­¦ç¿’ã¯åºƒå¤§ã§æ€¥é€Ÿã«é€²åŒ–ã—ã¦ã„ã‚‹åˆ†é‡Žã§ã‚ã‚‹ã€‚ --> It is increasingly for the analysis of social network and other text based intelligence required for the analytical review portion (and other parts) of the audit. <!-- ç›£æŸ»ã®åˆ†æžçš„ãƒ¬ãƒ“ãƒ¥ãƒ¼éƒ¨åˆ†ï¼ˆãŠã‚ˆã³ãã®ä»–ã®éƒ¨åˆ†ï¼‰ã«å¿…è¦ãªã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚„ãã®ä»–ã®ãƒ†ã‚­ã‚¹ãƒˆãƒ™ãƒ¼ã‚¹ã®çŸ¥èƒ½ã®åˆ†æžã«ã¾ã™ã¾ã™å¿…è¦ã¨ã•ã‚Œã¦ã„ã‚‹ã€‚ --> In the future, expect its role in auditing to expand, as suitable models are developed in the field. <!-- å°†æ¥çš„ã«ã¯ã€é©åˆ‡ãªãƒ¢ãƒ‡ãƒ«ãŒé–‹ç™ºã•ã‚Œã‚‹ã«ã¤ã‚Œã¦ã€ç›£æŸ»ã«ãŠã‘ã‚‹å½¹å‰²ãŒæ‹¡å¤§ã™ã‚‹ã“ã¨ãŒäºˆæƒ³ã•ã‚Œã‚‹ã€‚ --></p>
<!-- ##
Statistical Perspectives on Audit Evidence and its Information Content
-->
<!-- ## ç›£æŸ»è¨¼æ‹ ã®çµ±è¨ˆçš„å´é¢ã¨æƒ…å ±å†…å®¹ -->
</section></section>
<section>
<section id="statistical-perspectives-on-audit-evidence-and-its-information-content" class="title-slide slide level1 center">
<h1>Statistical Perspectives on Audit Evidence and its Information Content</h1>

</section>
<section id="è£œè¶³" class="slide level2">
<h2>è£œè¶³</h2>
<p>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒ<span class="math inline">\theta</span>ã§ã‚ã‚‹æ¯é›†å›£ã®å¾“ã†åˆ†å¸ƒã®ç¢ºçŽ‡å¯†åº¦é–¢æ•°ã‚’<span class="math inline">f(x \mid \theta)</span>ã¨ã™ã‚‹ã€‚ ãã®ã¨ãï¼Œå°¤åº¦é–¢æ•°ã¯ï¼Œ</p>
<p><span class="math display">
L (\theta) = f(x \mid \theta)
</span></p>
<p>ã¨ãªã‚Šï¼Œå¯¾æ•°å°¤åº¦é–¢æ•°ã¯ï¼Œ</p>
<p><span class="math display">
l (\theta) = \log L(\theta)
</span></p>
<p>ã¨ãªã‚Šï¼Œã‚¹ã‚³ã‚¢é–¢æ•°ã¯ï¼Œ</p>
<p><span class="math display">
\frac{\partial}{\partial \theta} \log l (\theta)
</span></p>
<p>ã¨å®šç¾©ã•ã‚Œã¾ã™ã€‚</p>
</section>
<section id="support-and-the-additivity-of-evidence-the-log-likelihood" class="slide level2">
<h2>Support and the Additivity of Evidence: The Log-Likelihood</h2>
<!-- ### ç›£æŸ»è¨¼æ‹ ã®ã‚µãƒãƒ¼ãƒˆã¨è¿½åŠ å¯èƒ½æ€§ï¼šå¯¾æ•°å°¤åº¦ -->
<ul>
<li>The log-likelihood has an intuitive interpretation, as suggested by the term <strong>â€œsupport</strong>.â€ <!-- wikiã‹ã‚‰ã®ã‚³ãƒ”ãƒš --> <!-- å¯¾æ•°å°¤åº¦ã«ã¯ã€ã€Œã‚µãƒãƒ¼ãƒˆã€ã¨ã„ã†ç”¨èªžãŒç¤ºã™ã‚ˆã†ã«ã€ç›´æ„Ÿçš„ãªè§£é‡ˆãŒã‚ã‚‹ã€‚ --></li>
<li>Given independent events, the overall log-likelihood is the sum of the log-likelihoods of the individual events, just as the overall log-probability is the sum of the log-probability of the individual events. <!-- wiki likelihood functionã‹ã‚‰ ã‚³ãƒ”ãƒš --> <!-- ç‹¬ç«‹ã—ãŸäº‹è±¡ãŒä¸Žãˆã‚‰ã‚ŒãŸã¨ãã€å…¨ä½“ã®å¯¾æ•°å°¤åº¦ã¯å€‹ã€…ã®äº‹è±¡ã®å¯¾æ•°å°¤åº¦ã®å’Œã§ã‚ã‚Šã€å…¨ä½“ã®å¯¾æ•°ç¢ºçŽ‡ã¯å€‹ã€…ã®äº‹è±¡ã®å¯¾æ•°ç¢ºçŽ‡ã®å’Œã§ã‚ã‚‹ã€‚ --></li>
<li>Viewing data as evidence, this is interpreted as â€œsupport from independent evidence adds,â€ and the log-likelihood is the â€œ<em>weight of evidence</em>.â€ <!-- wiki likelihood functionã‹ã‚‰ ã‚³ãƒ”ãƒš --> <!-- ãƒ‡ãƒ¼ã‚¿ã‚’è¨¼æ‹ ã¨ã—ã¦è¦‹ã‚‹ã¨ã€ã“ã‚Œã¯ã€Œç‹¬ç«‹ã—ãŸè¨¼æ‹ ã‹ã‚‰ã®ã‚µãƒãƒ¼ãƒˆãŒåŠ ã‚ã‚‹ã€ã¨è§£é‡ˆã•ã‚Œã€å¯¾æ•°å°¤åº¦ã¯ã€Œè¨¼æ‹ ã®é‡ã¿ã€ã¨ãªã‚‹ã€‚ --></li>
<li>Interpreting <em>negative log-probability</em> as <em>information content</em>, log-likelihood of a model, given an event, is the negative of the surprisal of the event, given the model <!-- a model is supported by an event to the extent that the event is unsurprising, given the model. --> <!-- - wikiã‹ã‚‰å®Œã‚³ãƒ” --> <!-- è² ã®å¯¾æ•°ç¢ºçŽ‡ã‚’æƒ…å ±é‡ã‚„é©šãã¨ã—ã¦è§£é‡ˆã™ã‚‹ã¨ã€ã‚ã‚‹äº‹è±¡ãŒä¸Žãˆã‚‰ã‚ŒãŸã¨ãã®ãƒ¢ãƒ‡ãƒ«ã®ã‚µãƒãƒ¼ãƒˆï¼ˆå¯¾æ•°å°¤åº¦ï¼‰ã¯ã€ãã®ãƒ¢ãƒ‡ãƒ«æ‰€ä¸Žã¨ã—ãŸã¨ãã®ï¼Œå½“è©²äº‹è±¡ã®æ„å¤–æ€§ï¼ˆè² ã®å¯¾æ•°ç¢ºçŽ‡ï¼‰ã®è² ã®å€¤ã¨ãªã‚‹ã€‚ --> <!-- ã¤ã¾ã‚Šï¼Œãã®ãƒ¢ãƒ‡ãƒ«ã‚’æ‰€ä¸Žã¨ã—ã¦ï¼Œå½“è©²äº‹è±¡ãŒé©šãã¹ãã‚‚ã®ã§ã¯ãªã„ç¯„å›²ã§ï¼Œãƒ¢ãƒ‡ãƒ«ã¯äº‹è±¡ã«ã‚ˆã£ã¦ã‚µãƒãƒ¼ãƒˆã•ã‚Œã‚‹ã€‚ --> <!-- Just as the likelihood, given no event, being 1, the log-likelihood, given no event, is 0, which corresponds to the value of the empty sum: without any data, there is no support for any models. wikiã‹ã‚‰å®Œã‚³ãƒ” --> <!-- äº‹è±¡ãŒãªã„å ´åˆã®å°¤åº¦ãŒ1ã§ã‚ã‚‹ã‚ˆã†ã«ã€äº‹è±¡ãŒãªã„å ´åˆã®å¯¾æ•°å°¤åº¦ã¯0ã§ã‚ã‚Šã€ã“ã‚Œã¯ç©ºã®å’Œã®å€¤ã«å¯¾å¿œã™ã‚‹: ãƒ‡ãƒ¼ã‚¿ãŒãªã„å ´åˆã€ã©ã®ãƒ¢ãƒ‡ãƒ«ã«ã‚‚ã‚µãƒãƒ¼ãƒˆã¯ãªã„ã€‚ --> <!-- The log-likelihood is particularly convenient for maximum likelihood estimation. --> <!-- å¯¾æ•°å°¤åº¦ã¯ã€æœ€å°¤æŽ¨å®šã«ç‰¹ã«ä¾¿åˆ©ã§ã‚ã‚‹ã€‚ --> <!-- Because logarithms are strictly increasing functions, maximizing the likelihood is equivalent to maximizing the log-likelihood. --> <!-- å¯¾æ•°ã¯å˜èª¿å¢—åŠ é–¢æ•°ã§ã‚ã‚‹ãŸã‚ã€å°¤åº¦ã‚’æœ€å¤§åŒ–ã™ã‚‹ã“ã¨ã¯å¯¾æ•°å°¤åº¦ã‚’æœ€å¤§åŒ–ã™ã‚‹ã“ã¨ã¨åŒã˜ã§ã‚ã‚‹ã€‚ --> <!-- Since concavity plays a key role in the maximization, and since most common probability distributionsâ€”in particular the exponential familyâ€”are only logarithmically concave, it is usually more convenient to work with a logarithmic transformation of the likelihood function, known as the log-likelihood function. --> <!-- å‡¹æ€§ã¯æœ€å¤§åŒ–ã«ãŠã„ã¦é‡è¦ãªå½¹å‰²ã‚’æžœãŸã™ãŒã€ä¸€èˆ¬çš„ãªç¢ºçŽ‡åˆ†å¸ƒã€ç‰¹ã«æŒ‡æ•°æ—ã¯å¯¾æ•°çš„ã«å‡¹ã§ã‚ã‚‹ãŸã‚ã€å¯¾æ•°å°¤åº¦é–¢æ•°ã¨ã—ã¦çŸ¥ã‚‰ã‚Œã‚‹å°¤åº¦é–¢æ•°ã®å¯¾æ•°å¤‰æ›ã§ä½œæ¥­ã™ã‚‹æ–¹ãŒä¾¿åˆ©ã§ã‚ã‚‹ã€‚ --></li>
</ul>
</section>
<section id="the-score" class="slide level2">
<h2>The â€œScoreâ€ã€€</h2>
<!-- #### ã“ã“å®Œå…¨ã«è‹±èªžç‰ˆwikipediaã®æ–‡ç« ã®ã‚³ãƒ”ãƒš (ã‚ã¨ã§æ¶ˆã™) -->
<ul>
<li>In statistics, the <strong>score</strong> (or informant) is the gradient of the <em>log-likelihood function</em> with respect to the parameter vector. <!-- çµ±è¨ˆå­¦ã«ãŠã„ã¦ã€ã‚¹ã‚³ã‚¢ï¼ˆã¾ãŸã¯ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒžãƒ³ãƒˆï¼‰ã¯ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ™ã‚¯ãƒˆãƒ«ã«é–¢ã™ã‚‹å¯¾æ•°å°¤åº¦é–¢æ•°ã®å‹¾é…ã§ã‚ã‚‹ã€‚ --></li>
<li>Evaluated at a particular point, the score indicates the steepness of the log-likelihood function and thereby the sensitivity to infinitesimal changes to the parameter values. <!-- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ™ã‚¯ãƒˆãƒ«ã®ç‰¹å®šã®ç‚¹ã§è©•ä¾¡ã•ã‚Œã‚‹ã‚¹ã‚³ã‚¢ã¯ã€å¯¾æ•°å°¤åº¦é–¢æ•°ã®æ€¥å‹¾é…ã‚’ç¤ºã—ã€ãã‚Œã«ã‚ˆã£ã¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å€¤ã®å¾®å°ãªå¤‰åŒ–ã«å¯¾ã™ã‚‹æ„Ÿåº¦ã‚’ç¤ºã™ã€‚ --></li>
<li>If the log-likelihood function is continuous over the parameter space, the score will vanish at a local maximum or minimum; this fact is used in maximum likelihood estimation to find the parameter values that maximize the likelihood function. <!-- å¯¾æ•°å°¤åº¦é–¢æ•°ãŒãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç©ºé–“ä¸Šã§é€£ç¶šã§ã‚ã‚‹å ´åˆã€ã‚¹ã‚³ã‚¢ã¯å±€æ‰€çš„ãªæœ€å¤§å€¤ã¾ãŸã¯æœ€å°å€¤ã§æ¶ˆæ»…ã™ã‚‹ã€‚ --> <!-- ã“ã®äº‹å®Ÿã¯ã€æœ€å°¤æŽ¨å®šã«ãŠã„ã¦å°¤åº¦é–¢æ•°ã‚’æœ€å¤§åŒ–ã™ã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å€¤ã‚’è¦‹ã¤ã‘ã‚‹ãŸã‚ã«ç”¨ã„ã‚‰ã‚Œã¦ã„ã‚‹ã€‚ --></li>
<li>Since the score is a function of the observations that are subject to sampling error, it lends itself to a test statistic known as score test in which the parameter is held at a particular value. <!-- ã‚¹ã‚³ã‚¢ã¯ã€ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°èª¤å·®ã®å½±éŸ¿ã‚’å—ã‘ã‚‹è¦³æ¸¬å€¤ã®é–¢æ•°ã§ã‚ã‚‹ãŸã‚ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ç‰¹å®šã®å€¤ã«ä¿æŒã™ã‚‹ã‚¹ã‚³ã‚¢æ¤œå®šã¨ã—ã¦çŸ¥ã‚‰ã‚Œã‚‹æ¤œå®šçµ±è¨ˆé‡ã«é©ã—ã¦ã„ã‚‹ã€‚ --> <!-- Further, the ratio of two likelihood functions evaluated at two distinct parameter values can be understood as a definite integral of the score function. --> <!-- ã•ã‚‰ã«ã€2ã¤ã®ç•°ãªã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å€¤ã§è©•ä¾¡ã•ã‚ŒãŸ2ã¤ã®å°¤åº¦é–¢æ•°ã®æ¯”ã¯ã€ã‚¹ã‚³ã‚¢é–¢æ•°ã®å®šç©åˆ†ã¨ã—ã¦ç†è§£ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ --></li>
</ul>
<!-- ### ãƒ•ã‚£ãƒƒã‚·ãƒ£ãƒ¼æƒ…å ±é‡ -->
</section>
<section id="fisher-information" class="slide level2">
<h2>Fisher Information</h2>
<ul>
<li>In mathematical statistics, the Fisher information (sometimes simply called information) is a way of measuring the amount of information that an observable random variable <span class="math inline">X</span> carries about an unknown parameter <span class="math inline">\theta</span> of a distribution that models <span class="math inline">X</span>. <!-- æ•°ç†çµ±è¨ˆå­¦ã«ãŠã„ã¦ã€ãƒ•ã‚£ãƒƒã‚·ãƒ£ãƒ¼æƒ…å ±é‡ï¼ˆå˜ã«æƒ…å ±é‡ã¨ã‚ˆã°ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚‹ï¼‰ã¯ã€è¦³æ¸¬å¯èƒ½ãªç¢ºçŽ‡å¤‰æ•°$X$ãŒ$X$ã‚’ãƒ¢ãƒ‡ãƒ«åŒ–ã™ã‚‹åˆ†å¸ƒã®æœªçŸ¥ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿$\theta$ã«ã¤ã„ã¦ã©ã‚Œã ã‘ã®æƒ…å ±ã‚’æŒã£ã¦ã„ã‚‹ã‹ã‚’æ¸¬å®šã™ã‚‹æ–¹æ³•ã§ã‚ã‚‹ã€‚ --></li>
<li>Formally, it is the variance of fthe score, or the expected value of the observed information. <!-- åŽ³å¯†ã«ã¯ã€ãƒ•ã‚£ãƒƒã‚·ãƒ£ãƒ¼æƒ…å ±é‡ã¯ã‚¹ã‚³ã‚¢ã®åˆ†æ•£ã€ã¾ãŸã¯è¦³æ¸¬æƒ…å ±ã®æœŸå¾…å€¤ã§ã‚ã‚‹ã€‚ --> <!-- In Bayesian statistics, the asymptotic distribution of the posterior mode depends on the Fisher information and not on the prior (according to the Bernsteinâ€“von Mises theorem, which was anticipated by Laplace for exponential families). --> <!-- xlindoã®ã‚³ãƒ”ãƒšã¨wikipediaã®ã‚³ãƒ”ãƒš --> <!-- ãƒ™ã‚¤ã‚ºçµ±è¨ˆå­¦ã§ã¯ã€äº‹å¾Œãƒ¢ãƒ¼ãƒ‰ã®æ¼¸è¿‘åˆ†å¸ƒã¯äº‹å‰åˆ†å¸ƒã«ä¾å­˜ã›ãšã€ãƒ•ã‚£ãƒƒã‚·ãƒ£ãƒ¼æƒ…å ±é‡ã«ä¾å­˜ã™ã‚‹ï¼ˆæŒ‡æ•°æ—ã«å¯¾ã—ã¦ãƒ©ãƒ—ãƒ©ã‚¹ã«ã‚ˆã£ã¦äºˆæƒ³ã•ã‚ŒãŸBernsteinâ€“von Misesã®å®šç†ã«ã‚ˆã‚‹ï¼‰ã€‚ --> <!-- The role of the Fisher information in the asymptotic theory of maximum likelihood estimation was emphasized by the statistician Ronald Fisher (following some initial results by Francis Ysidro Edgeworth).  wikiã®ã‚³ãƒ”ãƒš --> <!-- çµ±è¨ˆå­¦è€…ã®ãƒ­ãƒŠãƒ«ãƒ‰ãƒ»ãƒ•ã‚£ãƒƒã‚·ãƒ£ãƒ¼ã¯ã€ï¼ˆãƒ•ãƒ©ãƒ³ã‚·ã‚¹ãƒ»ã‚¤ã‚·ãƒ‰ãƒ­ãƒ»ã‚¨ãƒƒã‚¸ãƒ¯ãƒ¼ã‚¹ã«ã‚ˆã‚‹åˆæœŸã®çµæžœã«ç¶šã„ã¦ï¼‰æœ€å°¤æŽ¨å®šã®æ¼¸è¿‘ç†è«–ã«ãŠã‘ã‚‹ãƒ•ã‚£ãƒƒã‚·ãƒ£ãƒ¼æƒ…å ±é‡ã®å½¹å‰²ã‚’å¼·èª¿ã—ãŸã€‚ --> <!-- The Fisher information is also used in the calculation of the Jeffreys prior, which is used in Bayesian statistics. --> <!-- ãƒ•ã‚£ãƒƒã‚·ãƒ£ãƒ¼æƒ…å ±é‡ã¯ã€ãƒ™ã‚¤ã‚ºçµ±è¨ˆå­¦ã§ä½¿ç”¨ã•ã‚Œã‚‹ã‚¸ã‚§ãƒ•ãƒªãƒ¼ã‚ºäº‹å‰åˆ†å¸ƒ(Jefferrys prior)ã®è¨ˆç®—ã«ã‚‚ä½¿ç”¨ã•ã‚Œã‚‹ã€‚ --> <!-- The Fisher-information matrix is used to calculate the covariance matrices associated with maximum likelihood estimates. wikiã‚³ãƒ”ãƒš --> <!-- ãƒ•ã‚£ãƒƒã‚·ãƒ£ãƒ¼æƒ…å ±é‡è¡Œåˆ—ã¯ã€æœ€å°¤æŽ¨å®šã«é–¢é€£ã™ã‚‹å…±åˆ†æ•£è¡Œåˆ—ã‚’è¨ˆç®—ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã‚‹ã€‚ --> <!-- It can also be used in the formulation of test statistics, such as the Wald test. wikiã‚³ãƒ”ãƒš--> <!-- ãƒ•ã‚£ãƒƒã‚·ãƒ£ãƒ¼æƒ…å ±é‡ã¯ã€ãƒ¯ãƒ«ãƒ‰æ¤œå®šãªã©ã®æ¤œå®šçµ±è¨ˆé‡ã®å®šå¼åŒ–ã«ã‚‚ä½¿ç”¨ã§ãã‚‹ã€‚ --> <!-- Statistical systems of a scientific nature (physical, biological, etc.) whose likelihood functions obey shift invariance have been shown to obey maximum Fisher information.  wikiã‚³ãƒ”ãƒš--> <!-- æœ€å°¤é–¢æ•°ãŒã‚·ãƒ•ãƒˆä¸å¤‰æ€§ã‚’æº€ãŸã™ç§‘å­¦çš„ãªçµ±è¨ˆã‚·ã‚¹ãƒ†ãƒ ï¼ˆç‰©ç†çš„ã€ç”Ÿç‰©å­¦çš„ãªã©ï¼‰ã¯ã€æœ€å¤§ãƒ•ã‚£ãƒƒã‚·ãƒ£ãƒ¼æƒ…å ±é‡ã‚’æº€ãŸã™ã“ã¨ãŒç¤ºã•ã‚Œã¦ã„ã‚‹ã€‚ --> <!-- The level of the maximum depends upon the nature of the system constraints. wikiã‚³ãƒ”ãƒš --> <!-- æœ€å¤§å€¤ã®æ°´æº–ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ã®åˆ¶ç´„ã®æ€§è³ªã«ã‚ˆã£ã¦ç•°ãªã‚‹ã€‚ --></li>
<li>The Fisher information is a way of measuring the amount of information that an observable random variable <span class="math inline">X</span> carries about an unknown parameter $$ upon which the probability of <span class="math inline">X</span> depends. <!-- ãƒ•ã‚£ãƒƒã‚·ãƒ£ãƒ¼æƒ…å ±é‡ã¯ã€è¦³æ¸¬å¯èƒ½ãªç¢ºçŽ‡å¤‰æ•°$X$ãŒ$X$ã®ç¢ºçŽ‡ã«ä¾å­˜ã™ã‚‹æœªçŸ¥ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿$\theta$ã«ã¤ã„ã¦ã©ã‚Œã ã‘ã®æƒ…å ±ã‚’æŒã£ã¦ã„ã‚‹ã‹ã‚’æ¸¬å®šã™ã‚‹æ–¹æ³•ã§ã‚ã‚‹ã€‚ --> <!-- Let f(X; Î¸) be the probability density function (or probability mass function) for X conditional on the value of Î¸.  --> <!-- $f(X; \theta)$ã‚’ã€$\theta$ã®å€¤ã«æ¡ä»¶ä»˜ã‘ã‚‰ã‚ŒãŸ$X$ã®ç¢ºçŽ‡å¯†åº¦é–¢æ•°ï¼ˆã¾ãŸã¯ç¢ºçŽ‡è³ªé‡é–¢æ•°ï¼‰ã§ã‚ã‚‹ã¨ã—ã‚ˆã†ã€‚ --> <!-- It describes the probability that we observe a given outcome of X, given a known value of Î¸.  --> <!-- ã“ã‚Œã¯ã€æ—¢çŸ¥ã®å€¤$\theta$ãŒä¸Žãˆã‚‰ã‚ŒãŸã¨ãã€$X$ã®ç‰¹å®šã®å€¤ã‚’è¦³æ¸¬ã™ã‚‹ç¢ºçŽ‡ã‚’è¡¨ã—ã¦ã„ã‚‹ã€‚ --> <!-- If f is sharply peaked with respect to changes in Î¸, it is easy to indicate the â€œcorrectâ€ value of Î¸ from the data, or equivalently, that the data X provides a lot of information about the parameter Î¸.  --> <!-- $f$ãŒ$\theta$ã®å¤‰åŒ–ã«å¯¾ã—ã¦é‹­ã„ãƒ”ãƒ¼ã‚¯ã‚’ãªã—ã¦ã„ã‚‹å ´åˆã€ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ã€Œæ­£ã—ã„ã€$\theta$ã®å€¤ã‚’ç¤ºã™ã“ã¨ã¯å®¹æ˜“ã§ã‚ã‚Šã€åŒæ§˜ã«ã€ãƒ‡ãƒ¼ã‚¿$X$ãŒãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿$\theta$ã«ã¤ã„ã¦å¤šãã®æƒ…å ±ã‚’æä¾›ã—ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚‹ã€‚ --> <!-- If the likelihood f is flat and spread out, then it would take many samples like of X to estimate the actual â€œtrueâ€ value of Î¸ that would be obtained using the entire population being sampled. --> <!-- å°¤åº¦$f$ãŒå¹³å¦ã§åºƒãŒã£ã¦ã„ã‚‹å ´åˆã€$X$ã®ã‚ˆã†ãªå¤šãã®ã‚µãƒ³ãƒ—ãƒ«ãŒå¿…è¦ã¨ãªã‚‹ã€‚ã“ã‚Œã¯ã€ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã•ã‚Œã‚‹æ¯é›†å›£ã‚’ç”¨ã„ã‚‹ã“ã¨ã§å¾—ã‚‰ã‚Œã‚‹å®Ÿéš›ã®ã€ŒçœŸã®ã€ã®å€¤$\theta$ã‚’æŽ¨å®šã™ã‚‹ãŸã‚ã«å¿…è¦ã¨ãªã‚‹ã€‚ --></li>
</ul>
<div class="quarto-auto-generated-content">
<p><img src="img/kobe_logo.png" class="slide-logo"></p>
<div class="footer footer-default">
<p>Kobe University, Business Administration</p>
</div>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="gaisho_2024_03_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="gaisho_2024_03_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="gaisho_2024_03_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="gaisho_2024_03_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="gaisho_2024_03_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="gaisho_2024_03_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="gaisho_2024_03_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="gaisho_2024_03_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="gaisho_2024_03_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="gaisho_2024_03_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': false,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'convex',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1400,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        // For code content inside modals, clipBoardJS needs to be initialized with a container option
        // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    <script type="module">
    // Handle cell initialization initialization
    qwebrCellDetails.map(
      (entry) => {
        // Handle the creation of the element
        qwebrCreateHTMLElement(entry);
        // In the event of interactive, initialize the monaco editor
        if (entry.options.context == EvalTypes.Interactive) {
          qwebrCreateMonacoEditorInstance(entry);
        }
      }
    );

    // Identify non-interactive cells (in order)
    const filteredEntries = qwebrCellDetails.filter(entry => {
      const contextOption = entry.options && entry.options.context;
      return ['output', 'setup'].includes(contextOption) || (contextOption == "interactive" && entry.options && entry.options.autorun === 'true');
    });

    // Condition non-interactive cells to only be run after webR finishes its initialization.
    qwebrInstance.then(
      async () => {
        const nHiddenCells = filteredEntries.length;
        var currentHiddenCell = 0;


        // Modify button state
        qwebrSetInteractiveButtonState(`ðŸŸ¡ Running hidden code cells ...`, false);

        // Begin processing non-interactive sections
        // Due to the iteration policy, we must use a for() loop.
        // Otherwise, we would need to switch to using reduce with an empty
        // starting promise
        for (const entry of filteredEntries) {

          // Determine cell being examined
          currentHiddenCell = currentHiddenCell + 1;
          const formattedMessage = `Evaluating hidden cell ${currentHiddenCell} out of ${nHiddenCells}`;

          // Update the document status header
          if (qwebrShowStartupMessage) {
            qwebrUpdateStatusHeader(formattedMessage);
          }

          // Display the update in non-active areas
          qwebrUpdateStatusMessage(formattedMessage);

          // Extract details on the active cell
          const evalType = entry.options.context;
          const cellCode = entry.code;
          const qwebrCounter = entry.id;

          if (['output', 'setup'].includes(evalType)) {
            // Disable further global status updates
            const activeContainer = document.getElementById(`qwebr-non-interactive-loading-container-${qwebrCounter}`);
            activeContainer.classList.remove('qwebr-cell-needs-evaluation');
            activeContainer.classList.add('qwebr-cell-evaluated');

            // Update status on the code cell
            const activeStatus = document.getElementById(`qwebr-status-text-${qwebrCounter}`);
            activeStatus.innerText = " Evaluating hidden code cell...";
            activeStatus.classList.remove('qwebr-cell-needs-evaluation');
            activeStatus.classList.add('qwebr-cell-evaluated');
          }

          switch (evalType) {
            case 'interactive':
              // TODO: Make this more standardized.
              // At the moment, we're overriding the interactive status update by pretending its
              // output-like. 
              const tempOptions = entry.options;
              tempOptions["context"] = "output"
              // Run the code in a non-interactive state that is geared to displaying output
              await qwebrExecuteCode(`${cellCode}`, qwebrCounter, tempOptions);
              break;
            case 'output':
              // Run the code in a non-interactive state that is geared to displaying output
              await qwebrExecuteCode(`${cellCode}`, qwebrCounter, entry.options);
              break;
            case 'setup':
              const activeDiv = document.getElementById(`qwebr-noninteractive-setup-area-${qwebrCounter}`);

              // Store code in history
              qwebrLogCodeToHistory(cellCode, entry.options);

              // Run the code in a non-interactive state with all output thrown away
              await mainWebR.evalRVoid(`${cellCode}`);
              break;
            default: 
              break; 
          }

          if (['output', 'setup'].includes(evalType)) {
            // Disable further global status updates
            const activeContainer = document.getElementById(`qwebr-non-interactive-loading-container-${qwebrCounter}`);
            // Disable visibility
            activeContainer.style.visibility = 'hidden';
            activeContainer.style.display = 'none';
          }
        }
      }
    ).then(
      () => {
        // Release document status as ready

        if (qwebrShowStartupMessage) {
          qwebrStartupMessage.innerText = "ðŸŸ¢ Ready!"
        }
      
        qwebrSetInteractiveButtonState(
          `<i class="fa-solid fa-play qwebr-icon-run-code"></i> <span>Run Code</span>`, 
          true
        );  
      }
    );
    </script>
    

</body></html>